var pg=t=>{throw TypeError(t)};var Nd=(t,e,n)=>e.has(t)||pg("Cannot "+n);var B=(t,e,n)=>(Nd(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?pg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_e=(t,e,n,r)=>(Nd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wt=(t,e,n)=>(Nd(t,e,"access private method"),n);var Gl=(t,e,n,r)=>({set _(o){_e(t,e,o,n)},get _(){return B(t,e,r)}});function $1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u_={exports:{}},xc={},c_={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=Symbol.for("react.element"),B1=Symbol.for("react.portal"),F1=Symbol.for("react.fragment"),U1=Symbol.for("react.strict_mode"),W1=Symbol.for("react.profiler"),Z1=Symbol.for("react.provider"),V1=Symbol.for("react.context"),H1=Symbol.for("react.forward_ref"),q1=Symbol.for("react.suspense"),G1=Symbol.for("react.memo"),K1=Symbol.for("react.lazy"),mg=Symbol.iterator;function Y1(t){return t===null||typeof t!="object"?null:(t=mg&&t[mg]||t["@@iterator"],typeof t=="function"?t:null)}var d_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h_=Object.assign,f_={};function Ao(t,e,n){this.props=t,this.context=e,this.refs=f_,this.updater=n||d_}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p_(){}p_.prototype=Ao.prototype;function Xf(t,e,n){this.props=t,this.context=e,this.refs=f_,this.updater=n||d_}var ep=Xf.prototype=new p_;ep.constructor=Xf;h_(ep,Ao.prototype);ep.isPureReactComponent=!0;var gg=Array.isArray,m_=Object.prototype.hasOwnProperty,tp={current:null},g_={key:!0,ref:!0,__self:!0,__source:!0};function v_(t,e,n){var r,o={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)m_.call(e,r)&&!g_.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:ml,type:t,key:i,ref:a,props:o,_owner:tp.current}}function Q1(t,e){return{$$typeof:ml,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function np(t){return typeof t=="object"&&t!==null&&t.$$typeof===ml}function J1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vg=/\/+/g;function Md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?J1(""+t.key):e.toString(36)}function xu(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ml:case B1:a=!0}}if(a)return a=t,o=o(a),t=r===""?"."+Md(a,0):r,gg(o)?(n="",t!=null&&(n=t.replace(vg,"$&/")+"/"),xu(o,e,n,"",function(h){return h})):o!=null&&(np(o)&&(o=Q1(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(vg,"$&/")+"/")+t)),e.push(o)),1;if(a=0,r=r===""?".":r+":",gg(t))for(var u=0;u<t.length;u++){i=t[u];var c=r+Md(i,u);a+=xu(i,e,n,c,o)}else if(c=Y1(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=r+Md(i,u++),a+=xu(i,e,n,c,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Kl(t,e,n){if(t==null)return t;var r=[],o=0;return xu(t,r,"","",function(i){return e.call(n,i,o++)}),r}function X1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},bu={transition:null},ek={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:bu,ReactCurrentOwner:tp};function y_(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Kl,forEach:function(t,e,n){Kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kl(t,function(){e++}),e},toArray:function(t){return Kl(t,function(e){return e})||[]},only:function(t){if(!np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Ao;Ce.Fragment=F1;Ce.Profiler=W1;Ce.PureComponent=Xf;Ce.StrictMode=U1;Ce.Suspense=q1;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ek;Ce.act=y_;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h_({},t.props),o=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=tp.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)m_.call(e,c)&&!g_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:ml,type:t.type,key:o,ref:i,props:r,_owner:a}};Ce.createContext=function(t){return t={$$typeof:V1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Z1,_context:t},t.Consumer=t};Ce.createElement=v_;Ce.createFactory=function(t){var e=v_.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:H1,render:t}};Ce.isValidElement=np;Ce.lazy=function(t){return{$$typeof:K1,_payload:{_status:-1,_result:t},_init:X1}};Ce.memo=function(t,e){return{$$typeof:G1,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=bu.transition;bu.transition={};try{t()}finally{bu.transition=e}};Ce.unstable_act=y_;Ce.useCallback=function(t,e){return Mt.current.useCallback(t,e)};Ce.useContext=function(t){return Mt.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return Mt.current.useEffect(t,e)};Ce.useId=function(){return Mt.current.useId()};Ce.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return Mt.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};Ce.useRef=function(t){return Mt.current.useRef(t)};Ce.useState=function(t){return Mt.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return Mt.current.useTransition()};Ce.version="18.3.1";c_.exports=Ce;var P=c_.exports;const G=Jf(P),__=$1({__proto__:null,default:G},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk=P,nk=Symbol.for("react.element"),rk=Symbol.for("react.fragment"),ik=Object.prototype.hasOwnProperty,sk=tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ok={key:!0,ref:!0,__self:!0,__source:!0};function w_(t,e,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)ik.call(e,r)&&!ok.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:nk,type:t,key:i,ref:a,props:o,_owner:sk.current}}xc.Fragment=rk;xc.jsx=w_;xc.jsxs=w_;u_.exports=xc;var C=u_.exports,x_={exports:{}},rn={},b_={exports:{}},k_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var z=M.length;M.push(U);e:for(;0<z;){var Y=z-1>>>1,Q=M[Y];if(0<o(Q,U))M[Y]=U,M[z]=Q,z=Y;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var U=M[0],z=M.pop();if(z!==U){M[0]=z;e:for(var Y=0,Q=M.length,oe=Q>>>1;Y<oe;){var se=2*(Y+1)-1,fe=M[se],ue=se+1,be=M[ue];if(0>o(fe,z))ue<Q&&0>o(be,fe)?(M[Y]=be,M[ue]=z,Y=ue):(M[Y]=fe,M[se]=z,Y=se);else if(ue<Q&&0>o(be,z))M[Y]=be,M[ue]=z,Y=ue;else break e}}return U}function o(M,U){var z=M.sortIndex-U.sortIndex;return z!==0?z:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],p=1,m=null,g=3,v=!1,w=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(M){for(var U=n(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=M)r(h),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(h)}}function T(M){if(_=!1,k(M),!w)if(n(c)!==null)w=!0,te(R);else{var U=n(h);U!==null&&le(T,U.startTime-M)}}function R(M,U){w=!1,_&&(_=!1,b(I),I=-1),v=!0;var z=g;try{for(k(U),m=n(c);m!==null&&(!(m.expirationTime>U)||M&&!K());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,g=m.priorityLevel;var Q=Y(m.expirationTime<=U);U=t.unstable_now(),typeof Q=="function"?m.callback=Q:m===n(c)&&r(c),k(U)}else r(c);m=n(c)}if(m!==null)var oe=!0;else{var se=n(h);se!==null&&le(T,se.startTime-U),oe=!1}return oe}finally{m=null,g=z,v=!1}}var A=!1,j=null,I=-1,F=5,$=-1;function K(){return!(t.unstable_now()-$<F)}function H(){if(j!==null){var M=t.unstable_now();$=M;var U=!0;try{U=j(!0,M)}finally{U?he():(A=!1,j=null)}}else A=!1}var he;if(typeof x=="function")he=function(){x(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ge=V.port2;V.port1.onmessage=H,he=function(){ge.postMessage(null)}}else he=function(){E(H,0)};function te(M){j=M,A||(A=!0,he())}function le(M,U){I=E(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,te(R))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var z=g;g=U;try{return M()}finally{g=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=g;g=M;try{return U()}finally{g=z}},t.unstable_scheduleCallback=function(M,U,z){var Y=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,M){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,M={id:p++,callback:U,priorityLevel:M,startTime:z,expirationTime:Q,sortIndex:-1},z>Y?(M.sortIndex=z,e(h,M),n(c)===null&&M===n(h)&&(_?(b(I),I=-1):_=!0,le(T,z-Y))):(M.sortIndex=Q,e(c,M),w||v||(w=!0,te(R))),M},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(M){var U=g;return function(){var z=g;g=U;try{return M.apply(this,arguments)}finally{g=z}}}})(k_);b_.exports=k_;var ak=b_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk=P,tn=ak;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S_=new Set,Ma={};function fs(t,e){_o(t,e),_o(t+"Capture",e)}function _o(t,e){for(Ma[t]=e,t=0;t<e.length;t++)S_.add(e[t])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eh=Object.prototype.hasOwnProperty,uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yg={},_g={};function ck(t){return Eh.call(_g,t)?!0:Eh.call(yg,t)?!1:uk.test(t)?_g[t]=!0:(yg[t]=!0,!1)}function dk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hk(t,e,n,r){if(e===null||typeof e>"u"||dk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,n,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var rp=/[\-:]([a-z])/g;function ip(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rp,ip);yt[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rp,ip);yt[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rp,ip);yt[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function sp(t,e,n,r){var o=yt.hasOwnProperty(e)?yt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hk(e,n,o,r)&&(n=null),r||o===null?ck(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ir=lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yl=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),op=Symbol.for("react.strict_mode"),Ch=Symbol.for("react.profiler"),E_=Symbol.for("react.provider"),C_=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),Ph=Symbol.for("react.suspense"),Th=Symbol.for("react.suspense_list"),lp=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),P_=Symbol.for("react.offscreen"),wg=Symbol.iterator;function na(t){return t===null||typeof t!="object"?null:(t=wg&&t[wg]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,Id;function pa(t){if(Id===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Id=e&&e[1]||""}return`
`+Id+t}var jd=!1;function Dd(t,e){if(!t||jd)return"";jd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var o=h.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,u=i.length-1;1<=a&&0<=u&&o[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(o[a]!==i[u]){if(a!==1||u!==1)do if(a--,u--,0>u||o[a]!==i[u]){var c=`
`+o[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{jd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pa(t):""}function fk(t){switch(t.tag){case 5:return pa(t.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return t=Dd(t.type,!1),t;case 11:return t=Dd(t.type.render,!1),t;case 1:return t=Dd(t.type,!0),t;default:return""}}function Lh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ws:return"Fragment";case Us:return"Portal";case Ch:return"Profiler";case op:return"StrictMode";case Ph:return"Suspense";case Th:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C_:return(t.displayName||"Context")+".Consumer";case E_:return(t._context.displayName||"Context")+".Provider";case ap:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lp:return e=t.displayName||null,e!==null?e:Lh(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return Lh(t(e))}catch{}}return null}function pk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lh(e);case 8:return e===op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mk(t){var e=T_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ql(t){t._valueTracker||(t._valueTracker=mk(t))}function L_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=T_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ju(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oh(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function O_(t,e){e=e.checked,e!=null&&sp(t,"checked",e,!1)}function Rh(t,e){O_(t,e);var n=vi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ah(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ah(t,e.type,vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ah(t,e,n){(e!=="number"||ju(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ma=Array.isArray;function to(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vi(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Nh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(ma(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vi(n)}}function R_(t,e){var n=vi(e.value),r=vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jl,N_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jl=Jl||document.createElement("div"),Jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gk=["Webkit","ms","Moz","O"];Object.keys(xa).forEach(function(t){gk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xa[e]=xa[t]})});function M_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xa.hasOwnProperty(t)&&xa[t]?(""+e).trim():e+"px"}function I_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=M_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var vk=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ih(t,e){if(e){if(vk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function jh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=null;function up(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zh=null,no=null,ro=null;function Eg(t){if(t=yl(t)){if(typeof zh!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Cc(e),zh(t.stateNode,t.type,e))}}function j_(t){no?ro?ro.push(t):ro=[t]:no=t}function D_(){if(no){var t=no,e=ro;if(ro=no=null,Eg(t),e)for(t=0;t<e.length;t++)Eg(e[t])}}function z_(t,e){return t(e)}function $_(){}var zd=!1;function B_(t,e,n){if(zd)return t(e,n);zd=!0;try{return z_(t,e,n)}finally{zd=!1,(no!==null||ro!==null)&&($_(),D_())}}function ja(t,e){var n=t.stateNode;if(n===null)return null;var r=Cc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var $h=!1;if(Lr)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){$h=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{$h=!1}function yk(t,e,n,r,o,i,a,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var ba=!1,Du=null,zu=!1,Bh=null,_k={onError:function(t){ba=!0,Du=t}};function wk(t,e,n,r,o,i,a,u,c){ba=!1,Du=null,yk.apply(_k,arguments)}function xk(t,e,n,r,o,i,a,u,c){if(wk.apply(this,arguments),ba){if(ba){var h=Du;ba=!1,Du=null}else throw Error(Z(198));zu||(zu=!0,Bh=h)}}function ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cg(t){if(ps(t)!==t)throw Error(Z(188))}function bk(t){var e=t.alternate;if(!e){if(e=ps(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Cg(o),t;if(i===r)return Cg(o),e;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function U_(t){return t=bk(t),t!==null?W_(t):null}function W_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=W_(t);if(e!==null)return e;t=t.sibling}return null}var Z_=tn.unstable_scheduleCallback,Pg=tn.unstable_cancelCallback,kk=tn.unstable_shouldYield,Sk=tn.unstable_requestPaint,et=tn.unstable_now,Ek=tn.unstable_getCurrentPriorityLevel,cp=tn.unstable_ImmediatePriority,V_=tn.unstable_UserBlockingPriority,$u=tn.unstable_NormalPriority,Ck=tn.unstable_LowPriority,H_=tn.unstable_IdlePriority,bc=null,sr=null;function Pk(t){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(bc,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:Ok,Tk=Math.log,Lk=Math.LN2;function Ok(t){return t>>>=0,t===0?32:31-(Tk(t)/Lk|0)|0}var Xl=64,eu=4194304;function ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~o;u!==0?r=ga(u):(i&=a,i!==0&&(r=ga(i)))}else a=n&~o,a!==0?r=ga(a):i!==0&&(r=ga(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),o=1<<n,r|=t[n],e&=~o;return r}function Rk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ak(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-In(i),u=1<<a,c=o[a];c===-1?(!(u&n)||u&r)&&(o[a]=Rk(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function Fh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function q_(){var t=Xl;return Xl<<=1,!(Xl&4194240)&&(Xl=64),t}function $d(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function Nk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-In(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function dp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Ie=0;function G_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K_,hp,Y_,Q_,J_,Uh=!1,tu=[],li=null,ui=null,ci=null,Da=new Map,za=new Map,Yr=[],Mk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tg(t,e){switch(t){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Da.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(e.pointerId)}}function ia(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=yl(e),e!==null&&hp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Ik(t,e,n,r,o){switch(e){case"focusin":return li=ia(li,t,e,n,r,o),!0;case"dragenter":return ui=ia(ui,t,e,n,r,o),!0;case"mouseover":return ci=ia(ci,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Da.set(i,ia(Da.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,za.set(i,ia(za.get(i)||null,t,e,n,r,o)),!0}return!1}function X_(t){var e=Hi(t.target);if(e!==null){var n=ps(e);if(n!==null){if(e=n.tag,e===13){if(e=F_(n),e!==null){t.blockedOn=e,J_(t.priority,function(){Y_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dh=r,n.target.dispatchEvent(r),Dh=null}else return e=yl(n),e!==null&&hp(e),t.blockedOn=n,!1;e.shift()}return!0}function Lg(t,e,n){ku(t)&&n.delete(e)}function jk(){Uh=!1,li!==null&&ku(li)&&(li=null),ui!==null&&ku(ui)&&(ui=null),ci!==null&&ku(ci)&&(ci=null),Da.forEach(Lg),za.forEach(Lg)}function sa(t,e){t.blockedOn===e&&(t.blockedOn=null,Uh||(Uh=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,jk)))}function $a(t){function e(o){return sa(o,t)}if(0<tu.length){sa(tu[0],t);for(var n=1;n<tu.length;n++){var r=tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(li!==null&&sa(li,t),ui!==null&&sa(ui,t),ci!==null&&sa(ci,t),Da.forEach(e),za.forEach(e),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)X_(n),n.blockedOn===null&&Yr.shift()}var io=Ir.ReactCurrentBatchConfig,Fu=!0;function Dk(t,e,n,r){var o=Ie,i=io.transition;io.transition=null;try{Ie=1,fp(t,e,n,r)}finally{Ie=o,io.transition=i}}function zk(t,e,n,r){var o=Ie,i=io.transition;io.transition=null;try{Ie=4,fp(t,e,n,r)}finally{Ie=o,io.transition=i}}function fp(t,e,n,r){if(Fu){var o=Wh(t,e,n,r);if(o===null)Kd(t,e,r,Uu,n),Tg(t,r);else if(Ik(o,t,e,n,r))r.stopPropagation();else if(Tg(t,r),e&4&&-1<Mk.indexOf(t)){for(;o!==null;){var i=yl(o);if(i!==null&&K_(i),i=Wh(t,e,n,r),i===null&&Kd(t,e,r,Uu,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Kd(t,e,r,null,n)}}var Uu=null;function Wh(t,e,n,r){if(Uu=null,t=up(r),t=Hi(t),t!==null)if(e=ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=F_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uu=t,null}function e0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ek()){case cp:return 1;case V_:return 4;case $u:case Ck:return 16;case H_:return 536870912;default:return 16}default:return 16}}var ii=null,pp=null,Su=null;function t0(){if(Su)return Su;var t,e=pp,n=e.length,r,o="value"in ii?ii.value:ii.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===o[i-r];r++);return Su=o.slice(t,1<r?1-r:void 0)}function Eu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nu(){return!0}function Og(){return!1}function sn(t){function e(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nu:Og,this.isPropagationStopped=Og,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),e}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=sn(No),vl=Ge({},No,{view:0,detail:0}),$k=sn(vl),Bd,Fd,oa,kc=Ge({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(Bd=t.screenX-oa.screenX,Fd=t.screenY-oa.screenY):Fd=Bd=0,oa=t),Bd)},movementY:function(t){return"movementY"in t?t.movementY:Fd}}),Rg=sn(kc),Bk=Ge({},kc,{dataTransfer:0}),Fk=sn(Bk),Uk=Ge({},vl,{relatedTarget:0}),Ud=sn(Uk),Wk=Ge({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),Zk=sn(Wk),Vk=Ge({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hk=sn(Vk),qk=Ge({},No,{data:0}),Ag=sn(qk),Gk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yk[t])?!!e[t]:!1}function gp(){return Qk}var Jk=Ge({},vl,{key:function(t){if(t.key){var e=Gk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gp,charCode:function(t){return t.type==="keypress"?Eu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xk=sn(Jk),eS=Ge({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ng=sn(eS),tS=Ge({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gp}),nS=sn(tS),rS=Ge({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),iS=sn(rS),sS=Ge({},kc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oS=sn(sS),aS=[9,13,27,32],vp=Lr&&"CompositionEvent"in window,ka=null;Lr&&"documentMode"in document&&(ka=document.documentMode);var lS=Lr&&"TextEvent"in window&&!ka,n0=Lr&&(!vp||ka&&8<ka&&11>=ka),Mg=" ",Ig=!1;function r0(t,e){switch(t){case"keyup":return aS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zs=!1;function uS(t,e){switch(t){case"compositionend":return i0(e);case"keypress":return e.which!==32?null:(Ig=!0,Mg);case"textInput":return t=e.data,t===Mg&&Ig?null:t;default:return null}}function cS(t,e){if(Zs)return t==="compositionend"||!vp&&r0(t,e)?(t=t0(),Su=pp=ii=null,Zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n0&&e.locale!=="ko"?null:e.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dS[t.type]:e==="textarea"}function s0(t,e,n,r){j_(r),e=Wu(e,"onChange"),0<e.length&&(n=new mp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sa=null,Ba=null;function hS(t){g0(t,0)}function Sc(t){var e=qs(t);if(L_(e))return t}function fS(t,e){if(t==="change")return e}var o0=!1;if(Lr){var Wd;if(Lr){var Zd="oninput"in document;if(!Zd){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Zd=typeof Dg.oninput=="function"}Wd=Zd}else Wd=!1;o0=Wd&&(!document.documentMode||9<document.documentMode)}function zg(){Sa&&(Sa.detachEvent("onpropertychange",a0),Ba=Sa=null)}function a0(t){if(t.propertyName==="value"&&Sc(Ba)){var e=[];s0(e,Ba,t,up(t)),B_(hS,e)}}function pS(t,e,n){t==="focusin"?(zg(),Sa=e,Ba=n,Sa.attachEvent("onpropertychange",a0)):t==="focusout"&&zg()}function mS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sc(Ba)}function gS(t,e){if(t==="click")return Sc(e)}function vS(t,e){if(t==="input"||t==="change")return Sc(e)}function yS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:yS;function Fa(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Eh.call(e,o)||!Dn(t[o],e[o]))return!1}return!0}function $g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,e){var n=$g(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$g(n)}}function l0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?l0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function u0(){for(var t=window,e=ju();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ju(t.document)}return e}function yp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _S(t){var e=u0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&l0(n.ownerDocument.documentElement,n)){if(r!==null&&yp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Bg(n,i);var a=Bg(n,r);o&&a&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wS=Lr&&"documentMode"in document&&11>=document.documentMode,Vs=null,Zh=null,Ea=null,Vh=!1;function Fg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vh||Vs==null||Vs!==ju(r)||(r=Vs,"selectionStart"in r&&yp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ea&&Fa(Ea,r)||(Ea=r,r=Wu(Zh,"onSelect"),0<r.length&&(e=new mp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vs)))}function ru(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hs={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},Vd={},c0={};Lr&&(c0=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Ec(t){if(Vd[t])return Vd[t];if(!Hs[t])return t;var e=Hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in c0)return Vd[t]=e[n];return t}var d0=Ec("animationend"),h0=Ec("animationiteration"),f0=Ec("animationstart"),p0=Ec("transitionend"),m0=new Map,Ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){m0.set(t,e),fs(e,[t])}for(var Hd=0;Hd<Ug.length;Hd++){var qd=Ug[Hd],xS=qd.toLowerCase(),bS=qd[0].toUpperCase()+qd.slice(1);Ei(xS,"on"+bS)}Ei(d0,"onAnimationEnd");Ei(h0,"onAnimationIteration");Ei(f0,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(p0,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kS=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Wg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xk(r,e,void 0,t),t.currentTarget=null}function g0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==i&&o.isPropagationStopped())break e;Wg(o,u,h),i=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,h=u.currentTarget,u=u.listener,c!==i&&o.isPropagationStopped())break e;Wg(o,u,h),i=c}}}if(zu)throw t=Bh,zu=!1,Bh=null,t}function Fe(t,e){var n=e[Yh];n===void 0&&(n=e[Yh]=new Set);var r=t+"__bubble";n.has(r)||(v0(e,t,2,!1),n.add(r))}function Gd(t,e,n){var r=0;e&&(r|=4),v0(n,t,r,e)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Ua(t){if(!t[iu]){t[iu]=!0,S_.forEach(function(n){n!=="selectionchange"&&(kS.has(n)||Gd(n,!1,t),Gd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[iu]||(e[iu]=!0,Gd("selectionchange",!1,e))}}function v0(t,e,n,r){switch(e0(e)){case 1:var o=Dk;break;case 4:o=zk;break;default:o=fp}n=o.bind(null,e,n,t),o=void 0,!$h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Kd(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;u!==null;){if(a=Hi(u),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}u=u.parentNode}}r=r.return}B_(function(){var h=i,p=up(n),m=[];e:{var g=m0.get(t);if(g!==void 0){var v=mp,w=t;switch(t){case"keypress":if(Eu(n)===0)break e;case"keydown":case"keyup":v=Xk;break;case"focusin":w="focus",v=Ud;break;case"focusout":w="blur",v=Ud;break;case"beforeblur":case"afterblur":v=Ud;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=nS;break;case d0:case h0:case f0:v=Zk;break;case p0:v=iS;break;case"scroll":v=$k;break;case"wheel":v=oS;break;case"copy":case"cut":case"paste":v=Hk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ng}var _=(e&4)!==0,E=!_&&t==="scroll",b=_?g!==null?g+"Capture":null:g;_=[];for(var x=h,k;x!==null;){k=x;var T=k.stateNode;if(k.tag===5&&T!==null&&(k=T,b!==null&&(T=ja(x,b),T!=null&&_.push(Wa(x,T,k)))),E)break;x=x.return}0<_.length&&(g=new v(g,w,null,n,p),m.push({event:g,listeners:_}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==Dh&&(w=n.relatedTarget||n.fromElement)&&(Hi(w)||w[Or]))break e;if((v||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=h,w=w?Hi(w):null,w!==null&&(E=ps(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=h),v!==w)){if(_=Rg,T="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ng,T="onPointerLeave",b="onPointerEnter",x="pointer"),E=v==null?g:qs(v),k=w==null?g:qs(w),g=new _(T,x+"leave",v,n,p),g.target=E,g.relatedTarget=k,T=null,Hi(p)===h&&(_=new _(b,x+"enter",w,n,p),_.target=k,_.relatedTarget=E,T=_),E=T,v&&w)t:{for(_=v,b=w,x=0,k=_;k;k=Os(k))x++;for(k=0,T=b;T;T=Os(T))k++;for(;0<x-k;)_=Os(_),x--;for(;0<k-x;)b=Os(b),k--;for(;x--;){if(_===b||b!==null&&_===b.alternate)break t;_=Os(_),b=Os(b)}_=null}else _=null;v!==null&&Zg(m,g,v,_,!1),w!==null&&E!==null&&Zg(m,E,w,_,!0)}}e:{if(g=h?qs(h):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var R=fS;else if(jg(g))if(o0)R=vS;else{R=mS;var A=pS}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(R=gS);if(R&&(R=R(t,h))){s0(m,R,n,p);break e}A&&A(t,g,h),t==="focusout"&&(A=g._wrapperState)&&A.controlled&&g.type==="number"&&Ah(g,"number",g.value)}switch(A=h?qs(h):window,t){case"focusin":(jg(A)||A.contentEditable==="true")&&(Vs=A,Zh=h,Ea=null);break;case"focusout":Ea=Zh=Vs=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,Fg(m,n,p);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":Fg(m,n,p)}var j;if(vp)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Zs?r0(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(n0&&n.locale!=="ko"&&(Zs||I!=="onCompositionStart"?I==="onCompositionEnd"&&Zs&&(j=t0()):(ii=p,pp="value"in ii?ii.value:ii.textContent,Zs=!0)),A=Wu(h,I),0<A.length&&(I=new Ag(I,t,null,n,p),m.push({event:I,listeners:A}),j?I.data=j:(j=i0(n),j!==null&&(I.data=j)))),(j=lS?uS(t,n):cS(t,n))&&(h=Wu(h,"onBeforeInput"),0<h.length&&(p=new Ag("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=j))}g0(m,e)})}function Wa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wu(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=ja(t,n),i!=null&&r.unshift(Wa(t,i,o)),i=ja(t,e),i!=null&&r.push(Wa(t,i,o))),t=t.return}return r}function Os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zg(t,e,n,r,o){for(var i=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,o?(c=ja(n,i),c!=null&&a.unshift(Wa(n,c,u))):o||(c=ja(n,i),c!=null&&a.push(Wa(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var SS=/\r\n?/g,ES=/\u0000|\uFFFD/g;function Vg(t){return(typeof t=="string"?t:""+t).replace(SS,`
`).replace(ES,"")}function su(t,e,n){if(e=Vg(e),Vg(t)!==e&&n)throw Error(Z(425))}function Zu(){}var Hh=null,qh=null;function Gh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kh=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,Hg=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof Hg<"u"?function(t){return Hg.resolve(null).then(t).catch(TS)}:Kh;function TS(t){setTimeout(function(){throw t})}function Yd(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),$a(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);$a(e)}function di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),rr="__reactFiber$"+Mo,Za="__reactProps$"+Mo,Or="__reactContainer$"+Mo,Yh="__reactEvents$"+Mo,LS="__reactListeners$"+Mo,OS="__reactHandles$"+Mo;function Hi(t){var e=t[rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qg(t);t!==null;){if(n=t[rr])return n;t=qg(t)}return e}t=n,n=t.parentNode}return null}function yl(t){return t=t[rr]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Cc(t){return t[Za]||null}var Qh=[],Gs=-1;function Ci(t){return{current:t}}function Ue(t){0>Gs||(t.current=Qh[Gs],Qh[Gs]=null,Gs--)}function $e(t,e){Gs++,Qh[Gs]=t.current,t.current=e}var yi={},Et=Ci(yi),Ft=Ci(!1),ss=yi;function wo(t,e){var n=t.type.contextTypes;if(!n)return yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ut(t){return t=t.childContextTypes,t!=null}function Vu(){Ue(Ft),Ue(Et)}function Gg(t,e,n){if(Et.current!==yi)throw Error(Z(168));$e(Et,e),$e(Ft,n)}function y0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(Z(108,pk(t)||"Unknown",o));return Ge({},n,r)}function Hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yi,ss=Et.current,$e(Et,t),$e(Ft,Ft.current),!0}function Kg(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=y0(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,Ue(Ft),Ue(Et),$e(Et,t)):Ue(Ft),$e(Ft,n)}var kr=null,Pc=!1,Qd=!1;function _0(t){kr===null?kr=[t]:kr.push(t)}function RS(t){Pc=!0,_0(t)}function Pi(){if(!Qd&&kr!==null){Qd=!0;var t=0,e=Ie;try{var n=kr;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kr=null,Pc=!1}catch(o){throw kr!==null&&(kr=kr.slice(t+1)),Z_(cp,Pi),o}finally{Ie=e,Qd=!1}}return null}var Ks=[],Ys=0,qu=null,Gu=0,fn=[],pn=0,os=null,Cr=1,Pr="";function $i(t,e){Ks[Ys++]=Gu,Ks[Ys++]=qu,qu=t,Gu=e}function w0(t,e,n){fn[pn++]=Cr,fn[pn++]=Pr,fn[pn++]=os,os=t;var r=Cr;t=Pr;var o=32-In(r)-1;r&=~(1<<o),n+=1;var i=32-In(e)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Cr=1<<32-In(e)+o|n<<o|r,Pr=i+t}else Cr=1<<i|n<<o|r,Pr=t}function _p(t){t.return!==null&&($i(t,1),w0(t,1,0))}function wp(t){for(;t===qu;)qu=Ks[--Ys],Ks[Ys]=null,Gu=Ks[--Ys],Ks[Ys]=null;for(;t===os;)os=fn[--pn],fn[pn]=null,Pr=fn[--pn],fn[pn]=null,Cr=fn[--pn],fn[pn]=null}var Xt=null,Jt=null,We=!1,Mn=null;function x0(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Jt=di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=os!==null?{id:Cr,overflow:Pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Jt=null,!0):!1;default:return!1}}function Jh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xh(t){if(We){var e=Jt;if(e){var n=e;if(!Yg(t,e)){if(Jh(t))throw Error(Z(418));e=di(n.nextSibling);var r=Xt;e&&Yg(t,e)?x0(r,n):(t.flags=t.flags&-4097|2,We=!1,Xt=t)}}else{if(Jh(t))throw Error(Z(418));t.flags=t.flags&-4097|2,We=!1,Xt=t}}}function Qg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function ou(t){if(t!==Xt)return!1;if(!We)return Qg(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gh(t.type,t.memoizedProps)),e&&(e=Jt)){if(Jh(t))throw b0(),Error(Z(418));for(;e;)x0(t,e),e=di(e.nextSibling)}if(Qg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=Xt?di(t.stateNode.nextSibling):null;return!0}function b0(){for(var t=Jt;t;)t=di(t.nextSibling)}function xo(){Jt=Xt=null,We=!1}function xp(t){Mn===null?Mn=[t]:Mn.push(t)}var AS=Ir.ReactCurrentBatchConfig;function aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var u=o.refs;a===null?delete u[i]:u[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function au(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jg(t){var e=t._init;return e(t._payload)}function k0(t){function e(b,x){if(t){var k=b.deletions;k===null?(b.deletions=[x],b.flags|=16):k.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function o(b,x){return b=mi(b,x),b.index=0,b.sibling=null,b}function i(b,x,k){return b.index=k,t?(k=b.alternate,k!==null?(k=k.index,k<x?(b.flags|=2,x):k):(b.flags|=2,x)):(b.flags|=1048576,x)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function u(b,x,k,T){return x===null||x.tag!==6?(x=ih(k,b.mode,T),x.return=b,x):(x=o(x,k),x.return=b,x)}function c(b,x,k,T){var R=k.type;return R===Ws?p(b,x,k.props.children,T,k.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Hr&&Jg(R)===x.type)?(T=o(x,k.props),T.ref=aa(b,x,k),T.return=b,T):(T=Au(k.type,k.key,k.props,null,b.mode,T),T.ref=aa(b,x,k),T.return=b,T)}function h(b,x,k,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=sh(k,b.mode,T),x.return=b,x):(x=o(x,k.children||[]),x.return=b,x)}function p(b,x,k,T,R){return x===null||x.tag!==7?(x=rs(k,b.mode,T,R),x.return=b,x):(x=o(x,k),x.return=b,x)}function m(b,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ih(""+x,b.mode,k),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yl:return k=Au(x.type,x.key,x.props,null,b.mode,k),k.ref=aa(b,null,x),k.return=b,k;case Us:return x=sh(x,b.mode,k),x.return=b,x;case Hr:var T=x._init;return m(b,T(x._payload),k)}if(ma(x)||na(x))return x=rs(x,b.mode,k,null),x.return=b,x;au(b,x)}return null}function g(b,x,k,T){var R=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return R!==null?null:u(b,x,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Yl:return k.key===R?c(b,x,k,T):null;case Us:return k.key===R?h(b,x,k,T):null;case Hr:return R=k._init,g(b,x,R(k._payload),T)}if(ma(k)||na(k))return R!==null?null:p(b,x,k,T,null);au(b,k)}return null}function v(b,x,k,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(k)||null,u(x,b,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Yl:return b=b.get(T.key===null?k:T.key)||null,c(x,b,T,R);case Us:return b=b.get(T.key===null?k:T.key)||null,h(x,b,T,R);case Hr:var A=T._init;return v(b,x,k,A(T._payload),R)}if(ma(T)||na(T))return b=b.get(k)||null,p(x,b,T,R,null);au(x,T)}return null}function w(b,x,k,T){for(var R=null,A=null,j=x,I=x=0,F=null;j!==null&&I<k.length;I++){j.index>I?(F=j,j=null):F=j.sibling;var $=g(b,j,k[I],T);if($===null){j===null&&(j=F);break}t&&j&&$.alternate===null&&e(b,j),x=i($,x,I),A===null?R=$:A.sibling=$,A=$,j=F}if(I===k.length)return n(b,j),We&&$i(b,I),R;if(j===null){for(;I<k.length;I++)j=m(b,k[I],T),j!==null&&(x=i(j,x,I),A===null?R=j:A.sibling=j,A=j);return We&&$i(b,I),R}for(j=r(b,j);I<k.length;I++)F=v(j,b,I,k[I],T),F!==null&&(t&&F.alternate!==null&&j.delete(F.key===null?I:F.key),x=i(F,x,I),A===null?R=F:A.sibling=F,A=F);return t&&j.forEach(function(K){return e(b,K)}),We&&$i(b,I),R}function _(b,x,k,T){var R=na(k);if(typeof R!="function")throw Error(Z(150));if(k=R.call(k),k==null)throw Error(Z(151));for(var A=R=null,j=x,I=x=0,F=null,$=k.next();j!==null&&!$.done;I++,$=k.next()){j.index>I?(F=j,j=null):F=j.sibling;var K=g(b,j,$.value,T);if(K===null){j===null&&(j=F);break}t&&j&&K.alternate===null&&e(b,j),x=i(K,x,I),A===null?R=K:A.sibling=K,A=K,j=F}if($.done)return n(b,j),We&&$i(b,I),R;if(j===null){for(;!$.done;I++,$=k.next())$=m(b,$.value,T),$!==null&&(x=i($,x,I),A===null?R=$:A.sibling=$,A=$);return We&&$i(b,I),R}for(j=r(b,j);!$.done;I++,$=k.next())$=v(j,b,I,$.value,T),$!==null&&(t&&$.alternate!==null&&j.delete($.key===null?I:$.key),x=i($,x,I),A===null?R=$:A.sibling=$,A=$);return t&&j.forEach(function(H){return e(b,H)}),We&&$i(b,I),R}function E(b,x,k,T){if(typeof k=="object"&&k!==null&&k.type===Ws&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Yl:e:{for(var R=k.key,A=x;A!==null;){if(A.key===R){if(R=k.type,R===Ws){if(A.tag===7){n(b,A.sibling),x=o(A,k.props.children),x.return=b,b=x;break e}}else if(A.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Hr&&Jg(R)===A.type){n(b,A.sibling),x=o(A,k.props),x.ref=aa(b,A,k),x.return=b,b=x;break e}n(b,A);break}else e(b,A);A=A.sibling}k.type===Ws?(x=rs(k.props.children,b.mode,T,k.key),x.return=b,b=x):(T=Au(k.type,k.key,k.props,null,b.mode,T),T.ref=aa(b,x,k),T.return=b,b=T)}return a(b);case Us:e:{for(A=k.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(b,x.sibling),x=o(x,k.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=sh(k,b.mode,T),x.return=b,b=x}return a(b);case Hr:return A=k._init,E(b,x,A(k._payload),T)}if(ma(k))return w(b,x,k,T);if(na(k))return _(b,x,k,T);au(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(b,x.sibling),x=o(x,k),x.return=b,b=x):(n(b,x),x=ih(k,b.mode,T),x.return=b,b=x),a(b)):n(b,x)}return E}var bo=k0(!0),S0=k0(!1),Ku=Ci(null),Yu=null,Qs=null,bp=null;function kp(){bp=Qs=Yu=null}function Sp(t){var e=Ku.current;Ue(Ku),t._currentValue=e}function ef(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function so(t,e){Yu=t,bp=Qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function vn(t){var e=t._currentValue;if(bp!==t)if(t={context:t,memoizedValue:e,next:null},Qs===null){if(Yu===null)throw Error(Z(308));Qs=t,Yu.dependencies={lanes:0,firstContext:t}}else Qs=Qs.next=t;return e}var qi=null;function Ep(t){qi===null?qi=[t]:qi.push(t)}function E0(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Ep(e)):(n.next=o.next,o.next=n),e.interleaved=n,Rr(t,r)}function Rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qr=!1;function Cp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Rr(t,n)}return o=r.interleaved,o===null?(e.next=e,Ep(r)):(e.next=o.next,o.next=e),r.interleaved=e,Rr(t,n)}function Cu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dp(t,n)}}function Xg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qu(t,e,n,r){var o=t.updateQueue;qr=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,h=c.next;c.next=null,a===null?i=h:a.next=h,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=h:u.next=h,p.lastBaseUpdate=c))}if(i!==null){var m=o.baseState;a=0,p=h=c=null,u=i;do{var g=u.lane,v=u.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,_=u;switch(g=e,v=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){m=w.call(v,m,g);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,g=typeof w=="function"?w.call(v,m,g):w,g==null)break e;m=Ge({},m,g);break e;case 2:qr=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=o.effects,g===null?o.effects=[u]:g.push(u))}else v={eventTime:v,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(h=p=v,c=m):p=p.next=v,a|=g;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;g=u,u=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(p===null&&(c=m),o.baseState=c,o.firstBaseUpdate=h,o.lastBaseUpdate=p,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);ls|=a,t.lanes=a,t.memoizedState=m}}function ev(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Z(191,o));o.call(r)}}}var _l={},or=Ci(_l),Va=Ci(_l),Ha=Ci(_l);function Gi(t){if(t===_l)throw Error(Z(174));return t}function Pp(t,e){switch($e(Ha,e),$e(Va,t),$e(or,_l),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mh(e,t)}Ue(or),$e(or,e)}function ko(){Ue(or),Ue(Va),Ue(Ha)}function P0(t){Gi(Ha.current);var e=Gi(or.current),n=Mh(e,t.type);e!==n&&($e(Va,t),$e(or,n))}function Tp(t){Va.current===t&&(Ue(or),Ue(Va))}var He=Ci(0);function Ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jd=[];function Lp(){for(var t=0;t<Jd.length;t++)Jd[t]._workInProgressVersionPrimary=null;Jd.length=0}var Pu=Ir.ReactCurrentDispatcher,Xd=Ir.ReactCurrentBatchConfig,as=0,qe=null,ot=null,dt=null,Xu=!1,Ca=!1,qa=0,NS=0;function xt(){throw Error(Z(321))}function Op(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Rp(t,e,n,r,o,i){if(as=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pu.current=t===null||t.memoizedState===null?DS:zS,t=n(r,o),Ca){i=0;do{if(Ca=!1,qa=0,25<=i)throw Error(Z(301));i+=1,dt=ot=null,e.updateQueue=null,Pu.current=$S,t=n(r,o)}while(Ca)}if(Pu.current=ec,e=ot!==null&&ot.next!==null,as=0,dt=ot=qe=null,Xu=!1,e)throw Error(Z(300));return t}function Ap(){var t=qa!==0;return qa=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?qe.memoizedState=dt=t:dt=dt.next=t,dt}function yn(){if(ot===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=dt===null?qe.memoizedState:dt.next;if(e!==null)dt=e,ot=t;else{if(t===null)throw Error(Z(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?qe.memoizedState=dt=t:dt=dt.next=t}return dt}function Ga(t,e){return typeof e=="function"?e(t):e}function eh(t){var e=yn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=ot,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=a=null,c=null,h=i;do{var p=h.lane;if((as&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=m,a=r):c=c.next=m,qe.lanes|=p,ls|=p}h=h.next}while(h!==null&&h!==i);c===null?a=r:c.next=u,Dn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,qe.lanes|=i,ls|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function th(t){var e=yn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=t(i,a.action),a=a.next;while(a!==o);Dn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function T0(){}function L0(t,e){var n=qe,r=yn(),o=e(),i=!Dn(r.memoizedState,o);if(i&&(r.memoizedState=o,Bt=!0),r=r.queue,Np(A0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Ka(9,R0.bind(null,n,r,o,e),void 0,null),ht===null)throw Error(Z(349));as&30||O0(n,e,o)}return o}function O0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function R0(t,e,n,r){e.value=n,e.getSnapshot=r,N0(e)&&M0(t)}function A0(t,e,n){return n(function(){N0(e)&&M0(t)})}function N0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function M0(t){var e=Rr(t,1);e!==null&&jn(e,t,1,-1)}function tv(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:t},e.queue=t,t=t.dispatch=jS.bind(null,qe,t),[e.memoizedState,t]}function Ka(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I0(){return yn().memoizedState}function Tu(t,e,n,r){var o=Xn();qe.flags|=t,o.memoizedState=Ka(1|e,n,void 0,r===void 0?null:r)}function Tc(t,e,n,r){var o=yn();r=r===void 0?null:r;var i=void 0;if(ot!==null){var a=ot.memoizedState;if(i=a.destroy,r!==null&&Op(r,a.deps)){o.memoizedState=Ka(e,n,i,r);return}}qe.flags|=t,o.memoizedState=Ka(1|e,n,i,r)}function nv(t,e){return Tu(8390656,8,t,e)}function Np(t,e){return Tc(2048,8,t,e)}function j0(t,e){return Tc(4,2,t,e)}function D0(t,e){return Tc(4,4,t,e)}function z0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $0(t,e,n){return n=n!=null?n.concat([t]):null,Tc(4,4,z0.bind(null,e,t),n)}function Mp(){}function B0(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Op(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function F0(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Op(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function U0(t,e,n){return as&21?(Dn(n,e)||(n=q_(),qe.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function MS(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=Xd.transition;Xd.transition={};try{t(!1),e()}finally{Ie=n,Xd.transition=r}}function W0(){return yn().memoizedState}function IS(t,e,n){var r=pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z0(t))V0(e,n);else if(n=E0(t,e,n,r),n!==null){var o=Nt();jn(n,t,r,o),H0(n,e,r)}}function jS(t,e,n){var r=pi(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z0(t))V0(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,u=i(a,n);if(o.hasEagerState=!0,o.eagerState=u,Dn(u,a)){var c=e.interleaved;c===null?(o.next=o,Ep(e)):(o.next=c.next,c.next=o),e.interleaved=o;return}}catch{}finally{}n=E0(t,e,o,r),n!==null&&(o=Nt(),jn(n,t,r,o),H0(n,e,r))}}function Z0(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function V0(t,e){Ca=Xu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function H0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dp(t,n)}}var ec={readContext:vn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},DS={readContext:vn,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:vn,useEffect:nv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tu(4194308,4,z0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tu(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IS.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:tv,useDebugValue:Mp,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=tv(!1),e=t[0];return t=MS.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,o=Xn();if(We){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),ht===null)throw Error(Z(349));as&30||O0(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,nv(A0.bind(null,r,i,t),[t]),r.flags|=2048,Ka(9,R0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xn(),e=ht.identifierPrefix;if(We){var n=Pr,r=Cr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zS={readContext:vn,useCallback:B0,useContext:vn,useEffect:Np,useImperativeHandle:$0,useInsertionEffect:j0,useLayoutEffect:D0,useMemo:F0,useReducer:eh,useRef:I0,useState:function(){return eh(Ga)},useDebugValue:Mp,useDeferredValue:function(t){var e=yn();return U0(e,ot.memoizedState,t)},useTransition:function(){var t=eh(Ga)[0],e=yn().memoizedState;return[t,e]},useMutableSource:T0,useSyncExternalStore:L0,useId:W0,unstable_isNewReconciler:!1},$S={readContext:vn,useCallback:B0,useContext:vn,useEffect:Np,useImperativeHandle:$0,useInsertionEffect:j0,useLayoutEffect:D0,useMemo:F0,useReducer:th,useRef:I0,useState:function(){return th(Ga)},useDebugValue:Mp,useDeferredValue:function(t){var e=yn();return ot===null?e.memoizedState=t:U0(e,ot.memoizedState,t)},useTransition:function(){var t=th(Ga)[0],e=yn().memoizedState;return[t,e]},useMutableSource:T0,useSyncExternalStore:L0,useId:W0,unstable_isNewReconciler:!1};function Pn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lc={isMounted:function(t){return(t=t._reactInternals)?ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),o=pi(t),i=Tr(r,o);i.payload=e,n!=null&&(i.callback=n),e=hi(t,i,o),e!==null&&(jn(e,t,o,r),Cu(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),o=pi(t),i=Tr(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hi(t,i,o),e!==null&&(jn(e,t,o,r),Cu(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=pi(t),o=Tr(n,r);o.tag=2,e!=null&&(o.callback=e),e=hi(t,o,r),e!==null&&(jn(e,t,r,n),Cu(e,t,r))}};function rv(t,e,n,r,o,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,r)||!Fa(o,i):!0}function q0(t,e,n){var r=!1,o=yi,i=e.contextType;return typeof i=="object"&&i!==null?i=vn(i):(o=Ut(e)?ss:Et.current,r=e.contextTypes,i=(r=r!=null)?wo(t,o):yi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function iv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lc.enqueueReplaceState(e,e.state,null)}function nf(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Cp(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=vn(i):(i=Ut(e)?ss:Et.current,o.context=wo(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(tf(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Lc.enqueueReplaceState(o,o.state,null),Qu(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e){try{var n="",r=e;do n+=fk(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function nh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BS=typeof WeakMap=="function"?WeakMap:Map;function G0(t,e,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nc||(nc=!0,pf=r),rf(t,e)},n}function K0(t,e,n){n=Tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){rf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rf(t,e),typeof r!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function sv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BS;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=eE.bind(null,t,e,n),e.then(t,t))}function ov(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function av(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tr(-1,1),e.tag=2,hi(n,e,1))),n.lanes|=1),t)}var FS=Ir.ReactCurrentOwner,Bt=!1;function Rt(t,e,n,r){e.child=t===null?S0(e,null,n,r):bo(e,t.child,n,r)}function lv(t,e,n,r,o){n=n.render;var i=e.ref;return so(e,o),r=Rp(t,e,n,r,i,o),n=Ap(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Ar(t,e,o)):(We&&n&&_p(e),e.flags|=1,Rt(t,e,r,o),e.child)}function uv(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Up(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Y0(t,e,i,r,o)):(t=Au(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(a,r)&&t.ref===e.ref)return Ar(t,e,o)}return e.flags|=1,t=mi(i,r),t.ref=e.ref,t.return=e,e.child=t}function Y0(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Fa(i,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Ar(t,e,o)}return sf(t,e,n,r,o)}function Q0(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Xs,Gt),Gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Xs,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(Xs,Gt),Gt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,$e(Xs,Gt),Gt|=r;return Rt(t,e,o,n),e.child}function J0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sf(t,e,n,r,o){var i=Ut(n)?ss:Et.current;return i=wo(e,i),so(e,o),n=Rp(t,e,n,r,i,o),r=Ap(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Ar(t,e,o)):(We&&r&&_p(e),e.flags|=1,Rt(t,e,n,o),e.child)}function cv(t,e,n,r,o){if(Ut(n)){var i=!0;Hu(e)}else i=!1;if(so(e,o),e.stateNode===null)Lu(t,e),q0(e,n,r),nf(e,n,r,o),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=vn(h):(h=Ut(n)?ss:Et.current,h=wo(e,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==h)&&iv(e,a,r,h),qr=!1;var g=e.memoizedState;a.state=g,Qu(e,r,a,o),c=e.memoizedState,u!==r||g!==c||Ft.current||qr?(typeof p=="function"&&(tf(e,n,p,r),c=e.memoizedState),(u=qr||rv(e,n,u,r,g,c,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,C0(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Pn(e.type,u),a.props=h,m=e.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=vn(c):(c=Ut(n)?ss:Et.current,c=wo(e,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||g!==c)&&iv(e,a,r,c),qr=!1,g=e.memoizedState,a.state=g,Qu(e,r,a,o);var w=e.memoizedState;u!==m||g!==w||Ft.current||qr?(typeof v=="function"&&(tf(e,n,v,r),w=e.memoizedState),(h=qr||rv(e,n,h,r,g,w,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return of(t,e,n,r,i,o)}function of(t,e,n,r,o,i){J0(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return o&&Kg(e,n,!1),Ar(t,e,i);r=e.stateNode,FS.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=bo(e,t.child,null,i),e.child=bo(e,null,u,i)):Rt(t,e,u,i),e.memoizedState=r.state,o&&Kg(e,n,!0),e.child}function X0(t){var e=t.stateNode;e.pendingContext?Gg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Gg(t,e.context,!1),Pp(t,e.containerInfo)}function dv(t,e,n,r,o){return xo(),xp(o),e.flags|=256,Rt(t,e,n,r),e.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(t){return{baseLanes:t,cachePool:null,transitions:null}}function ew(t,e,n){var r=e.pendingProps,o=He.current,i=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(o&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),$e(He,o&1),t===null)return Xh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ac(a,r,0,null),t=rs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=lf(n),e.memoizedState=af,t):Ip(e,a));if(o=t.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return US(t,e,a,r,u,o,n);if(i){i=r.fallback,a=e.mode,o=t.child,u=o.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=mi(o,c),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=mi(u,i):(i=rs(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?lf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=af,r}return i=t.child,t=i.sibling,r=mi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ip(t,e){return e=Ac({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lu(t,e,n,r){return r!==null&&xp(r),bo(e,t.child,null,n),t=Ip(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function US(t,e,n,r,o,i,a){if(n)return e.flags&256?(e.flags&=-257,r=nh(Error(Z(422))),lu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Ac({mode:"visible",children:r.children},o,0,null),i=rs(i,o,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&bo(e,t.child,null,a),e.child.memoizedState=lf(a),e.memoizedState=af,i);if(!(e.mode&1))return lu(t,e,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(Z(419)),r=nh(i,r,void 0),lu(t,e,a,r)}if(u=(a&t.childLanes)!==0,Bt||u){if(r=ht,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Rr(t,o),jn(r,t,o,-1))}return Fp(),r=nh(Error(Z(421))),lu(t,e,a,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=tE.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,Jt=di(o.nextSibling),Xt=e,We=!0,Mn=null,t!==null&&(fn[pn++]=Cr,fn[pn++]=Pr,fn[pn++]=os,Cr=t.id,Pr=t.overflow,os=e),e=Ip(e,r.children),e.flags|=4096,e)}function hv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ef(t.return,e,n)}function rh(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function tw(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Rt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hv(t,n,e);else if(t.tag===19)hv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(He,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Ju(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),rh(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Ju(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}rh(e,!0,n,null,i);break;case"together":rh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WS(t,e,n){switch(e.tag){case 3:X0(e),xo();break;case 5:P0(e);break;case 1:Ut(e.type)&&Hu(e);break;case 4:Pp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;$e(Ku,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?ew(t,e,n):($e(He,He.current&1),t=Ar(t,e,n),t!==null?t.sibling:null);$e(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tw(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),$e(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,Q0(t,e,n)}return Ar(t,e,n)}var nw,uf,rw,iw;nw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uf=function(){};rw=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Gi(or.current);var i=null;switch(n){case"input":o=Oh(t,o),r=Oh(t,r),i=[];break;case"select":o=Ge({},o,{value:void 0}),r=Ge({},r,{value:void 0}),i=[];break;case"textarea":o=Nh(t,o),r=Nh(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zu)}Ih(n,r);var a;n=null;for(h in o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var u=o[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ma.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(u=o!=null?o[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ma.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Fe("scroll",t),i||u===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};iw=function(t,e,n,r){n!==r&&(e.flags|=4)};function la(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZS(t,e,n){var r=e.pendingProps;switch(wp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Ut(e.type)&&Vu(),bt(e),null;case 3:return r=e.stateNode,ko(),Ue(Ft),Ue(Et),Lp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ou(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mn!==null&&(vf(Mn),Mn=null))),uf(t,e),bt(e),null;case 5:Tp(e);var o=Gi(Ha.current);if(n=e.type,t!==null&&e.stateNode!=null)rw(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return bt(e),null}if(t=Gi(or.current),ou(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rr]=e,r[Za]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(o=0;o<va.length;o++)Fe(va[o],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":xg(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":kg(r,i),Fe("invalid",r)}Ih(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var u=i[a];a==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&su(r.textContent,u,t),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&su(r.textContent,u,t),o=["children",""+u]):Ma.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Ql(r),bg(r,i,!0);break;case"textarea":Ql(r),Sg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zu)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[rr]=e,t[Za]=r,nw(t,e,!1,!1),e.stateNode=t;e:{switch(a=jh(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),o=r;break;case"iframe":case"object":case"embed":Fe("load",t),o=r;break;case"video":case"audio":for(o=0;o<va.length;o++)Fe(va[o],t);o=r;break;case"source":Fe("error",t),o=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),o=r;break;case"details":Fe("toggle",t),o=r;break;case"input":xg(t,r),o=Oh(t,r),Fe("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Ge({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":kg(t,r),o=Nh(t,r),Fe("invalid",t);break;default:o=r}Ih(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?I_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&N_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ia(t,c):typeof c=="number"&&Ia(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ma.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Fe("scroll",t):c!=null&&sp(t,i,c,a))}switch(n){case"input":Ql(t),bg(t,r,!1);break;case"textarea":Ql(t),Sg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?to(t,!!r.multiple,i,!1):r.defaultValue!=null&&to(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)iw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Gi(Ha.current),Gi(or.current),ou(e)){if(r=e.stateNode,n=e.memoizedProps,r[rr]=e,(i=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&su(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rr]=e,e.stateNode=r}return bt(e),null;case 13:if(Ue(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&Jt!==null&&e.mode&1&&!(e.flags&128))b0(),xo(),e.flags|=98560,i=!1;else if(i=ou(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[rr]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),i=!1}else Mn!==null&&(vf(Mn),Mn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?lt===0&&(lt=3):Fp())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return ko(),uf(t,e),t===null&&Ua(e.stateNode.containerInfo),bt(e),null;case 10:return Sp(e.type._context),bt(e),null;case 17:return Ut(e.type)&&Vu(),bt(e),null;case 19:if(Ue(He),i=e.memoizedState,i===null)return bt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)la(i,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ju(t),a!==null){for(e.flags|=128,la(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&et()>Eo&&(e.flags|=128,r=!0,la(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ju(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),la(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!We)return bt(e),null}else 2*et()-i.renderingStartTime>Eo&&n!==1073741824&&(e.flags|=128,r=!0,la(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=et(),e.sibling=null,n=He.current,$e(He,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return Bp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function VS(t,e){switch(wp(e),e.tag){case 1:return Ut(e.type)&&Vu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ko(),Ue(Ft),Ue(Et),Lp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tp(e),null;case 13:if(Ue(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(He),null;case 4:return ko(),null;case 10:return Sp(e.type._context),null;case 22:case 23:return Bp(),null;case 24:return null;default:return null}}var uu=!1,St=!1,HS=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function cf(t,e,n){try{n()}catch(r){Je(t,e,r)}}var fv=!1;function qS(t,e){if(Hh=Fu,t=u0(),yp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,h=0,p=0,m=t,g=null;t:for(;;){for(var v;m!==n||o!==0&&m.nodeType!==3||(u=a+o),m!==i||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)g=m,m=v;for(;;){if(m===t)break t;if(g===n&&++h===o&&(u=a),g===i&&++p===r&&(c=a),(v=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=v}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qh={focusedElem:t,selectionRange:n},Fu=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,E=w.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?_:Pn(e.type,_),E);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(T){Je(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return w=fv,fv=!1,w}function Pa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&cf(e,n,i)}o=o.next}while(o!==r)}}function Oc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function df(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sw(t){var e=t.alternate;e!==null&&(t.alternate=null,sw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rr],delete e[Za],delete e[Yh],delete e[LS],delete e[OS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ow(t){return t.tag===5||t.tag===3||t.tag===4}function pv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ow(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zu));else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}function ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ff(t,e,n),t=t.sibling;t!==null;)ff(t,e,n),t=t.sibling}var gt=null,An=!1;function Fr(t,e,n){for(n=n.child;n!==null;)aw(t,e,n),n=n.sibling}function aw(t,e,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(bc,n)}catch{}switch(n.tag){case 5:St||Js(n,e);case 6:var r=gt,o=An;gt=null,Fr(t,e,n),gt=r,An=o,gt!==null&&(An?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(An?(t=gt,n=n.stateNode,t.nodeType===8?Yd(t.parentNode,n):t.nodeType===1&&Yd(t,n),$a(t)):Yd(gt,n.stateNode));break;case 4:r=gt,o=An,gt=n.stateNode.containerInfo,An=!0,Fr(t,e,n),gt=r,An=o;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&cf(n,e,a),o=o.next}while(o!==r)}Fr(t,e,n);break;case 1:if(!St&&(Js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Je(n,e,u)}Fr(t,e,n);break;case 21:Fr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,Fr(t,e,n),St=r):Fr(t,e,n);break;default:Fr(t,e,n)}}function mv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HS),e.forEach(function(r){var o=nE.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:gt=u.stateNode,An=!1;break e;case 3:gt=u.stateNode.containerInfo,An=!0;break e;case 4:gt=u.stateNode.containerInfo,An=!0;break e}u=u.return}if(gt===null)throw Error(Z(160));aw(i,a,o),gt=null,An=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(h){Je(o,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lw(e,t),e=e.sibling}function lw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),Jn(t),r&4){try{Pa(3,t,t.return),Oc(3,t)}catch(_){Je(t,t.return,_)}try{Pa(5,t,t.return)}catch(_){Je(t,t.return,_)}}break;case 1:Sn(e,t),Jn(t),r&512&&n!==null&&Js(n,n.return);break;case 5:if(Sn(e,t),Jn(t),r&512&&n!==null&&Js(n,n.return),t.flags&32){var o=t.stateNode;try{Ia(o,"")}catch(_){Je(t,t.return,_)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&O_(o,i),jh(u,a);var h=jh(u,i);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?I_(o,m):p==="dangerouslySetInnerHTML"?N_(o,m):p==="children"?Ia(o,m):sp(o,p,m,h)}switch(u){case"input":Rh(o,i);break;case"textarea":R_(o,i);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?to(o,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?to(o,!!i.multiple,i.defaultValue,!0):to(o,!!i.multiple,i.multiple?[]:"",!1))}o[Za]=i}catch(_){Je(t,t.return,_)}}break;case 6:if(Sn(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error(Z(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(_){Je(t,t.return,_)}}break;case 3:if(Sn(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$a(e.containerInfo)}catch(_){Je(t,t.return,_)}break;case 4:Sn(e,t),Jn(t);break;case 13:Sn(e,t),Jn(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(zp=et())),r&4&&mv(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(St=(h=St)||p,Sn(e,t),St=h):Sn(e,t),Jn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(ee=t,p=t.child;p!==null;){for(m=ee=p;ee!==null;){switch(g=ee,v=g.child,g.tag){case 0:case 11:case 14:case 15:Pa(4,g,g.return);break;case 1:Js(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){Je(r,n,_)}}break;case 5:Js(g,g.return);break;case 22:if(g.memoizedState!==null){vv(m);continue}}v!==null?(v.return=g,ee=v):vv(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{o=m.stateNode,h?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=M_("display",a))}catch(_){Je(t,t.return,_)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(_){Je(t,t.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Sn(e,t),Jn(t),r&4&&mv(t);break;case 21:break;default:Sn(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ow(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ia(o,""),r.flags&=-33);var i=pv(t);ff(t,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,u=pv(t);hf(t,u,a);break;default:throw Error(Z(161))}}catch(c){Je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GS(t,e,n){ee=t,uw(t)}function uw(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var o=ee,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||uu;if(!a){var u=o.alternate,c=u!==null&&u.memoizedState!==null||St;u=uu;var h=St;if(uu=a,(St=c)&&!h)for(ee=o;ee!==null;)a=ee,c=a.child,a.tag===22&&a.memoizedState!==null?yv(o):c!==null?(c.return=a,ee=c):yv(o);for(;i!==null;)ee=i,uw(i),i=i.sibling;ee=o,uu=u,St=h}gv(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,ee=i):gv(t)}}function gv(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Oc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ev(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ev(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&$a(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}St||e.flags&512&&df(e)}catch(g){Je(e,e.return,g)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function vv(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function yv(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oc(4,e)}catch(c){Je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(c){Je(e,o,c)}}var i=e.return;try{df(e)}catch(c){Je(e,i,c)}break;case 5:var a=e.return;try{df(e)}catch(c){Je(e,a,c)}}}catch(c){Je(e,e.return,c)}if(e===t){ee=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ee=u;break}ee=e.return}}var KS=Math.ceil,tc=Ir.ReactCurrentDispatcher,jp=Ir.ReactCurrentOwner,gn=Ir.ReactCurrentBatchConfig,Te=0,ht=null,it=null,vt=0,Gt=0,Xs=Ci(0),lt=0,Ya=null,ls=0,Rc=0,Dp=0,Ta=null,$t=null,zp=0,Eo=1/0,xr=null,nc=!1,pf=null,fi=null,cu=!1,si=null,rc=0,La=0,mf=null,Ou=-1,Ru=0;function Nt(){return Te&6?et():Ou!==-1?Ou:Ou=et()}function pi(t){return t.mode&1?Te&2&&vt!==0?vt&-vt:AS.transition!==null?(Ru===0&&(Ru=q_()),Ru):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:e0(t.type)),t):1}function jn(t,e,n,r){if(50<La)throw La=0,mf=null,Error(Z(185));gl(t,n,r),(!(Te&2)||t!==ht)&&(t===ht&&(!(Te&2)&&(Rc|=n),lt===4&&Qr(t,vt)),Wt(t,r),n===1&&Te===0&&!(e.mode&1)&&(Eo=et()+500,Pc&&Pi()))}function Wt(t,e){var n=t.callbackNode;Ak(t,e);var r=Bu(t,t===ht?vt:0);if(r===0)n!==null&&Pg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pg(n),e===1)t.tag===0?RS(_v.bind(null,t)):_0(_v.bind(null,t)),PS(function(){!(Te&6)&&Pi()}),n=null;else{switch(G_(r)){case 1:n=cp;break;case 4:n=V_;break;case 16:n=$u;break;case 536870912:n=H_;break;default:n=$u}n=vw(n,cw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cw(t,e){if(Ou=-1,Ru=0,Te&6)throw Error(Z(327));var n=t.callbackNode;if(oo()&&t.callbackNode!==n)return null;var r=Bu(t,t===ht?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ic(t,r);else{e=r;var o=Te;Te|=2;var i=hw();(ht!==t||vt!==e)&&(xr=null,Eo=et()+500,ns(t,e));do try{JS();break}catch(u){dw(t,u)}while(!0);kp(),tc.current=i,Te=o,it!==null?e=0:(ht=null,vt=0,e=lt)}if(e!==0){if(e===2&&(o=Fh(t),o!==0&&(r=o,e=gf(t,o))),e===1)throw n=Ya,ns(t,0),Qr(t,r),Wt(t,et()),n;if(e===6)Qr(t,r);else{if(o=t.current.alternate,!(r&30)&&!YS(o)&&(e=ic(t,r),e===2&&(i=Fh(t),i!==0&&(r=i,e=gf(t,i))),e===1))throw n=Ya,ns(t,0),Qr(t,r),Wt(t,et()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Bi(t,$t,xr);break;case 3:if(Qr(t,r),(r&130023424)===r&&(e=zp+500-et(),10<e)){if(Bu(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Kh(Bi.bind(null,t,$t,xr),e);break}Bi(t,$t,xr);break;case 4:if(Qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var a=31-In(r);i=1<<a,a=e[a],a>o&&(o=a),r&=~i}if(r=o,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KS(r/1960))-r,10<r){t.timeoutHandle=Kh(Bi.bind(null,t,$t,xr),r);break}Bi(t,$t,xr);break;case 5:Bi(t,$t,xr);break;default:throw Error(Z(329))}}}return Wt(t,et()),t.callbackNode===n?cw.bind(null,t):null}function gf(t,e){var n=Ta;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=ic(t,e),t!==2&&(e=$t,$t=n,e!==null&&vf(e)),t}function vf(t){$t===null?$t=t:$t.push.apply($t,t)}function YS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Dn(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(t,e){for(e&=~Dp,e&=~Rc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function _v(t){if(Te&6)throw Error(Z(327));oo();var e=Bu(t,0);if(!(e&1))return Wt(t,et()),null;var n=ic(t,e);if(t.tag!==0&&n===2){var r=Fh(t);r!==0&&(e=r,n=gf(t,r))}if(n===1)throw n=Ya,ns(t,0),Qr(t,e),Wt(t,et()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bi(t,$t,xr),Wt(t,et()),null}function $p(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Eo=et()+500,Pc&&Pi())}}function us(t){si!==null&&si.tag===0&&!(Te&6)&&oo();var e=Te;Te|=1;var n=gn.transition,r=Ie;try{if(gn.transition=null,Ie=1,t)return t()}finally{Ie=r,gn.transition=n,Te=e,!(Te&6)&&Pi()}}function Bp(){Gt=Xs.current,Ue(Xs)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CS(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(wp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vu();break;case 3:ko(),Ue(Ft),Ue(Et),Lp();break;case 5:Tp(r);break;case 4:ko();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:Sp(r.type._context);break;case 22:case 23:Bp()}n=n.return}if(ht=t,it=t=mi(t.current,null),vt=Gt=e,lt=0,Ya=null,Dp=Rc=ls=0,$t=Ta=null,qi!==null){for(e=0;e<qi.length;e++)if(n=qi[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}qi=null}return t}function dw(t,e){do{var n=it;try{if(kp(),Pu.current=ec,Xu){for(var r=qe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Xu=!1}if(as=0,dt=ot=qe=null,Ca=!1,qa=0,jp.current=null,n===null||n.return===null){lt=1,Ya=e,it=null;break}e:{var i=t,a=n.return,u=n,c=e;if(e=vt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=ov(a);if(v!==null){v.flags&=-257,av(v,a,u,i,e),v.mode&1&&sv(i,h,e),e=v,c=h;var w=e.updateQueue;if(w===null){var _=new Set;_.add(c),e.updateQueue=_}else w.add(c);break e}else{if(!(e&1)){sv(i,h,e),Fp();break e}c=Error(Z(426))}}else if(We&&u.mode&1){var E=ov(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),av(E,a,u,i,e),xp(So(c,u));break e}}i=c=So(c,u),lt!==4&&(lt=2),Ta===null?Ta=[i]:Ta.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=G0(i,c,e);Xg(i,b);break e;case 1:u=c;var x=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(fi===null||!fi.has(k)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=K0(i,u,e);Xg(i,T);break e}}i=i.return}while(i!==null)}pw(n)}catch(R){e=R,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function hw(){var t=tc.current;return tc.current=ec,t===null?ec:t}function Fp(){(lt===0||lt===3||lt===2)&&(lt=4),ht===null||!(ls&268435455)&&!(Rc&268435455)||Qr(ht,vt)}function ic(t,e){var n=Te;Te|=2;var r=hw();(ht!==t||vt!==e)&&(xr=null,ns(t,e));do try{QS();break}catch(o){dw(t,o)}while(!0);if(kp(),Te=n,tc.current=r,it!==null)throw Error(Z(261));return ht=null,vt=0,lt}function QS(){for(;it!==null;)fw(it)}function JS(){for(;it!==null&&!kk();)fw(it)}function fw(t){var e=gw(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?pw(t):it=e,jp.current=null}function pw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VS(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,it=null;return}}else if(n=ZS(n,e,Gt),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);lt===0&&(lt=5)}function Bi(t,e,n){var r=Ie,o=gn.transition;try{gn.transition=null,Ie=1,XS(t,e,n,r)}finally{gn.transition=o,Ie=r}return null}function XS(t,e,n,r){do oo();while(si!==null);if(Te&6)throw Error(Z(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Nk(t,i),t===ht&&(it=ht=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cu||(cu=!0,vw($u,function(){return oo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gn.transition,gn.transition=null;var a=Ie;Ie=1;var u=Te;Te|=4,jp.current=null,qS(t,n),lw(n,t),_S(qh),Fu=!!Hh,qh=Hh=null,t.current=n,GS(n),Sk(),Te=u,Ie=a,gn.transition=i}else t.current=n;if(cu&&(cu=!1,si=t,rc=o),i=t.pendingLanes,i===0&&(fi=null),Pk(n.stateNode),Wt(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(nc)throw nc=!1,t=pf,pf=null,t;return rc&1&&t.tag!==0&&oo(),i=t.pendingLanes,i&1?t===mf?La++:(La=0,mf=t):La=0,Pi(),null}function oo(){if(si!==null){var t=G_(rc),e=gn.transition,n=Ie;try{if(gn.transition=null,Ie=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,rc=0,Te&6)throw Error(Z(331));var o=Te;for(Te|=4,ee=t.current;ee!==null;){var i=ee,a=i.child;if(ee.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(ee=h;ee!==null;){var p=ee;switch(p.tag){case 0:case 11:case 15:Pa(8,p,i)}var m=p.child;if(m!==null)m.return=p,ee=m;else for(;ee!==null;){p=ee;var g=p.sibling,v=p.return;if(sw(p),p===h){ee=null;break}if(g!==null){g.return=v,ee=g;break}ee=v}}}var w=i.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}ee=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ee=a;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pa(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ee=b;break e}ee=i.return}}var x=t.current;for(ee=x;ee!==null;){a=ee;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,ee=k;else e:for(a=x;ee!==null;){if(u=ee,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Oc(9,u)}}catch(R){Je(u,u.return,R)}if(u===a){ee=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,ee=T;break e}ee=u.return}}if(Te=o,Pi(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(bc,t)}catch{}r=!0}return r}finally{Ie=n,gn.transition=e}}return!1}function wv(t,e,n){e=So(n,e),e=G0(t,e,1),t=hi(t,e,1),e=Nt(),t!==null&&(gl(t,1,e),Wt(t,e))}function Je(t,e,n){if(t.tag===3)wv(t,t,n);else for(;e!==null;){if(e.tag===3){wv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){t=So(n,t),t=K0(e,t,1),e=hi(e,t,1),t=Nt(),e!==null&&(gl(e,1,t),Wt(e,t));break}}e=e.return}}function eE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(vt&n)===n&&(lt===4||lt===3&&(vt&130023424)===vt&&500>et()-zp?ns(t,0):Dp|=n),Wt(t,e)}function mw(t,e){e===0&&(t.mode&1?(e=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):e=1);var n=Nt();t=Rr(t,e),t!==null&&(gl(t,e,n),Wt(t,n))}function tE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mw(t,n)}function nE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),mw(t,n)}var gw;gw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,WS(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,We&&e.flags&1048576&&w0(e,Gu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lu(t,e),t=e.pendingProps;var o=wo(e,Et.current);so(e,n),o=Rp(null,e,r,t,o,n);var i=Ap();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(r)?(i=!0,Hu(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Cp(e),o.updater=Lc,e.stateNode=o,o._reactInternals=e,nf(e,r,t,n),e=of(null,e,r,!0,i,n)):(e.tag=0,We&&i&&_p(e),Rt(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lu(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=iE(r),t=Pn(r,t),o){case 0:e=sf(null,e,r,t,n);break e;case 1:e=cv(null,e,r,t,n);break e;case 11:e=lv(null,e,r,t,n);break e;case 14:e=uv(null,e,r,Pn(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Pn(r,o),sf(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Pn(r,o),cv(t,e,r,o,n);case 3:e:{if(X0(e),t===null)throw Error(Z(387));r=e.pendingProps,i=e.memoizedState,o=i.element,C0(t,e),Qu(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=So(Error(Z(423)),e),e=dv(t,e,r,n,o);break e}else if(r!==o){o=So(Error(Z(424)),e),e=dv(t,e,r,n,o);break e}else for(Jt=di(e.stateNode.containerInfo.firstChild),Xt=e,We=!0,Mn=null,n=S0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===o){e=Ar(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return P0(e),t===null&&Xh(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,a=o.children,Gh(r,o)?a=null:i!==null&&Gh(r,i)&&(e.flags|=32),J0(t,e),Rt(t,e,a,n),e.child;case 6:return t===null&&Xh(e),null;case 13:return ew(t,e,n);case 4:return Pp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Pn(r,o),lv(t,e,r,o,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,a=o.value,$e(Ku,r._currentValue),r._currentValue=a,i!==null)if(Dn(i.value,a)){if(i.children===o.children&&!Ft.current){e=Ar(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){a=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Tr(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ef(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Z(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),ef(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Rt(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,so(e,n),o=vn(o),r=r(o),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,o=Pn(r,e.pendingProps),o=Pn(r.type,o),uv(t,e,r,o,n);case 15:return Y0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Pn(r,o),Lu(t,e),e.tag=1,Ut(r)?(t=!0,Hu(e)):t=!1,so(e,n),q0(e,r,o),nf(e,r,o,n),of(null,e,r,!0,t,n);case 19:return tw(t,e,n);case 22:return Q0(t,e,n)}throw Error(Z(156,e.tag))};function vw(t,e){return Z_(t,e)}function rE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new rE(t,e,n,r)}function Up(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iE(t){if(typeof t=="function")return Up(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ap)return 11;if(t===lp)return 14}return 2}function mi(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Au(t,e,n,r,o,i){var a=2;if(r=t,typeof t=="function")Up(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ws:return rs(n.children,o,i,e);case op:a=8,o|=8;break;case Ch:return t=mn(12,n,e,o|2),t.elementType=Ch,t.lanes=i,t;case Ph:return t=mn(13,n,e,o),t.elementType=Ph,t.lanes=i,t;case Th:return t=mn(19,n,e,o),t.elementType=Th,t.lanes=i,t;case P_:return Ac(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E_:a=10;break e;case C_:a=9;break e;case ap:a=11;break e;case lp:a=14;break e;case Hr:a=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=mn(a,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function rs(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function Ac(t,e,n,r){return t=mn(22,t,r,e),t.elementType=P_,t.lanes=n,t.stateNode={isHidden:!1},t}function ih(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function sh(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sE(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$d(0),this.expirationTimes=$d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$d(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Wp(t,e,n,r,o,i,a,u,c){return t=new sE(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(i),t}function oE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yw(t){if(!t)return yi;t=t._reactInternals;e:{if(ps(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Ut(n))return y0(t,n,e)}return e}function _w(t,e,n,r,o,i,a,u,c){return t=Wp(n,r,!0,t,o,i,a,u,c),t.context=yw(null),n=t.current,r=Nt(),o=pi(n),i=Tr(r,o),i.callback=e??null,hi(n,i,o),t.current.lanes=o,gl(t,o,r),Wt(t,r),t}function Nc(t,e,n,r){var o=e.current,i=Nt(),a=pi(o);return n=yw(n),e.context===null?e.context=n:e.pendingContext=n,e=Tr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hi(o,e,a),t!==null&&(jn(t,o,a,i),Cu(t,o,a)),a}function sc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zp(t,e){xv(t,e),(t=t.alternate)&&xv(t,e)}function aE(){return null}var ww=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vp(t){this._internalRoot=t}Mc.prototype.render=Vp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Nc(t,e,null,null)};Mc.prototype.unmount=Vp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){Nc(null,t,null,null)}),e[Or]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yr.length&&e!==0&&e<Yr[n].priority;n++);Yr.splice(n,0,t),n===0&&X_(t)}};function Hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ic(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bv(){}function lE(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var h=sc(a);i.call(h)}}var a=_w(e,r,t,0,null,!1,!1,"",bv);return t._reactRootContainer=a,t[Or]=a.current,Ua(t.nodeType===8?t.parentNode:t),us(),a}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var h=sc(c);u.call(h)}}var c=Wp(t,0,!1,null,null,!1,!1,"",bv);return t._reactRootContainer=c,t[Or]=c.current,Ua(t.nodeType===8?t.parentNode:t),us(function(){Nc(e,c,n,r)}),c}function jc(t,e,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var u=o;o=function(){var c=sc(a);u.call(c)}}Nc(e,a,t,o)}else a=lE(n,e,t,o,r);return sc(a)}K_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ga(e.pendingLanes);n!==0&&(dp(e,n|1),Wt(e,et()),!(Te&6)&&(Eo=et()+500,Pi()))}break;case 13:us(function(){var r=Rr(t,1);if(r!==null){var o=Nt();jn(r,t,1,o)}}),Zp(t,1)}};hp=function(t){if(t.tag===13){var e=Rr(t,134217728);if(e!==null){var n=Nt();jn(e,t,134217728,n)}Zp(t,134217728)}};Y_=function(t){if(t.tag===13){var e=pi(t),n=Rr(t,e);if(n!==null){var r=Nt();jn(n,t,e,r)}Zp(t,e)}};Q_=function(){return Ie};J_=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};zh=function(t,e,n){switch(e){case"input":if(Rh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Cc(r);if(!o)throw Error(Z(90));L_(r),Rh(r,o)}}}break;case"textarea":R_(t,n);break;case"select":e=n.value,e!=null&&to(t,!!n.multiple,e,!1)}};z_=$p;$_=us;var uE={usingClientEntryPoint:!1,Events:[yl,qs,Cc,j_,D_,$p]},ua={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cE={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=U_(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||aE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{bc=du.inject(cE),sr=du}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uE;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hp(e))throw Error(Z(200));return oE(t,e,null,n)};rn.createRoot=function(t,e){if(!Hp(t))throw Error(Z(299));var n=!1,r="",o=ww;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Wp(t,1,!1,null,null,n,!1,r,o),t[Or]=e.current,Ua(t.nodeType===8?t.parentNode:t),new Vp(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=U_(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return us(t)};rn.hydrate=function(t,e,n){if(!Ic(e))throw Error(Z(200));return jc(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!Hp(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=ww;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=_w(e,null,t,1,n??null,o,!1,i,a),t[Or]=e.current,Ua(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Mc(e)};rn.render=function(t,e,n){if(!Ic(e))throw Error(Z(200));return jc(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!Ic(t))throw Error(Z(40));return t._reactRootContainer?(us(function(){jc(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};rn.unstable_batchedUpdates=$p;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ic(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return jc(t,e,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function xw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xw)}catch(t){console.error(t)}}xw(),x_.exports=rn;var wl=x_.exports;const bw=Jf(wl);var kw,kv=wl;kw=kv.createRoot,kv.hydrateRoot;const dE=1,hE=1e6;let oh=0;function fE(){return oh=(oh+1)%Number.MAX_SAFE_INTEGER,oh.toString()}const ah=new Map,Sv=t=>{if(ah.has(t))return;const e=setTimeout(()=>{ah.delete(t),Oa({type:"REMOVE_TOAST",toastId:t})},hE);ah.set(t,e)},pE=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,dE)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Sv(n):t.toasts.forEach(r=>{Sv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Nu=[];let Mu={toasts:[]};function Oa(t){Mu=pE(Mu,t),Nu.forEach(e=>{e(Mu)})}function mE({...t}){const e=fE(),n=o=>Oa({type:"UPDATE_TOAST",toast:{...o,id:e}}),r=()=>Oa({type:"DISMISS_TOAST",toastId:e});return Oa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:n}}function Sw(){const[t,e]=P.useState(Mu);return P.useEffect(()=>(Nu.push(e),()=>{const n=Nu.indexOf(e);n>-1&&Nu.splice(n,1)}),[t]),{...t,toast:mE,dismiss:n=>Oa({type:"DISMISS_TOAST",toastId:n})}}function at(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Ev(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ew(...t){return e=>{let n=!1;const r=t.map(o=>{const i=Ev(o,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():Ev(t[o],null)}}}}function zn(...t){return P.useCallback(Ew(...t),t)}function Dc(t,e=[]){let n=[];function r(i,a){const u=P.createContext(a),c=n.length;n=[...n,a];const h=m=>{var b;const{scope:g,children:v,...w}=m,_=((b=g==null?void 0:g[t])==null?void 0:b[c])||u,E=P.useMemo(()=>w,Object.values(w));return C.jsx(_.Provider,{value:E,children:v})};h.displayName=i+"Provider";function p(m,g){var _;const v=((_=g==null?void 0:g[t])==null?void 0:_[c])||u,w=P.useContext(v);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[h,p]}const o=()=>{const i=n.map(a=>P.createContext(a));return function(u){const c=(u==null?void 0:u[t])||i;return P.useMemo(()=>({[`__scope${t}`]:{...u,[t]:c}}),[u,c])}};return o.scopeName=t,[r,gE(o,...e)]}function gE(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=r.reduce((u,{useScope:c,scopeName:h})=>{const m=c(i)[`__scope${h}`];return{...u,...m}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function yf(t){const e=vE(t),n=P.forwardRef((r,o)=>{const{children:i,...a}=r,u=P.Children.toArray(i),c=u.find(_E);if(c){const h=c.props.children,p=u.map(m=>m===c?P.Children.count(h)>1?P.Children.only(null):P.isValidElement(h)?h.props.children:null:m);return C.jsx(e,{...a,ref:o,children:P.isValidElement(h)?P.cloneElement(h,void 0,p):null})}return C.jsx(e,{...a,ref:o,children:i})});return n.displayName=`${t}.Slot`,n}function vE(t){const e=P.forwardRef((n,r)=>{const{children:o,...i}=n;if(P.isValidElement(o)){const a=xE(o),u=wE(i,o.props);return o.type!==P.Fragment&&(u.ref=r?Ew(r,a):a),P.cloneElement(o,u)}return P.Children.count(o)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Cw=Symbol("radix.slottable");function yE(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Cw,e}function _E(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Cw}function wE(t,e){const n={...e};for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...u)=>{const c=i(...u);return o(...u),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}function xE(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bE(t){const e=t+"CollectionProvider",[n,r]=Dc(e),[o,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=_=>{const{scope:E,children:b}=_,x=G.useRef(null),k=G.useRef(new Map).current;return C.jsx(o,{scope:E,itemMap:k,collectionRef:x,children:b})};a.displayName=e;const u=t+"CollectionSlot",c=yf(u),h=G.forwardRef((_,E)=>{const{scope:b,children:x}=_,k=i(u,b),T=zn(E,k.collectionRef);return C.jsx(c,{ref:T,children:x})});h.displayName=u;const p=t+"CollectionItemSlot",m="data-radix-collection-item",g=yf(p),v=G.forwardRef((_,E)=>{const{scope:b,children:x,...k}=_,T=G.useRef(null),R=zn(E,T),A=i(p,b);return G.useEffect(()=>(A.itemMap.set(T,{ref:T,...k}),()=>void A.itemMap.delete(T))),C.jsx(g,{[m]:"",ref:R,children:x})});v.displayName=p;function w(_){const E=i(t+"CollectionConsumer",_);return G.useCallback(()=>{const x=E.collectionRef.current;if(!x)return[];const k=Array.from(x.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((A,j)=>k.indexOf(A.ref.current)-k.indexOf(j.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:a,Slot:h,ItemSlot:v},w,r]}var kE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zt=kE.reduce((t,e)=>{const n=yf(`Primitive.${e}`),r=P.forwardRef((o,i)=>{const{asChild:a,...u}=o,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(c,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Pw(t,e){t&&wl.flushSync(()=>t.dispatchEvent(e))}function _i(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function SE(t,e=globalThis==null?void 0:globalThis.document){const n=_i(t);P.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var EE="DismissableLayer",_f="dismissableLayer.update",CE="dismissableLayer.pointerDownOutside",PE="dismissableLayer.focusOutside",Cv,Tw=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qp=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:u,...c}=t,h=P.useContext(Tw),[p,m]=P.useState(null),g=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=P.useState({}),w=zn(e,j=>m(j)),_=Array.from(h.layers),[E]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=_.indexOf(E),x=p?_.indexOf(p):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,T=x>=b,R=LE(j=>{const I=j.target,F=[...h.branches].some($=>$.contains(I));!T||F||(o==null||o(j),a==null||a(j),j.defaultPrevented||u==null||u())},g),A=OE(j=>{const I=j.target;[...h.branches].some($=>$.contains(I))||(i==null||i(j),a==null||a(j),j.defaultPrevented||u==null||u())},g);return SE(j=>{x===h.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},g),P.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Cv=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Pv(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Cv)}},[p,g,n,h]),P.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Pv())},[p,h]),P.useEffect(()=>{const j=()=>v({});return document.addEventListener(_f,j),()=>document.removeEventListener(_f,j)},[]),C.jsx(Zt.div,{...c,ref:w,style:{pointerEvents:k?T?"auto":"none":void 0,...t.style},onFocusCapture:at(t.onFocusCapture,A.onFocusCapture),onBlurCapture:at(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:at(t.onPointerDownCapture,R.onPointerDownCapture)})});qp.displayName=EE;var TE="DismissableLayerBranch",Lw=P.forwardRef((t,e)=>{const n=P.useContext(Tw),r=P.useRef(null),o=zn(e,r);return P.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),C.jsx(Zt.div,{...t,ref:o})});Lw.displayName=TE;function LE(t,e=globalThis==null?void 0:globalThis.document){const n=_i(t),r=P.useRef(!1),o=P.useRef(()=>{});return P.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let c=function(){Ow(CE,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=c,e.addEventListener("click",o.current,{once:!0})):c()}else e.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function OE(t,e=globalThis==null?void 0:globalThis.document){const n=_i(t),r=P.useRef(!1);return P.useEffect(()=>{const o=i=>{i.target&&!r.current&&Ow(PE,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Pv(){const t=new CustomEvent(_f);document.dispatchEvent(t)}function Ow(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?Pw(o,i):o.dispatchEvent(i)}var RE=qp,AE=Lw,wi=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},NE="Portal",Rw=P.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[o,i]=P.useState(!1);wi(()=>i(!0),[]);const a=n||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?bw.createPortal(C.jsx(Zt.div,{...r,ref:e}),a):null});Rw.displayName=NE;function ME(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var Gp=t=>{const{present:e,children:n}=t,r=IE(e),o=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),i=zn(r.ref,jE(o));return typeof n=="function"||r.isPresent?P.cloneElement(o,{ref:i}):null};Gp.displayName="Presence";function IE(t){const[e,n]=P.useState(),r=P.useRef(null),o=P.useRef(t),i=P.useRef("none"),a=t?"mounted":"unmounted",[u,c]=ME(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const h=hu(r.current);i.current=u==="mounted"?h:"none"},[u]),wi(()=>{const h=r.current,p=o.current;if(p!==t){const g=i.current,v=hu(h);t?c("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(p&&g!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,c]),wi(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,m=v=>{const _=hu(r.current).includes(v.animationName);if(v.target===e&&_&&(c("ANIMATION_END"),!o.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},g=v=>{v.target===e&&(i.current=hu(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:P.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function hu(t){return(t==null?void 0:t.animationName)||"none"}function jE(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var DE=__[" useInsertionEffect ".trim().toString()]||wi;function zE({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,i,a]=$E({defaultProp:e,onChange:n}),u=t!==void 0,c=u?t:o;{const p=P.useRef(t!==void 0);P.useEffect(()=>{const m=p.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const h=P.useCallback(p=>{var m;if(u){const g=BE(p)?p(t):p;g!==t&&((m=a.current)==null||m.call(a,g))}else i(p)},[u,t,i,a]);return[c,h]}function $E({defaultProp:t,onChange:e}){const[n,r]=P.useState(t),o=P.useRef(n),i=P.useRef(e);return DE(()=>{i.current=e},[e]),P.useEffect(()=>{var a;o.current!==n&&((a=i.current)==null||a.call(i,n),o.current=n)},[n,o]),[n,r,i]}function BE(t){return typeof t=="function"}var FE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),UE="VisuallyHidden",zc=P.forwardRef((t,e)=>C.jsx(Zt.span,{...t,ref:e,style:{...FE,...t.style}}));zc.displayName=UE;var WE=zc,Kp="ToastProvider",[Yp,ZE,VE]=bE("Toast"),[Aw,yM]=Dc("Toast",[VE]),[HE,$c]=Aw(Kp),Nw=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:a}=t,[u,c]=P.useState(null),[h,p]=P.useState(0),m=P.useRef(!1),g=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kp}\`. Expected non-empty \`string\`.`),C.jsx(Yp.Provider,{scope:e,children:C.jsx(HE,{scope:e,label:n,duration:r,swipeDirection:o,swipeThreshold:i,toastCount:h,viewport:u,onViewportChange:c,onToastAdd:P.useCallback(()=>p(v=>v+1),[]),onToastRemove:P.useCallback(()=>p(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:a})})};Nw.displayName=Kp;var Mw="ToastViewport",qE=["F8"],wf="toast.viewportPause",xf="toast.viewportResume",Iw=P.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=qE,label:o="Notifications ({hotkey})",...i}=t,a=$c(Mw,n),u=ZE(n),c=P.useRef(null),h=P.useRef(null),p=P.useRef(null),m=P.useRef(null),g=zn(e,m,a.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=a.toastCount>0;P.useEffect(()=>{const E=b=>{var k;r.length!==0&&r.every(T=>b[T]||b.code===T)&&((k=m.current)==null||k.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),P.useEffect(()=>{const E=c.current,b=m.current;if(w&&E&&b){const x=()=>{if(!a.isClosePausedRef.current){const A=new CustomEvent(wf);b.dispatchEvent(A),a.isClosePausedRef.current=!0}},k=()=>{if(a.isClosePausedRef.current){const A=new CustomEvent(xf);b.dispatchEvent(A),a.isClosePausedRef.current=!1}},T=A=>{!E.contains(A.relatedTarget)&&k()},R=()=>{E.contains(document.activeElement)||k()};return E.addEventListener("focusin",x),E.addEventListener("focusout",T),E.addEventListener("pointermove",x),E.addEventListener("pointerleave",R),window.addEventListener("blur",x),window.addEventListener("focus",k),()=>{E.removeEventListener("focusin",x),E.removeEventListener("focusout",T),E.removeEventListener("pointermove",x),E.removeEventListener("pointerleave",R),window.removeEventListener("blur",x),window.removeEventListener("focus",k)}}},[w,a.isClosePausedRef]);const _=P.useCallback(({tabbingDirection:E})=>{const x=u().map(k=>{const T=k.ref.current,R=[T,...oC(T)];return E==="forwards"?R:R.reverse()});return(E==="forwards"?x.reverse():x).flat()},[u]);return P.useEffect(()=>{const E=m.current;if(E){const b=x=>{var R,A,j;const k=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!k){const I=document.activeElement,F=x.shiftKey;if(x.target===E&&F){(R=h.current)==null||R.focus();return}const H=_({tabbingDirection:F?"backwards":"forwards"}),he=H.findIndex(V=>V===I);lh(H.slice(he+1))?x.preventDefault():F?(A=h.current)==null||A.focus():(j=p.current)==null||j.focus()}};return E.addEventListener("keydown",b),()=>E.removeEventListener("keydown",b)}},[u,_]),C.jsxs(AE,{ref:c,role:"region","aria-label":o.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&C.jsx(bf,{ref:h,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});lh(E)}}),C.jsx(Yp.Slot,{scope:n,children:C.jsx(Zt.ol,{tabIndex:-1,...i,ref:g})}),w&&C.jsx(bf,{ref:p,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});lh(E)}})]})});Iw.displayName=Mw;var jw="ToastFocusProxy",bf=P.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=t,i=$c(jw,n);return C.jsx(zc,{"aria-hidden":!0,tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:a=>{var h;const u=a.relatedTarget;!((h=i.viewport)!=null&&h.contains(u))&&r()}})});bf.displayName=jw;var xl="Toast",GE="toast.swipeStart",KE="toast.swipeMove",YE="toast.swipeCancel",QE="toast.swipeEnd",Dw=P.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:i,...a}=t,[u,c]=zE({prop:r,defaultProp:o??!0,onChange:i,caller:xl});return C.jsx(Gp,{present:n||u,children:C.jsx(eC,{open:u,...a,ref:e,onClose:()=>c(!1),onPause:_i(t.onPause),onResume:_i(t.onResume),onSwipeStart:at(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:at(t.onSwipeMove,h=>{const{x:p,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:at(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:at(t.onSwipeEnd,h=>{const{x:p,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});Dw.displayName=xl;var[JE,XE]=Aw(xl,{onClose(){}}),eC=P.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:i,onClose:a,onEscapeKeyDown:u,onPause:c,onResume:h,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:v,...w}=t,_=$c(xl,n),[E,b]=P.useState(null),x=zn(e,V=>b(V)),k=P.useRef(null),T=P.useRef(null),R=o||_.duration,A=P.useRef(0),j=P.useRef(R),I=P.useRef(0),{onToastAdd:F,onToastRemove:$}=_,K=_i(()=>{var ge;(E==null?void 0:E.contains(document.activeElement))&&((ge=_.viewport)==null||ge.focus()),a()}),H=P.useCallback(V=>{!V||V===1/0||(window.clearTimeout(I.current),A.current=new Date().getTime(),I.current=window.setTimeout(K,V))},[K]);P.useEffect(()=>{const V=_.viewport;if(V){const ge=()=>{H(j.current),h==null||h()},te=()=>{const le=new Date().getTime()-A.current;j.current=j.current-le,window.clearTimeout(I.current),c==null||c()};return V.addEventListener(wf,te),V.addEventListener(xf,ge),()=>{V.removeEventListener(wf,te),V.removeEventListener(xf,ge)}}},[_.viewport,R,c,h,H]),P.useEffect(()=>{i&&!_.isClosePausedRef.current&&H(R)},[i,R,_.isClosePausedRef,H]),P.useEffect(()=>(F(),()=>$()),[F,$]);const he=P.useMemo(()=>E?Zw(E):null,[E]);return _.viewport?C.jsxs(C.Fragment,{children:[he&&C.jsx(tC,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:he}),C.jsx(JE,{scope:n,onClose:K,children:wl.createPortal(C.jsx(Yp.ItemSlot,{scope:n,children:C.jsx(RE,{asChild:!0,onEscapeKeyDown:at(u,()=>{_.isFocusedToastEscapeKeyDownRef.current||K(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(Zt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:at(t.onKeyDown,V=>{V.key==="Escape"&&(u==null||u(V.nativeEvent),V.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:at(t.onPointerDown,V=>{V.button===0&&(k.current={x:V.clientX,y:V.clientY})}),onPointerMove:at(t.onPointerMove,V=>{if(!k.current)return;const ge=V.clientX-k.current.x,te=V.clientY-k.current.y,le=!!T.current,M=["left","right"].includes(_.swipeDirection),U=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,z=M?U(0,ge):0,Y=M?0:U(0,te),Q=V.pointerType==="touch"?10:2,oe={x:z,y:Y},se={originalEvent:V,delta:oe};le?(T.current=oe,fu(KE,m,se,{discrete:!1})):Tv(oe,_.swipeDirection,Q)?(T.current=oe,fu(GE,p,se,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(ge)>Q||Math.abs(te)>Q)&&(k.current=null)}),onPointerUp:at(t.onPointerUp,V=>{const ge=T.current,te=V.target;if(te.hasPointerCapture(V.pointerId)&&te.releasePointerCapture(V.pointerId),T.current=null,k.current=null,ge){const le=V.currentTarget,M={originalEvent:V,delta:ge};Tv(ge,_.swipeDirection,_.swipeThreshold)?fu(QE,v,M,{discrete:!0}):fu(YE,g,M,{discrete:!0}),le.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),tC=t=>{const{__scopeToast:e,children:n,...r}=t,o=$c(xl,e),[i,a]=P.useState(!1),[u,c]=P.useState(!1);return iC(()=>a(!0)),P.useEffect(()=>{const h=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:C.jsx(Rw,{asChild:!0,children:C.jsx(zc,{...r,children:i&&C.jsxs(C.Fragment,{children:[o.label," ",n]})})})},nC="ToastTitle",zw=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(Zt.div,{...r,ref:e})});zw.displayName=nC;var rC="ToastDescription",$w=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(Zt.div,{...r,ref:e})});$w.displayName=rC;var Bw="ToastAction",Fw=P.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?C.jsx(Ww,{altText:n,asChild:!0,children:C.jsx(Qp,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Bw}\`. Expected non-empty \`string\`.`),null)});Fw.displayName=Bw;var Uw="ToastClose",Qp=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,o=XE(Uw,n);return C.jsx(Ww,{asChild:!0,children:C.jsx(Zt.button,{type:"button",...r,ref:e,onClick:at(t.onClick,o.onClose)})})});Qp.displayName=Uw;var Ww=P.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...o}=t;return C.jsx(Zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:e})});function Zw(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),sC(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Zw(r))}}),e}function fu(t,e,n,{discrete:r}){const o=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?Pw(o,i):o.dispatchEvent(i)}var Tv=(t,e,n=0)=>{const r=Math.abs(t.x),o=Math.abs(t.y),i=r>o;return e==="left"||e==="right"?i&&r>n:!i&&o>n};function iC(t=()=>{}){const e=_i(t);wi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function sC(t){return t.nodeType===t.ELEMENT_NODE}function oC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var aC=Nw,Vw=Iw,Hw=Dw,qw=zw,Gw=$w,Kw=Fw,Yw=Qp;function Qw(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Qw(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Jw(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Qw(t))&&(r&&(r+=" "),r+=e);return r}const Lv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ov=Jw,lC=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ov(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=e,a=Object.keys(o).map(h=>{const p=n==null?void 0:n[h],m=i==null?void 0:i[h];if(p===null)return null;const g=Lv(p)||Lv(m);return o[h][g]}),u=n&&Object.entries(n).reduce((h,p)=>{let[m,g]=p;return g===void 0||(h[m]=g),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:m,className:g,...v}=p;return Object.entries(v).every(w=>{let[_,E]=w;return Array.isArray(E)?E.includes({...i,...u}[_]):{...i,...u}[_]===E})?[...h,m,g]:h},[]);return Ov(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:a,...u},c)=>P.createElement("svg",{ref:c,...cC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Xw("lucide",o),...u},[...a.map(([h,p])=>P.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(t,e)=>{const n=P.forwardRef(({className:r,...o},i)=>P.createElement(dC,{ref:i,iconNode:e,className:Xw(`lucide-${uC(t)}`,r),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=jt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=jt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=jt("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=jt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=jt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=jt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=jt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=jt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jp="-",_C=t=>{const e=xC(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const u=a.split(Jp);return u[0]===""&&u.length!==1&&u.shift(),ix(u,e)||wC(a)},getConflictingClassGroupIds:(a,u)=>{const c=n[a]||[];return u&&r[a]?[...c,...r[a]]:c}}},ix=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?ix(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const i=t.join(Jp);return(a=e.validators.find(({validator:u})=>u(i)))==null?void 0:a.classGroupId},Av=/^\[(.+)\]$/,wC=t=>{if(Av.test(t)){const e=Av.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xC=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return kC(Object.entries(t.classGroups),n).forEach(([i,a])=>{Sf(a,r,i,e)}),r},Sf=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const i=o===""?e:Nv(e,o);i.classGroupId=n;return}if(typeof o=="function"){if(bC(o)){Sf(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,a])=>{Sf(a,Nv(e,i),n,r)})})},Nv=(t,e)=>{let n=t;return e.split(Jp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bC=t=>t.isThemeGetter,kC=(t,e)=>e?t.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,u])=>[e+a,u])):i);return[n,o]}):t,SC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return o(i,a),a},set(i,a){n.has(i)?n.set(i,a):o(i,a)}}},sx="!",EC=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,o=e[0],i=e.length,a=u=>{const c=[];let h=0,p=0,m;for(let E=0;E<u.length;E++){let b=u[E];if(h===0){if(b===o&&(r||u.slice(E,E+i)===e)){c.push(u.slice(p,E)),p=E+i;continue}if(b==="/"){m=E;continue}}b==="["?h++:b==="]"&&h--}const g=c.length===0?u:u.substring(p),v=g.startsWith(sx),w=v?g.substring(1):g,_=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:_}};return n?u=>n({className:u,parseClassName:a}):a},CC=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},PC=t=>({cache:SC(t.cacheSize),parseClassName:EC(t),..._C(t)}),TC=/\s+/,LC=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=e,i=[],a=t.trim().split(TC);let u="";for(let c=a.length-1;c>=0;c-=1){const h=a[c],{modifiers:p,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}=n(h);let w=!!v,_=r(w?g.substring(0,v):g);if(!_){if(!w){u=h+(u.length>0?" "+u:u);continue}if(_=r(g),!_){u=h+(u.length>0?" "+u:u);continue}w=!1}const E=CC(p).join(":"),b=m?E+sx:E,x=b+_;if(i.includes(x))continue;i.push(x);const k=o(_,w);for(let T=0;T<k.length;++T){const R=k[T];i.push(b+R)}u=h+(u.length>0?" "+u:u)}return u};function OC(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ox(e))&&(r&&(r+=" "),r+=n);return r}const ox=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ox(t[r]))&&(n&&(n+=" "),n+=e);return n};function RC(t,...e){let n,r,o,i=a;function a(c){const h=e.reduce((p,m)=>m(p),t());return n=PC(h),r=n.cache.get,o=n.cache.set,i=u,u(c)}function u(c){const h=r(c);if(h)return h;const p=LC(c,n);return o(c,p),p}return function(){return i(OC.apply(null,arguments))}}const Be=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ax=/^\[(?:([a-z-]+):)?(.+)\]$/i,AC=/^\d+\/\d+$/,NC=new Set(["px","full","screen"]),MC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=t=>ao(t)||NC.has(t)||AC.test(t),Ur=t=>Io(t,"length",HC),ao=t=>!!t&&!Number.isNaN(Number(t)),uh=t=>Io(t,"number",ao),ca=t=>!!t&&Number.isInteger(Number(t)),$C=t=>t.endsWith("%")&&ao(t.slice(0,-1)),xe=t=>ax.test(t),Wr=t=>MC.test(t),BC=new Set(["length","size","percentage"]),FC=t=>Io(t,BC,lx),UC=t=>Io(t,"position",lx),WC=new Set(["image","url"]),ZC=t=>Io(t,WC,GC),VC=t=>Io(t,"",qC),da=()=>!0,Io=(t,e,n)=>{const r=ax.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},HC=t=>IC.test(t)&&!jC.test(t),lx=()=>!1,qC=t=>DC.test(t),GC=t=>zC.test(t),KC=()=>{const t=Be("colors"),e=Be("spacing"),n=Be("blur"),r=Be("brightness"),o=Be("borderColor"),i=Be("borderRadius"),a=Be("borderSpacing"),u=Be("borderWidth"),c=Be("contrast"),h=Be("grayscale"),p=Be("hueRotate"),m=Be("invert"),g=Be("gap"),v=Be("gradientColorStops"),w=Be("gradientColorStopPositions"),_=Be("inset"),E=Be("margin"),b=Be("opacity"),x=Be("padding"),k=Be("saturate"),T=Be("scale"),R=Be("sepia"),A=Be("skew"),j=Be("space"),I=Be("translate"),F=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",xe,e],H=()=>[xe,e],he=()=>["",_r,Ur],V=()=>["auto",ao,xe],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",xe],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[ao,xe];return{cacheSize:500,separator:":",theme:{colors:[da],spacing:[_r,Ur],blur:["none","",Wr,xe],brightness:Y(),borderColor:[t],borderRadius:["none","","full",Wr,xe],borderSpacing:H(),borderWidth:he(),contrast:Y(),grayscale:U(),hueRotate:Y(),invert:U(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[$C,Ur],inset:K(),margin:K(),opacity:Y(),padding:H(),saturate:Y(),scale:Y(),sepia:U(),skew:Y(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[Wr]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),xe]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ca,xe]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",ca,xe]}],"grid-cols":[{"grid-cols":[da]}],"col-start-end":[{col:["auto",{span:["full",ca,xe]},xe]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[da]}],"row-start-end":[{row:["auto",{span:[ca,xe]},xe]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,e]}],"min-w":[{"min-w":[xe,e,"min","max","fit"]}],"max-w":[{"max-w":[xe,e,"none","full","min","max","fit","prose",{screen:[Wr]},Wr]}],h:[{h:[xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Wr,Ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",uh]}],"font-family":[{font:[da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",ao,uh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_r,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_r,Ur]}],"underline-offset":[{"underline-offset":["auto",_r,xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),UC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:te()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[_r,xe]}],"outline-w":[{outline:[_r,Ur]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[_r,Ur]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wr,VC]}],"shadow-color":[{shadow:[da]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wr,xe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[k]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[ca,xe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_r,Ur,uh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YC=RC(KC);function ms(...t){return YC(Jw(t))}const QC=aC,ux=P.forwardRef(({className:t,...e},n)=>C.jsx(Vw,{ref:n,className:ms("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ux.displayName=Vw.displayName;const JC=lC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cx=P.forwardRef(({className:t,variant:e,...n},r)=>C.jsx(Hw,{ref:r,className:ms(JC({variant:e}),t),...n}));cx.displayName=Hw.displayName;const XC=P.forwardRef(({className:t,...e},n)=>C.jsx(Kw,{ref:n,className:ms("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));XC.displayName=Kw.displayName;const dx=P.forwardRef(({className:t,...e},n)=>C.jsx(Yw,{ref:n,className:ms("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:C.jsx(bl,{className:"h-4 w-4"})}));dx.displayName=Yw.displayName;const hx=P.forwardRef(({className:t,...e},n)=>C.jsx(qw,{ref:n,className:ms("text-sm font-semibold",t),...e}));hx.displayName=qw.displayName;const fx=P.forwardRef(({className:t,...e},n)=>C.jsx(Gw,{ref:n,className:ms("text-sm opacity-90",t),...e}));fx.displayName=Gw.displayName;function eP(){const{toasts:t}=Sw();return C.jsxs(QC,{children:[t.map(function({id:e,title:n,description:r,action:o,...i}){return C.jsxs(cx,{...i,children:[C.jsxs("div",{className:"grid gap-1",children:[n&&C.jsx(hx,{children:n}),r&&C.jsx(fx,{children:r})]}),o,C.jsx(dx,{})]},e)}),C.jsx(ux,{})]})}var Mv=["light","dark"],tP="(prefers-color-scheme: dark)",nP=P.createContext(void 0),rP={setTheme:t=>{},themes:[]},iP=()=>{var t;return(t=P.useContext(nP))!=null?t:rP};P.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:i,value:a,attrs:u,nonce:c})=>{let h=i==="system",p=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=o?Mv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(w,_=!1,E=!0)=>{let b=a?a[w]:w,x=_?w+"|| ''":`'${b}'`,k="";return o&&E&&!_&&Mv.includes(w)&&(k+=`d.style.colorScheme = '${w}';`),n==="class"?_||b?k+=`c.add(${x})`:k+="null":b&&(k+=`d[s](n,${x})`),k},v=t?`!function(){${p}${g(t)}}()`:r?`!function(){try{${p}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${tP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${g(a?"x[e]":"e",!0)}}${h?"":"else{"+g(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${g(a?"x[e]":"e",!0)}}else{${g(i,!1,!1)};}${m}}catch(t){}}();`;return P.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});var sP=t=>{switch(t){case"success":return lP;case"info":return cP;case"warning":return uP;case"error":return dP;default:return null}},oP=Array(12).fill(0),aP=({visible:t,className:e})=>G.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},G.createElement("div",{className:"sonner-spinner"},oP.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),lP=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uP=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cP=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dP=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hP=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fP=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ef=1,pP=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,o=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ef++,i=this.toasts.find(u=>u.id===o),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...t,id:o,title:n}),{...u,...t,id:o,dismissible:a,title:n}):u):this.addToast({title:n,...r,dismissible:a,id:o}),o},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),o=n!==void 0,i,a=r.then(async c=>{if(i=["resolve",c],G.isValidElement(c))o=!1,this.create({id:n,type:"default",message:c});else if(gP(c)&&!c.ok){o=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,p=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:h,description:p})}else if(e.success!==void 0){o=!1;let h=typeof e.success=="function"?await e.success(c):e.success,p=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:h,description:p})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){o=!1;let h=typeof e.error=="function"?await e.error(c):e.error,p=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:h,description:p})}}).finally(()=>{var c;o&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),u=()=>new Promise((c,h)=>a.then(()=>i[0]==="reject"?h(i[1]):c(i[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ef++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},zt=new pP,mP=(t,e)=>{let n=(e==null?void 0:e.id)||Ef++;return zt.addToast({title:t,...e,id:n}),n},gP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vP=mP,yP=()=>zt.toasts,_P=()=>zt.getActiveToasts(),Fi=Object.assign(vP,{success:zt.success,info:zt.info,warning:zt.warning,error:zt.error,custom:zt.custom,message:zt.message,promise:zt.promise,dismiss:zt.dismiss,loading:zt.loading},{getHistory:yP,getToasts:_P});function wP(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}wP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pu(t){return t.label!==void 0}var xP=3,bP="32px",kP="16px",Iv=4e3,SP=356,EP=14,CP=20,PP=200;function En(...t){return t.filter(Boolean).join(" ")}function TP(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var LP=t=>{var e,n,r,o,i,a,u,c,h,p,m;let{invert:g,toast:v,unstyled:w,interacting:_,setHeights:E,visibleToasts:b,heights:x,index:k,toasts:T,expanded:R,removeToast:A,defaultRichColors:j,closeButton:I,style:F,cancelButtonStyle:$,actionButtonStyle:K,className:H="",descriptionClassName:he="",duration:V,position:ge,gap:te,loadingIcon:le,expandByDefault:M,classNames:U,icons:z,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:Q}=t,[oe,se]=G.useState(null),[fe,ue]=G.useState(null),[be,Ct]=G.useState(!1),[wn,xn]=G.useState(!1),[on,an]=G.useState(!1),[ln,vs]=G.useState(!1),[ys,Ti]=G.useState(!1),[Li,Un]=G.useState(0),[Dr,Bo]=G.useState(0),hr=G.useRef(v.duration||V||Iv),Fo=G.useRef(null),Wn=G.useRef(null),nd=k===0,rd=k+1<=b,_t=v.type,fr=v.dismissible!==!1,El=v.className||"",id=v.descriptionClassName||"",Oi=G.useMemo(()=>x.findIndex(me=>me.toastId===v.id)||0,[x,v.id]),Cl=G.useMemo(()=>{var me;return(me=v.closeButton)!=null?me:I},[v.closeButton,I]),Pl=G.useMemo(()=>v.duration||V||Iv,[v.duration,V]),_s=G.useRef(0),Zn=G.useRef(0),Uo=G.useRef(0),zr=G.useRef(null),[Ri,sd]=ge.split("-"),Tl=G.useMemo(()=>x.reduce((me,Ne,je)=>je>=Oi?me:me+Ne.height,0),[x,Oi]),Wo=fP(),Ll=v.invert||g,ws=_t==="loading";Zn.current=G.useMemo(()=>Oi*te+Tl,[Oi,Tl]),G.useEffect(()=>{hr.current=Pl},[Pl]),G.useEffect(()=>{Ct(!0)},[]),G.useEffect(()=>{let me=Wn.current;if(me){let Ne=me.getBoundingClientRect().height;return Bo(Ne),E(je=>[{toastId:v.id,height:Ne,position:v.position},...je]),()=>E(je=>je.filter(Vt=>Vt.toastId!==v.id))}},[E,v.id]),G.useLayoutEffect(()=>{if(!be)return;let me=Wn.current,Ne=me.style.height;me.style.height="auto";let je=me.getBoundingClientRect().height;me.style.height=Ne,Bo(je),E(Vt=>Vt.find(Pt=>Pt.toastId===v.id)?Vt.map(Pt=>Pt.toastId===v.id?{...Pt,height:je}:Pt):[{toastId:v.id,height:je,position:v.position},...Vt])},[be,v.title,v.description,E,v.id]);let Vn=G.useCallback(()=>{xn(!0),Un(Zn.current),E(me=>me.filter(Ne=>Ne.toastId!==v.id)),setTimeout(()=>{A(v)},PP)},[v,A,E,Zn]);G.useEffect(()=>{if(v.promise&&_t==="loading"||v.duration===1/0||v.type==="loading")return;let me;return R||_||Q&&Wo?(()=>{if(Uo.current<_s.current){let Ne=new Date().getTime()-_s.current;hr.current=hr.current-Ne}Uo.current=new Date().getTime()})():hr.current!==1/0&&(_s.current=new Date().getTime(),me=setTimeout(()=>{var Ne;(Ne=v.onAutoClose)==null||Ne.call(v,v),Vn()},hr.current)),()=>clearTimeout(me)},[R,_,v,_t,Q,Wo,Vn]),G.useEffect(()=>{v.delete&&Vn()},[Vn,v.delete]);function od(){var me,Ne,je;return z!=null&&z.loading?G.createElement("div",{className:En(U==null?void 0:U.loader,(me=v==null?void 0:v.classNames)==null?void 0:me.loader,"sonner-loader"),"data-visible":_t==="loading"},z.loading):le?G.createElement("div",{className:En(U==null?void 0:U.loader,(Ne=v==null?void 0:v.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":_t==="loading"},le):G.createElement(aP,{className:En(U==null?void 0:U.loader,(je=v==null?void 0:v.classNames)==null?void 0:je.loader),visible:_t==="loading"})}return G.createElement("li",{tabIndex:0,ref:Wn,className:En(H,El,U==null?void 0:U.toast,(e=v==null?void 0:v.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[_t],(n=v==null?void 0:v.classNames)==null?void 0:n[_t]),"data-sonner-toast":"","data-rich-colors":(r=v.richColors)!=null?r:j,"data-styled":!(v.jsx||v.unstyled||w),"data-mounted":be,"data-promise":!!v.promise,"data-swiped":ys,"data-removed":wn,"data-visible":rd,"data-y-position":Ri,"data-x-position":sd,"data-index":k,"data-front":nd,"data-swiping":on,"data-dismissible":fr,"data-type":_t,"data-invert":Ll,"data-swipe-out":ln,"data-swipe-direction":fe,"data-expanded":!!(R||M&&be),style:{"--index":k,"--toasts-before":k,"--z-index":T.length-k,"--offset":`${wn?Li:Zn.current}px`,"--initial-height":M?"auto":`${Dr}px`,...F,...v.style},onDragEnd:()=>{an(!1),se(null),zr.current=null},onPointerDown:me=>{ws||!fr||(Fo.current=new Date,Un(Zn.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(an(!0),zr.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Ne,je,Vt;if(ln||!fr)return;zr.current=null;let Pt=Number(((me=Wn.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Hn=Number(((Ne=Wn.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pr=new Date().getTime()-((je=Fo.current)==null?void 0:je.getTime()),Ht=oe==="x"?Pt:Hn,qn=Math.abs(Ht)/pr;if(Math.abs(Ht)>=CP||qn>.11){Un(Zn.current),(Vt=v.onDismiss)==null||Vt.call(v,v),ue(oe==="x"?Pt>0?"right":"left":Hn>0?"down":"up"),Vn(),vs(!0),Ti(!1);return}an(!1),se(null)},onPointerMove:me=>{var Ne,je,Vt,Pt;if(!zr.current||!fr||((Ne=window.getSelection())==null?void 0:Ne.toString().length)>0)return;let Hn=me.clientY-zr.current.y,pr=me.clientX-zr.current.x,Ht=(je=t.swipeDirections)!=null?je:TP(ge);!oe&&(Math.abs(pr)>1||Math.abs(Hn)>1)&&se(Math.abs(pr)>Math.abs(Hn)?"x":"y");let qn={x:0,y:0};oe==="y"?(Ht.includes("top")||Ht.includes("bottom"))&&(Ht.includes("top")&&Hn<0||Ht.includes("bottom")&&Hn>0)&&(qn.y=Hn):oe==="x"&&(Ht.includes("left")||Ht.includes("right"))&&(Ht.includes("left")&&pr<0||Ht.includes("right")&&pr>0)&&(qn.x=pr),(Math.abs(qn.x)>0||Math.abs(qn.y)>0)&&Ti(!0),(Vt=Wn.current)==null||Vt.style.setProperty("--swipe-amount-x",`${qn.x}px`),(Pt=Wn.current)==null||Pt.style.setProperty("--swipe-amount-y",`${qn.y}px`)}},Cl&&!v.jsx?G.createElement("button",{"aria-label":Y,"data-disabled":ws,"data-close-button":!0,onClick:ws||!fr?()=>{}:()=>{var me;Vn(),(me=v.onDismiss)==null||me.call(v,v)},className:En(U==null?void 0:U.closeButton,(o=v==null?void 0:v.classNames)==null?void 0:o.closeButton)},(i=z==null?void 0:z.close)!=null?i:hP):null,v.jsx||P.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:G.createElement(G.Fragment,null,_t||v.icon||v.promise?G.createElement("div",{"data-icon":"",className:En(U==null?void 0:U.icon,(a=v==null?void 0:v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||od():null,v.type!=="loading"?v.icon||(z==null?void 0:z[_t])||sP(_t):null):null,G.createElement("div",{"data-content":"",className:En(U==null?void 0:U.content,(u=v==null?void 0:v.classNames)==null?void 0:u.content)},G.createElement("div",{"data-title":"",className:En(U==null?void 0:U.title,(c=v==null?void 0:v.classNames)==null?void 0:c.title)},typeof v.title=="function"?v.title():v.title),v.description?G.createElement("div",{"data-description":"",className:En(he,id,U==null?void 0:U.description,(h=v==null?void 0:v.classNames)==null?void 0:h.description)},typeof v.description=="function"?v.description():v.description):null),P.isValidElement(v.cancel)?v.cancel:v.cancel&&pu(v.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||$,onClick:me=>{var Ne,je;pu(v.cancel)&&fr&&((je=(Ne=v.cancel).onClick)==null||je.call(Ne,me),Vn())},className:En(U==null?void 0:U.cancelButton,(p=v==null?void 0:v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,P.isValidElement(v.action)?v.action:v.action&&pu(v.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||K,onClick:me=>{var Ne,je;pu(v.action)&&((je=(Ne=v.action).onClick)==null||je.call(Ne,me),!me.defaultPrevented&&Vn())},className:En(U==null?void 0:U.actionButton,(m=v==null?void 0:v.classNames)==null?void 0:m.actionButton)},v.action.label):null))};function jv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function OP(t,e){let n={};return[t,e].forEach((r,o)=>{let i=o===1,a=i?"--mobile-offset":"--offset",u=i?kP:bP;function c(h){["top","right","bottom","left"].forEach(p=>{n[`${a}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${a}-${h}`]=u:n[`${a}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):c(u)}),n}var RP=P.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:a,className:u,offset:c,mobileOffset:h,theme:p="light",richColors:m,duration:g,style:v,visibleToasts:w=xP,toastOptions:_,dir:E=jv(),gap:b=EP,loadingIcon:x,icons:k,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:R}=t,[A,j]=G.useState([]),I=G.useMemo(()=>Array.from(new Set([r].concat(A.filter(Q=>Q.position).map(Q=>Q.position)))),[A,r]),[F,$]=G.useState([]),[K,H]=G.useState(!1),[he,V]=G.useState(!1),[ge,te]=G.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),le=G.useRef(null),M=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=G.useRef(null),z=G.useRef(!1),Y=G.useCallback(Q=>{j(oe=>{var se;return(se=oe.find(fe=>fe.id===Q.id))!=null&&se.delete||zt.dismiss(Q.id),oe.filter(({id:fe})=>fe!==Q.id)})},[]);return G.useEffect(()=>zt.subscribe(Q=>{if(Q.dismiss){j(oe=>oe.map(se=>se.id===Q.id?{...se,delete:!0}:se));return}setTimeout(()=>{bw.flushSync(()=>{j(oe=>{let se=oe.findIndex(fe=>fe.id===Q.id);return se!==-1?[...oe.slice(0,se),{...oe[se],...Q},...oe.slice(se+1)]:[Q,...oe]})})})}),[]),G.useEffect(()=>{if(p!=="system"){te(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:oe})=>{te(oe?"dark":"light")})}catch{Q.addListener(({matches:se})=>{try{te(se?"dark":"light")}catch(fe){console.error(fe)}})}},[p]),G.useEffect(()=>{A.length<=1&&H(!1)},[A]),G.useEffect(()=>{let Q=oe=>{var se,fe;o.every(ue=>oe[ue]||oe.code===ue)&&(H(!0),(se=le.current)==null||se.focus()),oe.code==="Escape"&&(document.activeElement===le.current||(fe=le.current)!=null&&fe.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[o]),G.useEffect(()=>{if(le.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,z.current=!1)}},[le.current]),G.createElement("section",{ref:e,"aria-label":`${T} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((Q,oe)=>{var se;let[fe,ue]=Q.split("-");return A.length?G.createElement("ol",{key:Q,dir:E==="auto"?jv():E,tabIndex:-1,ref:le,className:u,"data-sonner-toaster":!0,"data-theme":ge,"data-y-position":fe,"data-lifted":K&&A.length>1&&!i,"data-x-position":ue,style:{"--front-toast-height":`${((se=F[0])==null?void 0:se.height)||0}px`,"--width":`${SP}px`,"--gap":`${b}px`,...v,...OP(c,h)},onBlur:be=>{z.current&&!be.currentTarget.contains(be.relatedTarget)&&(z.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||z.current||(z.current=!0,U.current=be.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{he||H(!1)},onDragEnd:()=>H(!1),onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},A.filter(be=>!be.position&&oe===0||be.position===Q).map((be,Ct)=>{var wn,xn;return G.createElement(LP,{key:be.id,icons:k,index:Ct,toast:be,defaultRichColors:m,duration:(wn=_==null?void 0:_.duration)!=null?wn:g,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:w,closeButton:(xn=_==null?void 0:_.closeButton)!=null?xn:a,interacting:he,position:Q,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:Y,toasts:A.filter(on=>on.position==be.position),heights:F.filter(on=>on.position==be.position),setHeights:$,expandByDefault:i,gap:b,loadingIcon:x,expanded:K,pauseWhenPageIsHidden:R,swipeDirections:t.swipeDirections})})):null}))});const AP=({...t})=>{const{theme:e="system"}=iP();return C.jsx(RP,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},NP=["top","right","bottom","left"],xi=Math.min,Kt=Math.max,oc=Math.round,mu=Math.floor,ar=t=>({x:t,y:t}),MP={left:"right",right:"left",bottom:"top",top:"bottom"},IP={start:"end",end:"start"};function Cf(t,e,n){return Kt(t,xi(e,n))}function Nr(t,e){return typeof t=="function"?t(e):t}function Mr(t){return t.split("-")[0]}function jo(t){return t.split("-")[1]}function Xp(t){return t==="x"?"y":"x"}function em(t){return t==="y"?"height":"width"}const jP=new Set(["top","bottom"]);function ir(t){return jP.has(Mr(t))?"y":"x"}function tm(t){return Xp(ir(t))}function DP(t,e,n){n===void 0&&(n=!1);const r=jo(t),o=tm(t),i=em(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=ac(a)),[a,ac(a)]}function zP(t){const e=ac(t);return[Pf(t),e,Pf(e)]}function Pf(t){return t.replace(/start|end/g,e=>IP[e])}const Dv=["left","right"],zv=["right","left"],$P=["top","bottom"],BP=["bottom","top"];function FP(t,e,n){switch(t){case"top":case"bottom":return n?e?zv:Dv:e?Dv:zv;case"left":case"right":return e?$P:BP;default:return[]}}function UP(t,e,n,r){const o=jo(t);let i=FP(Mr(t),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(Pf)))),i}function ac(t){return t.replace(/left|right|bottom|top/g,e=>MP[e])}function WP(t){return{top:0,right:0,bottom:0,left:0,...t}}function px(t){return typeof t!="number"?WP(t):{top:t,right:t,bottom:t,left:t}}function lc(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function $v(t,e,n){let{reference:r,floating:o}=t;const i=ir(e),a=tm(e),u=em(a),c=Mr(e),h=i==="y",p=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,g=r[u]/2-o[u]/2;let v;switch(c){case"top":v={x:p,y:r.y-o.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-o.width,y:m};break;default:v={x:r.x,y:r.y}}switch(jo(e)){case"start":v[a]-=g*(n&&h?-1:1);break;case"end":v[a]+=g*(n&&h?-1:1);break}return v}const ZP=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,u=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:o}),{x:p,y:m}=$v(h,r,c),g=r,v={},w=0;for(let _=0;_<u.length;_++){const{name:E,fn:b}=u[_],{x,y:k,data:T,reset:R}=await b({x:p,y:m,initialPlacement:r,placement:g,strategy:o,middlewareData:v,rects:h,platform:a,elements:{reference:t,floating:e}});p=x??p,m=k??m,v={...v,[E]:{...v[E],...T}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(h=R.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:o}):R.rects),{x:p,y:m}=$v(h,g,c)),_=-1)}return{x:p,y:m,placement:g,strategy:o,middlewareData:v}};async function Qa(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:i,rects:a,elements:u,strategy:c}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=Nr(e,t),w=px(v),E=u[g?m==="floating"?"reference":"floating":m],b=lc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:c})),x=m==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),T=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},R=lc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:x,offsetParent:k,strategy:c}):x);return{top:(b.top-R.top+w.top)/T.y,bottom:(R.bottom-b.bottom+w.bottom)/T.y,left:(b.left-R.left+w.left)/T.x,right:(R.right-b.right+w.right)/T.x}}const VP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:i,platform:a,elements:u,middlewareData:c}=e,{element:h,padding:p=0}=Nr(t,e)||{};if(h==null)return{};const m=px(p),g={x:n,y:r},v=tm(o),w=em(v),_=await a.getDimensions(h),E=v==="y",b=E?"top":"left",x=E?"bottom":"right",k=E?"clientHeight":"clientWidth",T=i.reference[w]+i.reference[v]-g[v]-i.floating[w],R=g[v]-i.reference[v],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let j=A?A[k]:0;(!j||!await(a.isElement==null?void 0:a.isElement(A)))&&(j=u.floating[k]||i.floating[w]);const I=T/2-R/2,F=j/2-_[w]/2-1,$=xi(m[b],F),K=xi(m[x],F),H=$,he=j-_[w]-K,V=j/2-_[w]/2+I,ge=Cf(H,V,he),te=!c.arrow&&jo(o)!=null&&V!==ge&&i.reference[w]/2-(V<H?$:K)-_[w]/2<0,le=te?V<H?V-H:V-he:0;return{[v]:g[v]+le,data:{[v]:ge,centerOffset:V-ge-le,...te&&{alignmentOffset:le}},reset:te}}}),HP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:u,platform:c,elements:h}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:_=!0,...E}=Nr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Mr(o),x=ir(u),k=Mr(u)===u,T=await(c.isRTL==null?void 0:c.isRTL(h.floating)),R=g||(k||!_?[ac(u)]:zP(u)),A=w!=="none";!g&&A&&R.push(...UP(u,_,w,T));const j=[u,...R],I=await Qa(e,E),F=[];let $=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&F.push(I[b]),m){const V=DP(o,a,T);F.push(I[V[0]],I[V[1]])}if($=[...$,{placement:o,overflows:F}],!F.every(V=>V<=0)){var K,H;const V=(((K=i.flip)==null?void 0:K.index)||0)+1,ge=j[V];if(ge&&(!(m==="alignment"?x!==ir(ge):!1)||$.every(M=>M.overflows[0]>0&&ir(M.placement)===x)))return{data:{index:V,overflows:$},reset:{placement:ge}};let te=(H=$.filter(le=>le.overflows[0]<=0).sort((le,M)=>le.overflows[1]-M.overflows[1])[0])==null?void 0:H.placement;if(!te)switch(v){case"bestFit":{var he;const le=(he=$.filter(M=>{if(A){const U=ir(M.placement);return U===x||U==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(U=>U>0).reduce((U,z)=>U+z,0)]).sort((M,U)=>M[1]-U[1])[0])==null?void 0:he[0];le&&(te=le);break}case"initialPlacement":te=u;break}if(o!==te)return{reset:{placement:te}}}return{}}}};function Bv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Fv(t){return NP.some(e=>t[e]>=0)}const qP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=Nr(t,e);switch(r){case"referenceHidden":{const i=await Qa(e,{...o,elementContext:"reference"}),a=Bv(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Fv(a)}}}case"escaped":{const i=await Qa(e,{...o,altBoundary:!0}),a=Bv(i,n.floating);return{data:{escapedOffsets:a,escaped:Fv(a)}}}default:return{}}}}},mx=new Set(["left","top"]);async function GP(t,e){const{placement:n,platform:r,elements:o}=t,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Mr(n),u=jo(n),c=ir(n)==="y",h=mx.has(a)?-1:1,p=i&&c?-1:1,m=Nr(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof w=="number"&&(v=u==="end"?w*-1:w),c?{x:v*p,y:g*h}:{x:g*h,y:v*p}}const KP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:i,placement:a,middlewareData:u}=e,c=await GP(e,t);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:a}}}}},YP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:u={fn:E=>{let{x:b,y:x}=E;return{x:b,y:x}}},...c}=Nr(t,e),h={x:n,y:r},p=await Qa(e,c),m=ir(Mr(o)),g=Xp(m);let v=h[g],w=h[m];if(i){const E=g==="y"?"top":"left",b=g==="y"?"bottom":"right",x=v+p[E],k=v-p[b];v=Cf(x,v,k)}if(a){const E=m==="y"?"top":"left",b=m==="y"?"bottom":"right",x=w+p[E],k=w-p[b];w=Cf(x,w,k)}const _=u.fn({...e,[g]:v,[m]:w});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[g]:i,[m]:a}}}}}},QP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=e,{offset:u=0,mainAxis:c=!0,crossAxis:h=!0}=Nr(t,e),p={x:n,y:r},m=ir(o),g=Xp(m);let v=p[g],w=p[m];const _=Nr(u,e),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const k=g==="y"?"height":"width",T=i.reference[g]-i.floating[k]+E.mainAxis,R=i.reference[g]+i.reference[k]-E.mainAxis;v<T?v=T:v>R&&(v=R)}if(h){var b,x;const k=g==="y"?"width":"height",T=mx.has(Mr(o)),R=i.reference[m]-i.floating[k]+(T&&((b=a.offset)==null?void 0:b[m])||0)+(T?0:E.crossAxis),A=i.reference[m]+i.reference[k]+(T?0:((x=a.offset)==null?void 0:x[m])||0)-(T?E.crossAxis:0);w<R?w=R:w>A&&(w=A)}return{[g]:v,[m]:w}}}},JP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:i,platform:a,elements:u}=e,{apply:c=()=>{},...h}=Nr(t,e),p=await Qa(e,h),m=Mr(o),g=jo(o),v=ir(o)==="y",{width:w,height:_}=i.floating;let E,b;m==="top"||m==="bottom"?(E=m,b=g===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(b=m,E=g==="end"?"top":"bottom");const x=_-p.top-p.bottom,k=w-p.left-p.right,T=xi(_-p[E],x),R=xi(w-p[b],k),A=!e.middlewareData.shift;let j=T,I=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=x),A&&!g){const $=Kt(p.left,0),K=Kt(p.right,0),H=Kt(p.top,0),he=Kt(p.bottom,0);v?I=w-2*($!==0||K!==0?$+K:Kt(p.left,p.right)):j=_-2*(H!==0||he!==0?H+he:Kt(p.top,p.bottom))}await c({...e,availableWidth:I,availableHeight:j});const F=await a.getDimensions(u.floating);return w!==F.width||_!==F.height?{reset:{rects:!0}}:{}}}};function Bc(){return typeof window<"u"}function Do(t){return gx(t)?(t.nodeName||"").toLowerCase():"#document"}function en(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function dr(t){var e;return(e=(gx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gx(t){return Bc()?t instanceof Node||t instanceof en(t).Node:!1}function $n(t){return Bc()?t instanceof Element||t instanceof en(t).Element:!1}function ur(t){return Bc()?t instanceof HTMLElement||t instanceof en(t).HTMLElement:!1}function Uv(t){return!Bc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof en(t).ShadowRoot}const XP=new Set(["inline","contents"]);function kl(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Bn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!XP.has(o)}const eT=new Set(["table","td","th"]);function tT(t){return eT.has(Do(t))}const nT=[":popover-open",":modal"];function Fc(t){return nT.some(e=>{try{return t.matches(e)}catch{return!1}})}const rT=["transform","translate","scale","rotate","perspective"],iT=["transform","translate","scale","rotate","perspective","filter"],sT=["paint","layout","strict","content"];function nm(t){const e=rm(),n=$n(t)?Bn(t):t;return rT.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||iT.some(r=>(n.willChange||"").includes(r))||sT.some(r=>(n.contain||"").includes(r))}function oT(t){let e=bi(t);for(;ur(e)&&!Co(e);){if(nm(e))return e;if(Fc(e))return null;e=bi(e)}return null}function rm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const aT=new Set(["html","body","#document"]);function Co(t){return aT.has(Do(t))}function Bn(t){return en(t).getComputedStyle(t)}function Uc(t){return $n(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bi(t){if(Do(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Uv(t)&&t.host||dr(t);return Uv(e)?e.host:e}function vx(t){const e=bi(t);return Co(e)?t.ownerDocument?t.ownerDocument.body:t.body:ur(e)&&kl(e)?e:vx(e)}function Ja(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=vx(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),a=en(o);if(i){const u=Tf(a);return e.concat(a,a.visualViewport||[],kl(o)?o:[],u&&n?Ja(u):[])}return e.concat(o,Ja(o,[],n))}function Tf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yx(t){const e=Bn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=ur(t),i=o?t.offsetWidth:n,a=o?t.offsetHeight:r,u=oc(n)!==i||oc(r)!==a;return u&&(n=i,r=a),{width:n,height:r,$:u}}function im(t){return $n(t)?t:t.contextElement}function lo(t){const e=im(t);if(!ur(e))return ar(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=yx(e);let a=(i?oc(n.width):n.width)/r,u=(i?oc(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const lT=ar(0);function _x(t){const e=en(t);return!rm()||!e.visualViewport?lT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uT(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==en(t)?!1:e}function cs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=im(t);let a=ar(1);e&&(r?$n(r)&&(a=lo(r)):a=lo(t));const u=uT(i,n,r)?_x(i):ar(0);let c=(o.left+u.x)/a.x,h=(o.top+u.y)/a.y,p=o.width/a.x,m=o.height/a.y;if(i){const g=en(i),v=r&&$n(r)?en(r):r;let w=g,_=Tf(w);for(;_&&r&&v!==w;){const E=lo(_),b=_.getBoundingClientRect(),x=Bn(_),k=b.left+(_.clientLeft+parseFloat(x.paddingLeft))*E.x,T=b.top+(_.clientTop+parseFloat(x.paddingTop))*E.y;c*=E.x,h*=E.y,p*=E.x,m*=E.y,c+=k,h+=T,w=en(_),_=Tf(w)}}return lc({width:p,height:m,x:c,y:h})}function sm(t,e){const n=Uc(t).scrollLeft;return e?e.left+n:cs(dr(t)).left+n}function wx(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:sm(t,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function cT(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const i=o==="fixed",a=dr(r),u=e?Fc(e.floating):!1;if(r===a||u&&i)return n;let c={scrollLeft:0,scrollTop:0},h=ar(1);const p=ar(0),m=ur(r);if((m||!m&&!i)&&((Do(r)!=="body"||kl(a))&&(c=Uc(r)),ur(r))){const v=cs(r);h=lo(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const g=a&&!m&&!i?wx(a,c,!0):ar(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-c.scrollLeft*h.x+p.x+g.x,y:n.y*h.y-c.scrollTop*h.y+p.y+g.y}}function dT(t){return Array.from(t.getClientRects())}function hT(t){const e=dr(t),n=Uc(t),r=t.ownerDocument.body,o=Kt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Kt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+sm(t);const u=-n.scrollTop;return Bn(r).direction==="rtl"&&(a+=Kt(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:u}}function fT(t,e){const n=en(t),r=dr(t),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,u=0,c=0;if(o){i=o.width,a=o.height;const h=rm();(!h||h&&e==="fixed")&&(u=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:u,y:c}}const pT=new Set(["absolute","fixed"]);function mT(t,e){const n=cs(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=ur(t)?lo(t):ar(1),a=t.clientWidth*i.x,u=t.clientHeight*i.y,c=o*i.x,h=r*i.y;return{width:a,height:u,x:c,y:h}}function Wv(t,e,n){let r;if(e==="viewport")r=fT(t,n);else if(e==="document")r=hT(dr(t));else if($n(e))r=mT(e,n);else{const o=_x(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return lc(r)}function xx(t,e){const n=bi(t);return n===e||!$n(n)||Co(n)?!1:Bn(n).position==="fixed"||xx(n,e)}function gT(t,e){const n=e.get(t);if(n)return n;let r=Ja(t,[],!1).filter(u=>$n(u)&&Do(u)!=="body"),o=null;const i=Bn(t).position==="fixed";let a=i?bi(t):t;for(;$n(a)&&!Co(a);){const u=Bn(a),c=nm(a);!c&&u.position==="fixed"&&(o=null),(i?!c&&!o:!c&&u.position==="static"&&!!o&&pT.has(o.position)||kl(a)&&!c&&xx(t,a))?r=r.filter(p=>p!==a):o=u,a=bi(a)}return e.set(t,r),r}function vT(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const a=[...n==="clippingAncestors"?Fc(e)?[]:gT(e,this._c):[].concat(n),r],u=a[0],c=a.reduce((h,p)=>{const m=Wv(e,p,o);return h.top=Kt(m.top,h.top),h.right=xi(m.right,h.right),h.bottom=xi(m.bottom,h.bottom),h.left=Kt(m.left,h.left),h},Wv(e,u,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yT(t){const{width:e,height:n}=yx(t);return{width:e,height:n}}function _T(t,e,n){const r=ur(e),o=dr(e),i=n==="fixed",a=cs(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const c=ar(0);function h(){c.x=sm(o)}if(r||!r&&!i)if((Do(e)!=="body"||kl(o))&&(u=Uc(e)),r){const v=cs(e,!0,i,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else o&&h();i&&!r&&o&&h();const p=o&&!r&&!i?wx(o,u):ar(0),m=a.left+u.scrollLeft-c.x-p.x,g=a.top+u.scrollTop-c.y-p.y;return{x:m,y:g,width:a.width,height:a.height}}function ch(t){return Bn(t).position==="static"}function Zv(t,e){if(!ur(t)||Bn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return dr(t)===n&&(n=n.ownerDocument.body),n}function bx(t,e){const n=en(t);if(Fc(t))return n;if(!ur(t)){let o=bi(t);for(;o&&!Co(o);){if($n(o)&&!ch(o))return o;o=bi(o)}return n}let r=Zv(t,e);for(;r&&tT(r)&&ch(r);)r=Zv(r,e);return r&&Co(r)&&ch(r)&&!nm(r)?n:r||oT(t)||n}const wT=async function(t){const e=this.getOffsetParent||bx,n=this.getDimensions,r=await n(t.floating);return{reference:_T(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xT(t){return Bn(t).direction==="rtl"}const bT={convertOffsetParentRelativeRectToViewportRelativeRect:cT,getDocumentElement:dr,getClippingRect:vT,getOffsetParent:bx,getElementRects:wT,getClientRects:dT,getDimensions:yT,getScale:lo,isElement:$n,isRTL:xT};function kx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kT(t,e){let n=null,r;const o=dr(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const h=t.getBoundingClientRect(),{left:p,top:m,width:g,height:v}=h;if(u||e(),!g||!v)return;const w=mu(m),_=mu(o.clientWidth-(p+g)),E=mu(o.clientHeight-(m+v)),b=mu(p),k={rootMargin:-w+"px "+-_+"px "+-E+"px "+-b+"px",threshold:Kt(0,xi(1,c))||1};let T=!0;function R(A){const j=A[0].intersectionRatio;if(j!==c){if(!T)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!kx(h,t.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(R,{...k,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,k)}n.observe(t)}return a(!0),i}function ST(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=im(t),p=o||i?[...h?Ja(h):[],...Ja(e)]:[];p.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const m=h&&u?kT(h,n):null;let g=-1,v=null;a&&(v=new ResizeObserver(b=>{let[x]=b;x&&x.target===h&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=v)==null||k.observe(e)})),n()}),h&&!c&&v.observe(h),v.observe(e));let w,_=c?cs(t):null;c&&E();function E(){const b=cs(t);_&&!kx(_,b)&&n(),_=b,w=requestAnimationFrame(E)}return n(),()=>{var b;p.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),m==null||m(),(b=v)==null||b.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const ET=KP,CT=YP,PT=HP,TT=JP,LT=qP,Vv=VP,OT=QP,RT=(t,e,n)=>{const r=new Map,o={platform:bT,...n},i={...o.platform,_c:r};return ZP(t,e,{...o,platform:i})};var AT=typeof document<"u",NT=function(){},Iu=AT?P.useLayoutEffect:NT;function uc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!uc(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&t.$$typeof)&&!uc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Sx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Hv(t,e){const n=Sx(t);return Math.round(e*n)/n}function dh(t){const e=P.useRef(t);return Iu(()=>{e.current=t}),e}function MT(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:u=!0,whileElementsMounted:c,open:h}=t,[p,m]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=P.useState(r);uc(g,r)||v(r);const[w,_]=P.useState(null),[E,b]=P.useState(null),x=P.useCallback(M=>{M!==A.current&&(A.current=M,_(M))},[]),k=P.useCallback(M=>{M!==j.current&&(j.current=M,b(M))},[]),T=i||w,R=a||E,A=P.useRef(null),j=P.useRef(null),I=P.useRef(p),F=c!=null,$=dh(c),K=dh(o),H=dh(h),he=P.useCallback(()=>{if(!A.current||!j.current)return;const M={placement:e,strategy:n,middleware:g};K.current&&(M.platform=K.current),RT(A.current,j.current,M).then(U=>{const z={...U,isPositioned:H.current!==!1};V.current&&!uc(I.current,z)&&(I.current=z,wl.flushSync(()=>{m(z)}))})},[g,e,n,K,H]);Iu(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,m(M=>({...M,isPositioned:!1})))},[h]);const V=P.useRef(!1);Iu(()=>(V.current=!0,()=>{V.current=!1}),[]),Iu(()=>{if(T&&(A.current=T),R&&(j.current=R),T&&R){if($.current)return $.current(T,R,he);he()}},[T,R,he,$,F]);const ge=P.useMemo(()=>({reference:A,floating:j,setReference:x,setFloating:k}),[x,k]),te=P.useMemo(()=>({reference:T,floating:R}),[T,R]),le=P.useMemo(()=>{const M={position:n,left:0,top:0};if(!te.floating)return M;const U=Hv(te.floating,p.x),z=Hv(te.floating,p.y);return u?{...M,transform:"translate("+U+"px, "+z+"px)",...Sx(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:z}},[n,u,te.floating,p.x,p.y]);return P.useMemo(()=>({...p,update:he,refs:ge,elements:te,floatingStyles:le}),[p,he,ge,te,le])}const IT=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Vv({element:r.current,padding:o}).fn(n):{}:r?Vv({element:r,padding:o}).fn(n):{}}}},jT=(t,e)=>({...ET(t),options:[t,e]}),DT=(t,e)=>({...CT(t),options:[t,e]}),zT=(t,e)=>({...OT(t),options:[t,e]}),$T=(t,e)=>({...PT(t),options:[t,e]}),BT=(t,e)=>({...TT(t),options:[t,e]}),FT=(t,e)=>({...LT(t),options:[t,e]}),UT=(t,e)=>({...IT(t),options:[t,e]});var WT="Arrow",Ex=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...i}=t;return C.jsx(Zt.svg,{...i,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ex.displayName=WT;var ZT=Ex;function VT(t){const[e,n]=P.useState(void 0);return wi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,u;if("borderBoxSize"in i){const c=i.borderBoxSize,h=Array.isArray(c)?c[0]:c;a=h.inlineSize,u=h.blockSize}else a=t.offsetWidth,u=t.offsetHeight;n({width:a,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Cx="Popper",[Px,Tx]=Dc(Cx),[_M,Lx]=Px(Cx),Ox="PopperAnchor",Rx=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,i=Lx(Ox,n),a=P.useRef(null),u=zn(e,a);return P.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:C.jsx(Zt.div,{...o,ref:u})});Rx.displayName=Ox;var om="PopperContent",[HT,qT]=Px(om),Ax=P.forwardRef((t,e)=>{var be,Ct,wn,xn,on,an;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:c=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,..._}=t,E=Lx(om,n),[b,x]=P.useState(null),k=zn(e,ln=>x(ln)),[T,R]=P.useState(null),A=VT(T),j=(A==null?void 0:A.width)??0,I=(A==null?void 0:A.height)??0,F=r+(i!=="center"?"-"+i:""),$=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},K=Array.isArray(h)?h:[h],H=K.length>0,he={padding:$,boundary:K.filter(KT),altBoundary:H},{refs:V,floatingStyles:ge,placement:te,isPositioned:le,middlewareData:M}=MT({strategy:"fixed",placement:F,whileElementsMounted:(...ln)=>ST(...ln,{animationFrame:v==="always"}),elements:{reference:E.anchor},middleware:[jT({mainAxis:o+I,alignmentAxis:a}),c&&DT({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?zT():void 0,...he}),c&&$T({...he}),BT({...he,apply:({elements:ln,rects:vs,availableWidth:ys,availableHeight:Ti})=>{const{width:Li,height:Un}=vs.reference,Dr=ln.floating.style;Dr.setProperty("--radix-popper-available-width",`${ys}px`),Dr.setProperty("--radix-popper-available-height",`${Ti}px`),Dr.setProperty("--radix-popper-anchor-width",`${Li}px`),Dr.setProperty("--radix-popper-anchor-height",`${Un}px`)}}),T&&UT({element:T,padding:u}),YT({arrowWidth:j,arrowHeight:I}),g&&FT({strategy:"referenceHidden",...he})]}),[U,z]=Ix(te),Y=_i(w);wi(()=>{le&&(Y==null||Y())},[le,Y]);const Q=(be=M.arrow)==null?void 0:be.x,oe=(Ct=M.arrow)==null?void 0:Ct.y,se=((wn=M.arrow)==null?void 0:wn.centerOffset)!==0,[fe,ue]=P.useState();return wi(()=>{b&&ue(window.getComputedStyle(b).zIndex)},[b]),C.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:le?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(xn=M.transformOrigin)==null?void 0:xn.x,(on=M.transformOrigin)==null?void 0:on.y].join(" "),...((an=M.hide)==null?void 0:an.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(HT,{scope:n,placedSide:U,onArrowChange:R,arrowX:Q,arrowY:oe,shouldHideArrow:se,children:C.jsx(Zt.div,{"data-side":U,"data-align":z,..._,ref:k,style:{..._.style,animation:le?void 0:"none"}})})})});Ax.displayName=om;var Nx="PopperArrow",GT={top:"bottom",right:"left",bottom:"top",left:"right"},Mx=P.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,i=qT(Nx,r),a=GT[i.placedSide];return C.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:C.jsx(ZT,{...o,ref:n,style:{...o.style,display:"block"}})})});Mx.displayName=Nx;function KT(t){return t!==null}var YT=t=>({name:"transformOrigin",options:t,fn(e){var E,b,x;const{placement:n,rects:r,middlewareData:o}=e,a=((E=o.arrow)==null?void 0:E.centerOffset)!==0,u=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[h,p]=Ix(n),m={start:"0%",center:"50%",end:"100%"}[p],g=(((b=o.arrow)==null?void 0:b.x)??0)+u/2,v=(((x=o.arrow)==null?void 0:x.y)??0)+c/2;let w="",_="";return h==="bottom"?(w=a?m:`${g}px`,_=`${-c}px`):h==="top"?(w=a?m:`${g}px`,_=`${r.floating.height+c}px`):h==="right"?(w=`${-c}px`,_=a?m:`${v}px`):h==="left"&&(w=`${r.floating.width+c}px`,_=a?m:`${v}px`),{data:{x:w,y:_}}}});function Ix(t){const[e,n="center"]=t.split("-");return[e,n]}var QT=Rx,JT=Ax,XT=Mx,[Wc,wM]=Dc("Tooltip",[Tx]),am=Tx(),jx="TooltipProvider",eL=700,qv="tooltip.open",[tL,Dx]=Wc(jx),zx=t=>{const{__scopeTooltip:e,delayDuration:n=eL,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=t,a=P.useRef(!0),u=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),C.jsx(tL,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:P.useCallback(h=>{u.current=h},[]),disableHoverableContent:o,children:i})};zx.displayName=jx;var $x="Tooltip",[xM,Zc]=Wc($x),Lf="TooltipTrigger",nL=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=Zc(Lf,n),i=Dx(Lf,n),a=am(n),u=P.useRef(null),c=zn(e,u,o.onTriggerChange),h=P.useRef(!1),p=P.useRef(!1),m=P.useCallback(()=>h.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),C.jsx(QT,{asChild:!0,...a,children:C.jsx(Zt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:c,onPointerMove:at(t.onPointerMove,g=>{g.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:at(t.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:at(t.onPointerDown,()=>{o.open&&o.onClose(),h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:at(t.onFocus,()=>{h.current||o.onOpen()}),onBlur:at(t.onBlur,o.onClose),onClick:at(t.onClick,o.onClose)})})});nL.displayName=Lf;var rL="TooltipPortal",[bM,iL]=Wc(rL,{forceMount:void 0}),Po="TooltipContent",Bx=P.forwardRef((t,e)=>{const n=iL(Po,t.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=t,a=Zc(Po,t.__scopeTooltip);return C.jsx(Gp,{present:r||a.open,children:a.disableHoverableContent?C.jsx(Fx,{side:o,...i,ref:e}):C.jsx(sL,{side:o,...i,ref:e})})}),sL=P.forwardRef((t,e)=>{const n=Zc(Po,t.__scopeTooltip),r=Dx(Po,t.__scopeTooltip),o=P.useRef(null),i=zn(e,o),[a,u]=P.useState(null),{trigger:c,onClose:h}=n,p=o.current,{onPointerInTransitChange:m}=r,g=P.useCallback(()=>{u(null),m(!1)},[m]),v=P.useCallback((w,_)=>{const E=w.currentTarget,b={x:w.clientX,y:w.clientY},x=cL(b,E.getBoundingClientRect()),k=dL(b,x),T=hL(_.getBoundingClientRect()),R=pL([...k,...T]);u(R),m(!0)},[m]);return P.useEffect(()=>()=>g(),[g]),P.useEffect(()=>{if(c&&p){const w=E=>v(E,p),_=E=>v(E,c);return c.addEventListener("pointerleave",w),p.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",w),p.removeEventListener("pointerleave",_)}}},[c,p,v,g]),P.useEffect(()=>{if(a){const w=_=>{const E=_.target,b={x:_.clientX,y:_.clientY},x=(c==null?void 0:c.contains(E))||(p==null?void 0:p.contains(E)),k=!fL(b,a);x?g():k&&(g(),h())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,p,a,h,g]),C.jsx(Fx,{...t,ref:i})}),[oL,aL]=Wc($x,{isInside:!1}),lL=yE("TooltipContent"),Fx=P.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:a,...u}=t,c=Zc(Po,n),h=am(n),{onClose:p}=c;return P.useEffect(()=>(document.addEventListener(qv,p),()=>document.removeEventListener(qv,p)),[p]),P.useEffect(()=>{if(c.trigger){const m=g=>{const v=g.target;v!=null&&v.contains(c.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,p]),C.jsx(qp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:C.jsxs(JT,{"data-state":c.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(lL,{children:r}),C.jsx(oL,{scope:n,isInside:!0,children:C.jsx(WE,{id:c.contentId,role:"tooltip",children:o||r})})]})})});Bx.displayName=Po;var Ux="TooltipArrow",uL=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=am(n);return aL(Ux,n).isInside?null:C.jsx(XT,{...o,...r,ref:e})});uL.displayName=Ux;function cL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function hL(t){const{top:e,right:n,bottom:r,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:r},{x:o,y:r}]}function fL(t,e){const{x:n,y:r}=t;let o=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const u=e[i],c=e[a],h=u.x,p=u.y,m=c.x,g=c.y;p>r!=g>r&&n<(m-h)*(r-p)/(g-p)+h&&(o=!o)}return o}function pL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mL(e)}function mL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const o=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const o=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var gL=zx,Wx=Bx;const vL=gL,yL=P.forwardRef(({className:t,sideOffset:e=4,...n},r)=>C.jsx(Wx,{ref:r,sideOffset:e,className:ms("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));yL.displayName=Wx.displayName;var Vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hc=typeof window>"u"||"Deno"in globalThis;function Tn(){}function _L(t,e){return typeof t=="function"?t(e):t}function wL(t){return typeof t=="number"&&t>=0&&t!==1/0}function xL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Of(t,e){return typeof t=="function"?t(e):t}function bL(t,e){return typeof t=="function"?t(e):t}function Gv(t,e){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:a,stale:u}=t;if(a){if(r){if(e.queryHash!==lm(a,e.options))return!1}else if(!el(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||o&&o!==e.state.fetchStatus||i&&!i(e))}function Kv(t,e){const{exact:n,status:r,predicate:o,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Xa(e.options.mutationKey)!==Xa(i))return!1}else if(!el(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function lm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xa)(t)}function Xa(t){return JSON.stringify(t,(e,n)=>Rf(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function el(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>el(t[n],e[n])):!1}function Zx(t,e){if(t===e)return t;const n=Yv(t)&&Yv(e);if(n||Rf(t)&&Rf(e)){const r=n?t:Object.keys(t),o=r.length,i=n?e:Object.keys(e),a=i.length,u=n?[]:{},c=new Set(r);let h=0;for(let p=0;p<a;p++){const m=n?p:i[p];(!n&&c.has(m)||n)&&t[m]===void 0&&e[m]===void 0?(u[m]=void 0,h++):(u[m]=Zx(t[m],e[m]),u[m]===t[m]&&t[m]!==void 0&&h++)}return o===a&&h===o?t:u}return e}function Yv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rf(t){if(!Qv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Qv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Qv(t){return Object.prototype.toString.call(t)==="[object Object]"}function kL(t){return new Promise(e=>{setTimeout(e,t)})}function SL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Zx(t,e):e}function EL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function CL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var um=Symbol();function Vx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===um?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Yi,Xr,co,e_,PL=(e_=class extends Vc{constructor(){super();Re(this,Yi);Re(this,Xr);Re(this,co);_e(this,co,e=>{if(!Hc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Xr)||this.setEventListener(B(this,co))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Xr))==null||e.call(this),_e(this,Xr,void 0))}setEventListener(e){var n;_e(this,co,e),(n=B(this,Xr))==null||n.call(this),_e(this,Xr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Yi)!==e&&(_e(this,Yi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Yi)=="boolean"?B(this,Yi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yi=new WeakMap,Xr=new WeakMap,co=new WeakMap,e_),Hx=new PL,ho,ei,fo,t_,TL=(t_=class extends Vc{constructor(){super();Re(this,ho,!0);Re(this,ei);Re(this,fo);_e(this,fo,e=>{if(!Hc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,ei)||this.setEventListener(B(this,fo))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,ei))==null||e.call(this),_e(this,ei,void 0))}setEventListener(e){var n;_e(this,fo,e),(n=B(this,ei))==null||n.call(this),_e(this,ei,e(this.setOnline.bind(this)))}setOnline(e){B(this,ho)!==e&&(_e(this,ho,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,ho)}},ho=new WeakMap,ei=new WeakMap,fo=new WeakMap,t_),cc=new TL;function LL(){let t,e;const n=new Promise((o,i)=>{t=o,e=i});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},n.reject=o=>{r({status:"rejected",reason:o}),e(o)},n}function OL(t){return Math.min(1e3*2**t,3e4)}function qx(t){return(t??"online")==="online"?cc.isOnline():!0}var Gx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function hh(t){return t instanceof Gx}function Kx(t){let e=!1,n=0,r=!1,o;const i=LL(),a=_=>{var E;r||(g(new Gx(_)),(E=t.abort)==null||E.call(t))},u=()=>{e=!0},c=()=>{e=!1},h=()=>Hx.isFocused()&&(t.networkMode==="always"||cc.isOnline())&&t.canRun(),p=()=>qx(t.networkMode)&&t.canRun(),m=_=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,_),o==null||o(),i.resolve(_))},g=_=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,_),o==null||o(),i.reject(_))},v=()=>new Promise(_=>{var E;o=b=>{(r||h())&&_(b)},(E=t.onPause)==null||E.call(t)}).then(()=>{var _;o=void 0,r||(_=t.onContinue)==null||_.call(t)}),w=()=>{if(r)return;let _;const E=n===0?t.initialPromise:void 0;try{_=E??t.fn()}catch(b){_=Promise.reject(b)}Promise.resolve(_).then(m).catch(b=>{var A;if(r)return;const x=t.retry??(Hc?0:3),k=t.retryDelay??OL,T=typeof k=="function"?k(n,b):k,R=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(e||!R){g(b);return}n++,(A=t.onFail)==null||A.call(t,n,b),kL(T).then(()=>h()?void 0:v()).then(()=>{e?g(b):w()})})};return{promise:i,cancel:a,continue:()=>(o==null||o(),i),cancelRetry:u,continueRetry:c,canStart:p,start:()=>(p()?w():v().then(w),i)}}var RL=t=>setTimeout(t,0);function AL(){let t=[],e=0,n=u=>{u()},r=u=>{u()},o=RL;const i=u=>{e?t.push(u):o(()=>{n(u)})},a=()=>{const u=t;t=[],u.length&&o(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||a()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{o=u}}}var At=AL(),Qi,n_,Yx=(n_=class{constructor(){Re(this,Qi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wL(this.gcTime)&&_e(this,Qi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hc?1/0:5*60*1e3))}clearGcTimeout(){B(this,Qi)&&(clearTimeout(B(this,Qi)),_e(this,Qi,void 0))}},Qi=new WeakMap,n_),po,Ji,hn,Xi,kt,fl,es,On,wr,r_,NL=(r_=class extends Yx{constructor(e){super();Re(this,On);Re(this,po);Re(this,Ji);Re(this,hn);Re(this,Xi);Re(this,kt);Re(this,fl);Re(this,es);_e(this,es,!1),_e(this,fl,e.defaultOptions),this.setOptions(e.options),this.observers=[],_e(this,Xi,e.client),_e(this,hn,B(this,Xi).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,_e(this,po,IL(this.options)),this.state=e.state??B(this,po),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=B(this,kt))==null?void 0:e.promise}setOptions(e){this.options={...B(this,fl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,hn).remove(this)}setData(e,n){const r=SL(this.state.data,e,this.options);return wt(this,On,wr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){wt(this,On,wr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,o;const n=(r=B(this,kt))==null?void 0:r.promise;return(o=B(this,kt))==null||o.cancel(e),n?n.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,po))}isActive(){return this.observers.some(e=>bL(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===um||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Of(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!xL(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,kt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,kt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),B(this,hn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(B(this,kt)&&(B(this,es)?B(this,kt).cancel({revert:!0}):B(this,kt).cancelRetry()),this.scheduleGc()),B(this,hn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wt(this,On,wr).call(this,{type:"invalidate"})}fetch(e,n){var h,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,kt))return B(this,kt).continueRetry(),B(this,kt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,o=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(_e(this,es,!0),r.signal)})},i=()=>{const g=Vx(this.options,n),w=(()=>{const _={client:B(this,Xi),queryKey:this.queryKey,meta:this.meta};return o(_),_})();return _e(this,es,!1),this.options.persister?this.options.persister(g,w,this):g(w)},u=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,Xi),state:this.state,fetchFn:i};return o(g),g})();(h=this.options.behavior)==null||h.onFetch(u,this),_e(this,Ji,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&wt(this,On,wr).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta});const c=g=>{var v,w,_,E;hh(g)&&g.silent||wt(this,On,wr).call(this,{type:"error",error:g}),hh(g)||((w=(v=B(this,hn).config).onError)==null||w.call(v,g,this),(E=(_=B(this,hn).config).onSettled)==null||E.call(_,this.state.data,g,this)),this.scheduleGc()};return _e(this,kt,Kx({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var v,w,_,E;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(b){c(b);return}(w=(v=B(this,hn).config).onSuccess)==null||w.call(v,g,this),(E=(_=B(this,hn).config).onSettled)==null||E.call(_,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,v)=>{wt(this,On,wr).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{wt(this,On,wr).call(this,{type:"pause"})},onContinue:()=>{wt(this,On,wr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),B(this,kt).start()}},po=new WeakMap,Ji=new WeakMap,hn=new WeakMap,Xi=new WeakMap,kt=new WeakMap,fl=new WeakMap,es=new WeakMap,On=new WeakSet,wr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ML(r.data,this.options),fetchMeta:e.meta??null};case"success":return _e(this,Ji,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return hh(o)&&o.revert&&B(this,Ji)?{...B(this,Ji),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),At.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,hn).notify({query:this,type:"updated",action:e})})},r_);function ML(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function IL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var er,i_,jL=(i_=class extends Vc{constructor(e={}){super();Re(this,er);this.config=e,_e(this,er,new Map)}build(e,n,r){const o=n.queryKey,i=n.queryHash??lm(o,n);let a=this.get(i);return a||(a=new NL({client:e,queryKey:o,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){B(this,er).has(e.queryHash)||(B(this,er).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,er).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,er).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){At.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,er).get(e)}getAll(){return[...B(this,er).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Gv(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Gv(e,r)):n}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){At.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},er=new WeakMap,i_),tr,Ot,ts,nr,Vr,s_,DL=(s_=class extends Yx{constructor(e){super();Re(this,nr);Re(this,tr);Re(this,Ot);Re(this,ts);this.mutationId=e.mutationId,_e(this,Ot,e.mutationCache),_e(this,tr,[]),this.state=e.state||zL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){B(this,tr).includes(e)||(B(this,tr).push(e),this.clearGcTimeout(),B(this,Ot).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){_e(this,tr,B(this,tr).filter(n=>n!==e)),this.scheduleGc(),B(this,Ot).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){B(this,tr).length||(this.state.status==="pending"?this.scheduleGc():B(this,Ot).remove(this))}continue(){var e;return((e=B(this,ts))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,u,c,h,p,m,g,v,w,_,E,b,x,k,T,R,A,j,I;const n=()=>{wt(this,nr,Vr).call(this,{type:"continue"})};_e(this,ts,Kx({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(F,$)=>{wt(this,nr,Vr).call(this,{type:"failed",failureCount:F,error:$})},onPause:()=>{wt(this,nr,Vr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Ot).canRun(this)}));const r=this.state.status==="pending",o=!B(this,ts).canStart();try{if(r)n();else{wt(this,nr,Vr).call(this,{type:"pending",variables:e,isPaused:o}),await((a=(i=B(this,Ot).config).onMutate)==null?void 0:a.call(i,e,this));const $=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,e));$!==this.state.context&&wt(this,nr,Vr).call(this,{type:"pending",context:$,variables:e,isPaused:o})}const F=await B(this,ts).start();return await((p=(h=B(this,Ot).config).onSuccess)==null?void 0:p.call(h,F,e,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,F,e,this.state.context)),await((w=(v=B(this,Ot).config).onSettled)==null?void 0:w.call(v,F,null,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,F,null,e,this.state.context)),wt(this,nr,Vr).call(this,{type:"success",data:F}),F}catch(F){try{throw await((x=(b=B(this,Ot).config).onError)==null?void 0:x.call(b,F,e,this.state.context,this)),await((T=(k=this.options).onError)==null?void 0:T.call(k,F,e,this.state.context)),await((A=(R=B(this,Ot).config).onSettled)==null?void 0:A.call(R,void 0,F,this.state.variables,this.state.context,this)),await((I=(j=this.options).onSettled)==null?void 0:I.call(j,void 0,F,e,this.state.context)),F}finally{wt(this,nr,Vr).call(this,{type:"error",error:F})}}finally{B(this,Ot).runNext(this)}}},tr=new WeakMap,Ot=new WeakMap,ts=new WeakMap,nr=new WeakSet,Vr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),At.batch(()=>{B(this,tr).forEach(r=>{r.onMutationUpdate(e)}),B(this,Ot).notify({mutation:this,type:"updated",action:e})})},s_);function zL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sr,Rn,pl,o_,$L=(o_=class extends Vc{constructor(e={}){super();Re(this,Sr);Re(this,Rn);Re(this,pl);this.config=e,_e(this,Sr,new Set),_e(this,Rn,new Map),_e(this,pl,0)}build(e,n,r){const o=new DL({mutationCache:this,mutationId:++Gl(this,pl)._,options:e.defaultMutationOptions(n),state:r});return this.add(o),o}add(e){B(this,Sr).add(e);const n=gu(e);if(typeof n=="string"){const r=B(this,Rn).get(n);r?r.push(e):B(this,Rn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,Sr).delete(e)){const n=gu(e);if(typeof n=="string"){const r=B(this,Rn).get(n);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&B(this,Rn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=gu(e);if(typeof n=="string"){const r=B(this,Rn).get(n),o=r==null?void 0:r.find(i=>i.state.status==="pending");return!o||o===e}else return!0}runNext(e){var r;const n=gu(e);if(typeof n=="string"){const o=(r=B(this,Rn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{B(this,Sr).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,Sr).clear(),B(this,Rn).clear()})}getAll(){return Array.from(B(this,Sr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Kv(n,r))}findAll(e={}){return this.getAll().filter(n=>Kv(e,n))}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return At.batch(()=>Promise.all(e.map(n=>n.continue().catch(Tn))))}},Sr=new WeakMap,Rn=new WeakMap,pl=new WeakMap,o_);function gu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Jv(t){return{onFetch:(e,n)=>{var p,m,g,v,w;const r=e.options,o=(g=(m=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[];let u={pages:[],pageParams:[]},c=0;const h=async()=>{let _=!1;const E=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},b=Vx(e.options,e.fetchOptions),x=async(k,T,R)=>{if(_)return Promise.reject();if(T==null&&k.pages.length)return Promise.resolve(k);const j=(()=>{const K={client:e.client,queryKey:e.queryKey,pageParam:T,direction:R?"backward":"forward",meta:e.options.meta};return E(K),K})(),I=await b(j),{maxPages:F}=e.options,$=R?CL:EL;return{pages:$(k.pages,I,F),pageParams:$(k.pageParams,T,F)}};if(o&&i.length){const k=o==="backward",T=k?BL:Xv,R={pages:i,pageParams:a},A=T(r,R);u=await x(R,A,k)}else{const k=t??i.length;do{const T=c===0?a[0]??r.initialPageParam:Xv(r,u);if(c>0&&T==null)break;u=await x(u,T),c++}while(c<k)}return u};e.options.persister?e.fetchFn=()=>{var _,E;return(E=(_=e.options).persister)==null?void 0:E.call(_,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function Xv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function BL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ke,ti,ni,mo,go,ri,vo,yo,a_,FL=(a_=class{constructor(t={}){Re(this,Ke);Re(this,ti);Re(this,ni);Re(this,mo);Re(this,go);Re(this,ri);Re(this,vo);Re(this,yo);_e(this,Ke,t.queryCache||new jL),_e(this,ti,t.mutationCache||new $L),_e(this,ni,t.defaultOptions||{}),_e(this,mo,new Map),_e(this,go,new Map),_e(this,ri,0)}mount(){Gl(this,ri)._++,B(this,ri)===1&&(_e(this,vo,Hx.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Ke).onFocus())})),_e(this,yo,cc.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Ke).onOnline())})))}unmount(){var t,e;Gl(this,ri)._--,B(this,ri)===0&&((t=B(this,vo))==null||t.call(this),_e(this,vo,void 0),(e=B(this,yo))==null||e.call(this),_e(this,yo,void 0))}isFetching(t){return B(this,Ke).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,ti).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Ke).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,Ke).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Of(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,Ke).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=B(this,Ke).get(r.queryHash),i=o==null?void 0:o.state.data,a=_L(e,i);if(a!==void 0)return B(this,Ke).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return At.batch(()=>B(this,Ke).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Ke).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,Ke);At.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,Ke);return At.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=At.batch(()=>B(this,Ke).findAll(t).map(o=>o.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(t,e={}){return At.batch(()=>(B(this,Ke).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=At.batch(()=>B(this,Ke).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let i=o.fetch(void 0,n);return n.throwOnError||(i=i.catch(Tn)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Tn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,Ke).build(this,e);return n.isStaleByTime(Of(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tn).catch(Tn)}fetchInfiniteQuery(t){return t.behavior=Jv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tn).catch(Tn)}ensureInfiniteQueryData(t){return t.behavior=Jv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return cc.isOnline()?B(this,ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Ke)}getMutationCache(){return B(this,ti)}getDefaultOptions(){return B(this,ni)}setDefaultOptions(t){_e(this,ni,t)}setQueryDefaults(t,e){B(this,mo).set(Xa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,mo).values()],n={};return e.forEach(r=>{el(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,go).set(Xa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,go).values()],n={};return e.forEach(r=>{el(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,ni).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===um&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,ni).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,Ke).clear(),B(this,ti).clear()}},Ke=new WeakMap,ti=new WeakMap,ni=new WeakMap,mo=new WeakMap,go=new WeakMap,ri=new WeakMap,vo=new WeakMap,yo=new WeakMap,a_),UL=P.createContext(void 0),WL=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(UL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}var oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oi||(oi={}));const ey="popstate";function ZL(t){t===void 0&&(t={});function e(o,i){let{pathname:a="/",search:u="",hash:c=""}=gs(o.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Af("",{pathname:a,search:u,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let a=o.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let c=o.location.href,h=c.indexOf("#");u=h===-1?c:c.slice(0,h)}return u+"#"+(typeof i=="string"?i:Qx(i))}function r(o,i){cm(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return HL(e,n,r,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VL(){return Math.random().toString(36).substr(2,8)}function ty(t,e){return{usr:t.state,key:t.key,idx:e}}function Af(t,e,n,r){return n===void 0&&(n=null),tl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gs(e):e,{state:n,key:e&&e.key||r||VL()})}function Qx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HL(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,u=oi.Pop,c=null,h=p();h==null&&(h=0,a.replaceState(tl({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function m(){u=oi.Pop;let E=p(),b=E==null?null:E-h;h=E,c&&c({action:u,location:_.location,delta:b})}function g(E,b){u=oi.Push;let x=Af(_.location,E,b);n&&n(x,E),h=p()+1;let k=ty(x,h),T=_.createHref(x);try{a.pushState(k,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(T)}i&&c&&c({action:u,location:_.location,delta:1})}function v(E,b){u=oi.Replace;let x=Af(_.location,E,b);n&&n(x,E),h=p();let k=ty(x,h),T=_.createHref(x);a.replaceState(k,"",T),i&&c&&c({action:u,location:_.location,delta:0})}function w(E){let b=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof E=="string"?E:Qx(E);return x=x.replace(/ $/,"%20"),ut(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let _={get action(){return u},get location(){return t(o,a)},listen(E){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(ey,m),c=E,()=>{o.removeEventListener(ey,m),c=null}},createHref(E){return e(o,E)},createURL:w,encodeLocation(E){let b=w(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:v,go(E){return a.go(E)}};return _}var ny;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ny||(ny={}));function qL(t,e,n){return n===void 0&&(n="/"),GL(t,e,n,!1)}function GL(t,e,n,r){let o=typeof e=="string"?gs(e):e,i=eb(o.pathname||"/",n);if(i==null)return null;let a=Jx(t);KL(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let h=oO(i);u=iO(a[c],h,r)}return u}function Jx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,a,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=is([r,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Jx(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:nO(h,i.index),routesMeta:p})};return t.forEach((i,a)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))o(i,a);else for(let c of Xx(i.path))o(i,a,c)}),e}function Xx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=Xx(r.join("/")),u=[];return u.push(...a.map(c=>c===""?i:[i,c].join("/"))),o&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function KL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YL=/^:[\w-]+$/,QL=3,JL=2,XL=1,eO=10,tO=-2,ry=t=>t==="*";function nO(t,e){let n=t.split("/"),r=n.length;return n.some(ry)&&(r+=tO),e&&(r+=JL),n.filter(o=>!ry(o)).reduce((o,i)=>o+(YL.test(i)?QL:i===""?XL:eO),r)}function rO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function iO(t,e,n){let{routesMeta:r}=t,o={},i="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=iy({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),g=c.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=iy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(o,m.params),a.push({params:o,pathname:is([i,m.pathname]),pathnameBase:hO(is([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=is([i,m.pathnameBase]))}return a}function iy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sO(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:g,isOptional:v}=p;if(g==="*"){let _=u[m]||"";a=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const w=u[m];return v&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function sO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function oO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?gs(t):t;return{pathname:n?n.startsWith("/")?n:lO(n,e):e,search:fO(r),hash:pO(o)}}function lO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function fh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cO(t,e){let n=uO(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dO(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=gs(t):(o=tl({},t),ut(!o.pathname||!o.pathname.includes("?"),fh("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),fh("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),fh("#","search","hash",o)));let i=t===""||o.pathname==="",a=i?"/":o.pathname,u;if(a==null)u=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;o.pathname=g.join("/")}u=m>=0?e[m]:"/"}let c=aO(o,u),h=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const is=t=>t.join("/").replace(/\/\/+/g,"/"),hO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tb=["post","put","patch","delete"];new Set(tb);const gO=["get",...tb];new Set(gO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}const dm=P.createContext(null),vO=P.createContext(null),qc=P.createContext(null),Gc=P.createContext(null),zo=P.createContext({outlet:null,matches:[],isDataRoute:!1}),nb=P.createContext(null);function Kc(){return P.useContext(Gc)!=null}function hm(){return Kc()||ut(!1),P.useContext(Gc).location}function rb(t){P.useContext(qc).static||P.useLayoutEffect(t)}function Yc(){let{isDataRoute:t}=P.useContext(zo);return t?OO():yO()}function yO(){Kc()||ut(!1);let t=P.useContext(dm),{basename:e,future:n,navigator:r}=P.useContext(qc),{matches:o}=P.useContext(zo),{pathname:i}=hm(),a=JSON.stringify(cO(o,n.v7_relativeSplatPath)),u=P.useRef(!1);return rb(()=>{u.current=!0}),P.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let m=dO(h,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:is([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,a,i,t])}function _O(t,e){return wO(t,e)}function wO(t,e,n,r){Kc()||ut(!1);let{navigator:o}=P.useContext(qc),{matches:i}=P.useContext(zo),a=i[i.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=hm(),p;if(e){var m;let E=typeof e=="string"?gs(e):e;c==="/"||(m=E.pathname)!=null&&m.startsWith(c)||ut(!1),p=E}else p=h;let g=p.pathname||"/",v=g;if(c!=="/"){let E=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=qL(t,{pathname:v}),_=EO(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:is([c,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:is([c,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&_?P.createElement(Gc.Provider,{value:{location:nl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:oi.Pop}},_):_}function xO(){let t=LO(),e=mO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,null)}const bO=P.createElement(xO,null);class kO extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(zo.Provider,{value:this.props.routeContext},P.createElement(nb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SO(t){let{routeContext:e,match:n,children:r}=t,o=P.useContext(dm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(zo.Provider,{value:e},r)}function EO(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(o=n)==null?void 0:o.errors;if(u!=null){let p=a.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||ut(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:g,errors:v}=n,w=m.route.loader&&g[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||w){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((p,m,g)=>{let v,w=!1,_=null,E=null;n&&(v=u&&m.route.id?u[m.route.id]:void 0,_=m.route.errorElement||bO,c&&(h<0&&g===0?(w=!0,E=null):h===g&&(w=!0,E=m.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,g+1)),x=()=>{let k;return v?k=_:w?k=E:m.route.Component?k=P.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,P.createElement(SO,{match:m,routeContext:{outlet:p,matches:b,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?P.createElement(kO,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var ib=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ib||{}),dc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dc||{});function CO(t){let e=P.useContext(dm);return e||ut(!1),e}function PO(t){let e=P.useContext(vO);return e||ut(!1),e}function TO(t){let e=P.useContext(zo);return e||ut(!1),e}function sb(t){let e=TO(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function LO(){var t;let e=P.useContext(nb),n=PO(dc.UseRouteError),r=sb(dc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OO(){let{router:t}=CO(ib.UseNavigateStable),e=sb(dc.UseNavigateStable),n=P.useRef(!1);return rb(()=>{n.current=!0}),P.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,nl({fromRouteId:e},i)))},[t,e])}function RO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ya(t){ut(!1)}function AO(t){let{basename:e="/",children:n=null,location:r,navigationType:o=oi.Pop,navigator:i,static:a=!1,future:u}=t;Kc()&&ut(!1);let c=e.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:c,navigator:i,static:a,future:nl({v7_relativeSplatPath:!1},u)}),[c,u,i,a]);typeof r=="string"&&(r=gs(r));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:w="default"}=r,_=P.useMemo(()=>{let E=eb(p,c);return E==null?null:{location:{pathname:E,search:m,hash:g,state:v,key:w},navigationType:o}},[c,p,m,g,v,w,o]);return _==null?null:P.createElement(qc.Provider,{value:h},P.createElement(Gc.Provider,{children:n,value:_}))}function NO(t){let{children:e,location:n}=t;return _O(Nf(e),n)}new Promise(()=>{});function Nf(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,o)=>{if(!P.isValidElement(r))return;let i=[...e,o];if(r.type===P.Fragment){n.push.apply(n,Nf(r.props.children,i));return}r.type!==ya&&ut(!1),!r.props.index||!r.props.children||ut(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Nf(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const MO="6";try{window.__reactRouterVersion=MO}catch{}const IO="startTransition",sy=__[IO];function jO(t){let{basename:e,children:n,future:r,window:o}=t,i=P.useRef();i.current==null&&(i.current=ZL({window:o,v5Compat:!0}));let a=i.current,[u,c]=P.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},p=P.useCallback(m=>{h&&sy?sy(()=>c(m)):c(m)},[c,h]);return P.useLayoutEffect(()=>a.listen(p),[a,p]),P.useEffect(()=>RO(r),[r]),P.createElement(AO,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}var oy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oy||(oy={}));var ay;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ay||(ay={}));function Qc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function DO(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function u(p){try{h(r.next(p))}catch(m){a(m)}}function c(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?i(p.value):o(p.value).then(u,c)}h((r=r.apply(t,e||[])).next())})}const zO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class fm extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class $O extends fm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ly extends fm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uy extends fm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mf||(Mf={}));class BO{constructor(e,{headers:n={},customFetch:r,region:o=Mf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=zO(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return DO(this,arguments,void 0,function*(n,r={}){var o;let i,a;try{const{headers:u,method:c,body:h,signal:p,timeout:m}=r;let g={},{region:v}=r;v||(v=this.region);const w=new URL(`${this.url}/${n}`);v&&v!=="any"&&(g["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let _;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",_=h):typeof h=="string"?(g["Content-Type"]="text/plain",_=h):typeof FormData<"u"&&h instanceof FormData?_=h:(g["Content-Type"]="application/json",_=JSON.stringify(h)):_=h;let E=p;m&&(a=new AbortController,i=setTimeout(()=>a.abort(),m),p?(E=a.signal,p.addEventListener("abort",()=>a.abort())):E=a.signal);const b=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:_,signal:E}).catch(R=>{throw new $O(R)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new ly(b);if(!b.ok)throw new uy(b);let k=((o=b.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return k==="application/json"?T=yield b.json():k==="application/octet-stream"||k==="application/pdf"?T=yield b.blob():k==="text/event-stream"?T=b:k==="multipart/form-data"?T=yield b.formData():T=yield b.text(),{data:T,error:null,response:b}}catch(u){return{data:null,error:u,response:u instanceof uy||u instanceof ly?u.context:void 0}}finally{i&&clearTimeout(i)}})}}var FO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},UO=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,u=null,c=null,h=i.status,p=i.statusText;if(i.ok){var m,g;if(n.method!=="HEAD"){var v;const b=await i.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=b:u=JSON.parse(b))}const _=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),E=(g=i.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");_&&E&&E.length>1&&(c=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(a={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,c=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var w;const _=await i.text();try{a=JSON.parse(_),Array.isArray(a)&&i.status===404&&(u=[],a=null,h=200,p="OK")}catch{i.status===404&&_===""?(h=204,p="No Content"):a={message:_}}if(a&&n.isMaybeSingle&&(!(a==null||(w=a.details)===null||w===void 0)&&w.includes("0 rows"))&&(a=null,h=200,p="OK"),a&&n.shouldThrowOnError)throw new FO(a)}return{error:a,data:u,count:c,status:h,statusText:p}});return this.shouldThrowOnError||(o=o.catch(i=>{var a;let u="";const c=i==null?void 0:i.cause;if(c){var h,p,m,g;const w=(h=c==null?void 0:c.message)!==null&&h!==void 0?h:"",_=(p=c==null?void 0:c.code)!==null&&p!==void 0?p:"";u=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,u+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${w}`,_&&(u+=` (${_})`),c!=null&&c.stack&&(u+=`
${c.stack}`)}else{var v;u=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},WO=class extends UO{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var a;const u=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${u};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const cy=new RegExp("[,()]");var zs=class extends WO{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&cy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&cy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},ZO=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},o=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new zs({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(i.length>0){const a=[...new Set(i)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new zs({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new zs({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new zs({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new zs({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},VO=class ob{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ZO(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ob(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:i}={}){var a;let u;const c=new URL(`${this.url}/rpc/${e}`);let h;r||o?(u=r?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(u="POST",h=n);const p=new Headers(this.headers);return i&&p.set("Prefer",`count=${i}`),new zs({method:u,url:c,headers:p,schema:this.schemaName,body:h,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class HO{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qO="2.89.0",GO=`realtime-js/${qO}`,ab="1.0.0",KO="2.0.0",dy=ab,If=1e4,YO=1e3,QO=100;var Gr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gr||(Gr={}));var st;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(st||(st={}));var Nn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nn||(Nn={}));var jf;(function(t){t.websocket="websocket"})(jf||(jf={}));var Zi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zi||(Zi={}));class JO{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var o,i;const a=e.topic,u=(o=e.ref)!==null&&o!==void 0?o:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",h=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+a.length+h.length+m.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let w=new DataView(v),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,c.length),w.setUint8(_++,u.length),w.setUint8(_++,a.length),w.setUint8(_++,h.length),w.setUint8(_++,m.length),w.setUint8(_++,n),Array.from(c,b=>w.setUint8(_++,b.charCodeAt(0))),Array.from(u,b=>w.setUint8(_++,b.charCodeAt(0))),Array.from(a,b=>w.setUint8(_++,b.charCodeAt(0))),Array.from(h,b=>w.setUint8(_++,b.charCodeAt(0))),Array.from(m,b=>w.setUint8(_++,b.charCodeAt(0)));var E=new Uint8Array(v.byteLength+r.byteLength);return E.set(new Uint8Array(v),0),E.set(new Uint8Array(r),v.byteLength),E.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,i,a,u,c]=r;return n({join_ref:o,ref:i,topic:a,event:u,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,r){const o=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),u=n.getUint8(4);let c=this.HEADER_LENGTH+4;const h=r.decode(e.slice(c,c+o));c=c+o;const p=r.decode(e.slice(c,c+i));c=c+i;const m=r.decode(e.slice(c,c+a));c=c+a;const g=e.slice(c,e.byteLength),v=u===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,w={type:this.BROADCAST_EVENT,event:p,payload:v};return a>0&&(w.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class lb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ze||(ze={}));const hy=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=XO(a,t,e,o),i),{}):{}},XO=(t,e,n,r)=>{const o=e.find(u=>u.name===t),i=o==null?void 0:o.type,a=n[t];return i&&!r.includes(i)?ub(i,a):Df(a)},ub=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return rR(e,n)}switch(t){case ze.bool:return eR(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return tR(e);case ze.json:case ze.jsonb:return nR(e);case ze.timestamp:return iR(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Df(e);default:return Df(e)}},Df=t=>t,eR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},rR=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(u=>ub(e,u))}return t},iR=t=>typeof t=="string"?t.replace(" ","T"):t,cb=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ph{constructor(e,n,r={},o=If){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fy||(fy={}));class Aa{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:a,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Aa.syncState(this.state,o,i,a),this.pendingDiffs.forEach(c=>{this.state=Aa.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:a,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Aa.syncDiff(this.state,o,i,a),u())}),this.onJoin((o,i,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:a})}),this.onLeave((o,i,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const i=this.cloneDeep(e),a=this.transformState(n),u={},c={};return this.map(i,(h,p)=>{a[h]||(c[h]=p)}),this.map(a,(h,p)=>{const m=i[h];if(m){const g=p.map(E=>E.presence_ref),v=m.map(E=>E.presence_ref),w=p.filter(E=>v.indexOf(E.presence_ref)<0),_=m.filter(E=>g.indexOf(E.presence_ref)<0);w.length>0&&(u[h]=w),_.length>0&&(c[h]=_)}else u[h]=p}),this.syncDiff(i,{joins:u,leaves:c},r,o)}static syncDiff(e,n,r,o){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(u,c)=>{var h;const p=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(c),p.length>0){const m=e[u].map(v=>v.presence_ref),g=p.filter(v=>m.indexOf(v.presence_ref)<0);e[u].unshift(...g)}r(u,p,c)}),this.map(a,(u,c)=>{let h=e[u];if(!h)return;const p=c.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),e[u]=h,o(u,h,c),h.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var py;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(py||(py={}));var Na;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Na||(Na={}));var br;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(br||(br={}));class eo{constructor(e,n={config:{}},r){var o,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ph(this,Nn.join,this.params,this.timeout),this.rejoinTimer=new lb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nn.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Aa(this),this.broadcastEndpointURL=cb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:a,presence:u,private:c}}=this.params,h=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[Na.PRESENCE]&&this.bindings[Na.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},g={broadcast:a,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(br.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(br.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(br.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(w=_==null?void 0:_.length)!==null&&w!==void 0?w:0,b=[];for(let x=0;x<E;x++){const k=_[x],{filter:{event:T,schema:R,table:A,filter:j}}=k,I=v&&v[x];if(I&&I.event===T&&eo.isFilterValueEqual(I.schema,R)&&eo.isFilterValueEqual(I.table,A)&&eo.isFilterValueEqual(I.filter,j))b.push(Object.assign(Object.assign({},k),{id:I.id}));else{this.unsubscribe(),this.state=st.errored,e==null||e(br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(br.SUBSCRIBED);return}}).receive("error",v=>{this.state=st.errored,e==null||e(br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===st.joined&&e===Na.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const h=await u.json();c=h.error||h.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,u,c;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ph(this,Nn.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,i=setTimeout(()=>o.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ph(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>QO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;const a=e.toLocaleLowerCase(),{close:u,error:c,leave:h,join:p}=Nn;if(r&&[u,c,h,p].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(v=>{var w,_,E;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(_=v.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===a}).map(v=>v.callback(g,r)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var w,_,E,b,x,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const T=v.id,R=(w=v.filter)===null||w===void 0?void 0:w.event;return T&&((_=n.ids)===null||_===void 0?void 0:_.includes(T))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const T=(x=(b=v==null?void 0:v.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:_,table:E,commit_timestamp:b,type:x,errors:k}=w;g=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:b,eventType:x,new:{},old:{},errors:k}),this._getPayloadRecords(w))}v.callback(g,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&eo.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nn.close,{},e)}_onError(e){this._on(Nn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=hy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=hy(e.columns,e.old_record)),n}}const mh=()=>{},vu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sR=[1e3,2e3,5e3,1e4],oR=1e4,aR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lR{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=If,this.transport=null,this.heartbeatIntervalMs=vu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mh,this.ref=0,this.reconnectTimer=null,this.vsn=dy,this.logger=mh,this.conn=null,this.sendBuffer=[],this.serializer=new JO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${jf.websocket}`,this.httpEndpoint=cb(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HO.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gr.connecting:return Zi.Connecting;case Gr.open:return Zi.Open;case Gr.closing:return Zi.Closing;default:return Zi.Closed}}isConnected(){return this.connectionState()===Zi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{const i=new eo(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:o,ref:i}=e,a=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(YO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:i,ref:a}=n,u=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${u}`.trim(),i),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(o,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Gr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gr.open||this.conn.readyState===Gr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([aR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const i={access_token:n,version:GO};n&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(Nn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,i,a,u,c,h,p,m,g,v;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:If,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:vu.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:mh,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:dy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:w=>sR[w-1]||oR,this.vsn){case ab:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(w,_)=>_(JSON.stringify(w)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(w,_)=>_(JSON.parse(w));break;case KO:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var rl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uR(t,e,n){const r=new URL(e,t);if(n)for(const[o,i]of Object.entries(n))i!==void 0&&r.searchParams.set(o,i);return r.toString()}async function cR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function dR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:i,headers:a}){const u=uR(t.baseUrl,r,o),c=await cR(t.auth),h=await e(u,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),p=await h.text(),m=(h.headers.get("content-type")||"").includes("application/json"),g=m&&p?JSON.parse(p):p;if(!h.ok){const v=m?g:void 0,w=v==null?void 0:v.error;throw new rl((w==null?void 0:w.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:v})}return{status:h.status,headers:h.headers,data:g}}}}function yu(t){return t.join("")}var hR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:yu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yu(t.namespace)}`}),!0}catch(e){if(e instanceof rl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof rl&&n.status===409)return;throw n}}};function Rs(t){return t.join("")}var fR=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof rl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof rl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},pR=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=dR({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new hR(this.client,e),this.tableOps=new fR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Jc=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ve(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var mR=class extends Jc{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zf=class extends Jc{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const pm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gR=()=>Response,$f=t=>{if(Array.isArray(t))return t.map(n=>$f(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=$f(r)}),e},vR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yR=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function _R(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wR(t){var e=_R(t,"string");return il(e)=="symbol"?e:e+""}function xR(t,e,n){return(e=wR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function my(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?my(Object(n),!0).forEach(function(r){xR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const gh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},bR=async(t,e,n)=>{t instanceof await gR()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const o=t.status||500,i=(r==null?void 0:r.statusCode)||o+"";e(new mR(gh(r),o,i))}).catch(r=>{e(new zf(gh(r),r))}):e(new zf(gh(t),t))},kR=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(vR(r)?(o.headers=de({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),de(de({},o),n))};async function Sl(t,e,n,r,o,i){return new Promise((a,u)=>{t(n,kR(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>bR(c,u,r))})}async function sl(t,e,n,r){return Sl(t,"GET",e,n,r)}async function Ln(t,e,n,r,o){return Sl(t,"POST",e,r,o,n)}async function Bf(t,e,n,r,o){return Sl(t,"PUT",e,r,o,n)}async function SR(t,e,n,r){return Sl(t,"HEAD",e,de(de({},n),{},{noResolveJson:!0}),r)}async function mm(t,e,n,r,o){return Sl(t,"DELETE",e,r,o,n)}var ER=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}}};let db;db=Symbol.toStringTag;var CR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[db]="BlobDownloadBuilder",this.promise=null}asStream(){return new ER(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}}};const PR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var TR=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=pm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var o=this;try{let i;const a=de(de({},gy),r);let u=de(de({},o.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",o.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(c))):(i=n,u["cache-control"]=`max-age=${a.cacheControl}`,u["content-type"]=a.contentType,c&&(u["x-metadata"]=o.toBase64(o.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(u=de(de({},u),r.headers));const h=o._removeEmptyFolders(e),p=o._getFinalPath(h),m=await(t=="PUT"?Bf:Ln)(o.fetch,`${o.url}/object/${p}`,i,de({headers:u},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(o.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var o=this;const i=o._removeEmptyFolders(t),a=o._getFinalPath(i),u=new URL(o.url+`/object/upload/sign/${a}`);u.searchParams.set("token",e);try{let c;const h=de({upsert:gy.upsert},r),p=de(de({},o.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",h.cacheControl)):(c=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{data:{path:i,fullPath:(await Bf(o.fetch,u.toString(),c,{headers:p})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const o=de({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const i=await Ln(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:o}),a=new URL(n.url+i.url),u=a.searchParams.get("token");if(!u)throw new Jc("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:u},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Ln(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}async copy(t,e,n){var r=this;try{return{data:{path:(await Ln(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var r=this;try{let o=r._getFinalPath(t),i=await Ln(r.fetch,`${r.url}/object/sign/${o}`,de({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var r=this;try{const o=await Ln(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(a=>de(de({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=r?`?${r}`:"",i=this._getFinalPath(t),a=()=>sl(this.fetch,`${this.url}/${n}/${i}${o}`,{headers:this.headers,noResolveJson:!0});return new CR(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:$f(await sl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await SR(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ve(r)&&r instanceof zf){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&r.push(o);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${u}`)}}}async remove(t){var e=this;try{return{data:await mm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const o=de(de(de({},PR),e),{},{prefix:t||""});return{data:await Ln(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},n),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const r=de({},t);return{data:await Ln(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const hb="2.89.0",fb={"X-Client-Info":`storage-js/${hb}`};var LR=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const o=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=de(de({},fb),e),this.fetch=pm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await sl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await sl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Ln(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Bf(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Ln(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await mm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},OR=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},fb),e),this.fetch=pm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ln(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),o=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await sl(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await mm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!yR(t))throw new Jc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new pR({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,i){const a=o[i];return typeof a!="function"?a:async(...u)=>{try{return{data:await a.apply(o,u),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const gm={"X-Client-Info":`storage-js/${hb}`,"Content-Type":"application/json"};var pb=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Yt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var vh=class extends pb{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},RR=class extends pb{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const vm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NR=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,o=t;if(typeof o.json=="function")o.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";e(new vh(vy(i),r,a))}).catch(()=>{const i=r+"";e(new vh(o.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";e(new vh(o.statusText||`HTTP ${r} error`,r,i))}}else e(new RR(vy(t),t))},MR=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(AR(r)?(o.headers=de({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,de(de({},o),n)):o};async function IR(t,e,n,r,o,i){return new Promise((a,u)=>{t(n,MR(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const h=c.headers.get("content-type");return!h||!h.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>NR(c,u,r))})}async function Qt(t,e,n,r,o){return IR(t,"POST",e,r,o,n)}var jR=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},gm),e),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Qt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Qt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}}},DR=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},gm),e),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Qt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Qt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Qt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Qt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Qt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}},zR=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},gm),e),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Qt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Qt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Qt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Qt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}},$R=class extends zR{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new BR(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},BR=class extends jR{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new FR(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},FR=class extends DR{constructor(t,e,n,r,o){super(t,e,o),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},UR=class extends LR{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new TR(this.url,this.headers,t,this.fetch)}get vectors(){return new $R(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new OR(this.url+"/iceberg",this.headers,this.fetch)}};const mb="2.89.0",$s=30*1e3,Ff=3,yh=Ff*$s,WR="http://localhost:9999",ZR="supabase.auth.token",VR={"X-Client-Info":`gotrue-js/${mb}`},Uf="X-Supabase-Api-Version",gb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qR=10*60*1e3;class ol extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class GR extends ol{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function KR(t){return ie(t)&&t.name==="AuthApiError"}class Vi extends ol{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class jr extends ol{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class qt extends jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YR(t){return ie(t)&&t.name==="AuthSessionMissingError"}class As extends jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _u extends jr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wu extends jr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QR(t){return ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class yy extends jr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JR extends jr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wf extends jr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function _h(t){return ie(t)&&t.name==="AuthRetryableFetchError"}class _y extends jr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Zf extends jr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wy=` 	
\r=`.split(""),XR=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wy.length;e+=1)t[wy[e].charCodeAt(0)]=-2;for(let e=0;e<hc.length;e+=1)t[hc[e].charCodeAt(0)]=e;return t})();function xy(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hc[r]),e.queuedBits-=6}}function vb(t,e,n){const r=XR[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function by(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=a=>{nA(a,r,n)};for(let a=0;a<t.length;a+=1)vb(t.charCodeAt(a),o,i);return e.join("")}function eA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function tA(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}eA(r,e)}}function nA(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function uo(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)vb(t.charCodeAt(o),n,r);return new Uint8Array(e)}function rA(t){const e=[];return tA(t,n=>e.push(n)),new Uint8Array(e)}function Ki(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>xy(o,n,r)),xy(null,n,r),e.join("")}function iA(t){return Math.round(Date.now()/1e3)+t}function sA(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},yb=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function oA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const _b=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bs=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},zi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pt=async(t,e)=>{await t.removeItem(e)};class Xc{constructor(){this.promise=new Xc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Xc.promiseConstructor=Promise;function wh(t){const e=t.split(".");if(e.length!==3)throw new Zf("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!HR.test(e[r]))throw new Zf("JWT not in base64url format");return{header:JSON.parse(by(e[0])),payload:JSON.parse(by(e[1])),signature:uo(e[2]),raw:{header:e[0],payload:e[1]}}}async function lA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function uA(t,e){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){o(a);return}}})()})}function cA(t){return("0"+t.toString(16)).substr(-2)}function dA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,cA).join("")}async function hA(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function fA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await hA(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ns(t,e,n=!1){const r=dA();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Bs(t,`${e}-code-verifier`,o);const i=await fA(r);return[i,r===i?"plain":"s256"]}const pA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mA(t){const e=t.headers.get(Uf);if(!e||!e.match(pA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ms(t){if(!yA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xh(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _A(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function ky(t){return JSON.parse(JSON.stringify(t))}const Ui=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wA=[502,503,504];async function Sy(t){var e;if(!aA(t))throw new Wf(Ui(t),0);if(wA.includes(t.status))throw new Wf(Ui(t),t.status);let n;try{n=await t.json()}catch(i){throw new Vi(Ui(i),i)}let r;const o=mA(t);if(o&&o.getTime()>=gb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _y(Ui(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new _y(Ui(n),t.status,n.weak_password.reasons);throw new GR(Ui(n),t.status||500,r)}const xA=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function ce(t,e,n,r){var o;const i=Object.assign({},r==null?void 0:r.headers);i[Uf]||(i[Uf]=gb["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const u=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await bA(t,e,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function bA(t,e,n,r,o,i){const a=xA(e,r,o,i);let u;try{u=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new Wf(Ui(c),0)}if(u.ok||await Sy(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await Sy(c)}}function Cn(t){var e;let n=null;EA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=iA(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ey(t){const e=Cn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Jr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kA(t){return{data:t,error:null}}function SA(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,a=Qc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},a);return{data:{properties:u,user:c},error:null}}function Cy(t){return t}function EA(t){return t.access_token&&t.refresh_token&&t.expires_in}const bh=["global","local","others"];class CA{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=_b(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=bh[0]){if(bh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bh.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Jr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Qc(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:SA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,i,a,u,c;try{const h={nextPage:null,lastPage:0,total:0},p=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Cy});if(p.error)throw p.error;const m=await p.json(),g=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);h[`${E}Page`]=_}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ie(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Ms(e);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ms(e);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Jr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ms(e);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Jr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ms(e.userId);try{const{data:n,error:r}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ms(e.userId),Ms(e.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,i,a,u,c;try{const h={nextPage:null,lastPage:0,total:0},p=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Cy});if(p.error)throw p.error;const m=await p.json(),g=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);h[`${E}Page`]=_}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ie(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}}function Py(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Is={debug:!!(globalThis&&yb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class PA extends wb{}async function TA(t,e,n){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new PA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Is.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function LA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function OA(t){return parseInt(t,16)}function RA(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function AA(t){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:a,notBefore:u,requestId:c,resources:h,scheme:p,uri:m,version:g}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=xb(t.address),w=p?`${p}://${r}`:r,_=t.statement?`${t.statement}
`:"",E=`${w} wants you to sign in with your Ethereum account:
${v}

${_}`;let b=`URI: ${m}
Version: ${g}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(o&&(b+=`
Expiration Time: ${o.toISOString()}`),u&&(b+=`
Not Before: ${u.toISOString()}`),c&&(b+=`
Request ID: ${c}`),h){let x=`
Resources:`;for(const k of h){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);x+=`
- ${k}`}b+=x}return`${E}
${b}`}class rt extends Error{constructor({message:e,code:n,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class fc extends rt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function NA({error:t,options:e}){var n,r,o;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(bb(a)){if(i.rp.id!==a)return new rt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function MA({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(bb(r)){if(n.rpId!==r)return new rt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class IA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const jA=new IA;function DA(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,o=Qc(t,["challenge","user","excludeCredentials"]),i=uo(e).buffer,a=Object.assign(Object.assign({},n),{id:uo(n.id).buffer}),u=Object.assign(Object.assign({},o),{challenge:i,user:a});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const h=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},h),{id:uo(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function zA(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Qc(t,["challenge","allowCredentials"]),o=uo(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const u=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},u),{id:uo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function $A(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ki(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ki(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function BA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ki(new Uint8Array(o.authenticatorData)),clientDataJSON:Ki(new Uint8Array(o.clientDataJSON)),signature:Ki(new Uint8Array(o.signature)),userHandle:o.userHandle?Ki(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ty(){var t,e;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function FA(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new fc("Browser returned unexpected credential type",e)}:{data:null,error:new fc("Empty credential response",e)}}catch(e){return{data:null,error:NA({error:e,options:t})}}}async function UA(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new fc("Browser returned unexpected credential type",e)}:{data:null,error:new fc("Empty credential response",e)}}catch(e){return{data:null,error:MA({error:e,options:t})}}}const WA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pc(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const i in o){const a=o[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const u=r[i];e(u)?r[i]=pc(u,a):r[i]=pc(a)}else r[i]=a}return r}function VA(t,e){return pc(WA,t,e||{})}function HA(t,e){return pc(ZA,t,e||{})}class qA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},i){try{const{data:a,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:u};const c=o??jA.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:h}=a.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(a.webauthn.type){case"create":{const h=VA(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:p,error:m}=await FA({publicKey:h,signal:c});return p?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const h=HA(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:p,error:m}=await UA(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:h,signal:c}));return p?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Vi("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new ol("rpId is required for WebAuthn authentication")};try{if(!Ty())return{data:null,error:new Vi("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!a)return{data:null,error:u};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Vi("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new ol("rpId is required for WebAuthn registration")};try{if(!Ty())return{data:null,error:new Vi("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:c,error:h}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:h}}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Vi("Unexpected error in register",a)}}}}LA();const GA={url:WR,storageKey:ZR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ly(t,e,n){return await n()}const js={};class al{get jwks(){var e,n;return(n=(e=js[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){js[this.storageKey]=Object.assign(Object.assign({},js[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=js[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){js[this.storageKey]=Object.assign(Object.assign({},js[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},GA),e);if(this.storageKey=i.storageKey,this.instanceID=(n=al.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,al.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&mt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new CA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=_b(i.fetch),this.lock=i.lock||Ly,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&mt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=TA:this.lock=Ly,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:yb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Py(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Py(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${mb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(mt()&&(n=oA(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),mt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),QR(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",u),await this._saveSession(a),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ie(n)?this._returnResult({error:n}):this._returnResult({error:new Vi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Cn}),{data:a,error:u}=i;if(u||!a)return this._returnResult({data:{user:null,session:null},error:u});const c=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,o;try{let i;if("email"in e){const{email:p,password:m,options:g}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Ns(this.storage,this.storageKey)),i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:p,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:w},xform:Cn})}else if("phone"in e){const{phone:p,password:m,options:g}=e;i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(o=g==null?void 0:g.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Cn})}else throw new _u("You must provide either an email or phone number and a password");const{data:a,error:u}=i;if(u||!a)return await pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const c=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(i){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:u}=e;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ey})}else if("phone"in e){const{phone:i,password:a,options:u}=e;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ey})}else throw new _u("You must provide either an email or phone number and a password");const{data:r,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const i=new As;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,o,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,o,i,a,u,c,h,p,m,g;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:_,wallet:E,statement:b,options:x}=e;let k;if(mt())if(typeof E=="object")k=E;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")k=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=E}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),R=await k.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=xb(R[0]);let j=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const F=await k.request({method:"eth_chainId"});j=OA(F)}const I={domain:T.host,address:A,statement:b,uri:T.href,version:"1",chainId:j,nonce:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(h=x==null?void 0:x.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=x==null?void 0:x.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=AA(I),w=await k.request({method:"personal_sign",params:[RA(v),A]})}try{const{data:_,error:E}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Cn});if(E)throw E;if(!_||!_.session||!_.user){const b=new As;return this._returnResult({data:{user:null,session:null},error:b})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(ie(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,r,o,i,a,u,c,h,p,m,g,v;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:E,wallet:b,statement:x,options:k}=e;let T;if(mt())if(typeof b=="object")T=b;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))T=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=b}const R=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const A=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),x?{statement:x}:null));let j;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")j=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)j=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),_=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${R.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(o=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=k==null?void 0:k.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(p=k==null?void 0:k.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const A=await T.signMessage(new TextEncoder().encode(w),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=A}}try{const{data:E,error:b}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ki(_)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Cn});if(b)throw b;if(!E||!E.session||!E.user){const x=new As;return this._returnResult({data:{user:null,session:null},error:x})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:b})}catch(E){if(ie(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const n=await zi(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new JR;const{data:i,error:a}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Cn});if(await pt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const u=new As;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:a})}catch(i){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:i,nonce:a}=e,u=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cn}),{data:c,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c||!c.session||!c.user){const p=new As;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:h})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,o,i,a;try{if("email"in e){const{email:u,options:c}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Ns(this.storage,this.storageKey));const{error:m}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:c}=e,{data:h,error:p}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new _u("You must provide either an email or phone number.")}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var n,r;try{let o,i;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:u}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:Cn});if(u)throw u;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,h=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(o){if(ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,r,o,i,a;try{let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ns(this.storage,this.storageKey));const h=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:kA});return!((i=h.data)===null||i===void 0)&&i.url&&mt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new qt;const{error:o}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:i}=e,{error:a}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:o,options:i}=e,{data:a,error:u}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:u})}throw new _u("You must provide either an email or phone number and a type")}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<yh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await zi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=xh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=_A(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jr}):await this._useSession(async n=>{var r,o,i;const{data:a,error:u}=n;if(u)throw u;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:Jr})})}catch(n){if(ie(n))return YR(n)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:i}=r;if(i)throw i;if(!o.session)throw new qt;const a=o.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await Ns(this.storage,this.storageKey));const{data:h,error:p}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:a.access_token,xform:Jr});if(p)throw p;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qt;const n=Date.now()/1e3;let r=n,o=!0,i=null;const{payload:a}=wh(e.access_token);if(a.exp&&(r=a.exp,o=r<=n),o){const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:u}=n;if(u)throw u;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new qt;const{data:o,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!mt())throw new wu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yy("No code detected.");const{data:x,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:i,refresh_token:a,expires_in:u,expires_at:c,token_type:h}=e;if(!i||!u||!a||!h)throw new wu("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let g=p+m;c&&(g=parseInt(c));const v=g-p;v*1e3<=$s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const w=g-m;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,p);const{data:_,error:E}=await this._getUser(i);if(E)throw E;const b={provider_token:r,provider_refresh_token:o,access_token:i,expires_in:m,expires_at:g,refresh_token:a,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=o.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:u}=await this.admin.signOut(a,e);if(u&&!(KR(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=sA(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Ns(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:o}=await this._useSession(async i=>{var a,u,c,h,p;const{data:m,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return mt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ie(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:i}}=n;if(o)throw o;const{options:a,provider:u,token:c,access_token:h,nonce:p}=e,m=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cn}),{data:g,error:v}=m;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new As}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(o){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:i,error:a}=n;if(a)throw a;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uA(async o=>(o>0&&await lA(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cn})),(o,i)=>{const a=200*Math.pow(2,o);return i&&_h(i)&&Date.now()+a-r<$s})}catch(r){if(this._debug(n,"error",r),ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),mt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await zi(this.storage,this.storageKey);if(o&&this.userStorage){let a=await zi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await Bs(this.userStorage,this.storageKey+"-user",a)),o.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:xh()}else if(o&&!o.user&&!o.user){const a=await zi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(o.user=a.user,await pt(this.storage,this.storageKey+"-user"),await Bs(this.storage,this.storageKey,o)):o.user=xh()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const i=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yh;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${yh}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),_h(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:u}=await this._getUser(o.access_token);!u&&(a!=null&&a.user)?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Xc;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(o,"error",i),ie(i)){const a={data:null,error:i};return _h(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await pt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Bs(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const i=ky(o);await Bs(this.storage,this.storageKey,i)}else{const o=ky(n);await Bs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$s);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/$s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${$s}ms, refresh threshold is ${Ff} ticks`),o<=Ff&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ns(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);o.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?this._returnResult({data:null,error:i}):await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:h}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&c.type==="totp"&&(!((o=c==null?void 0:c.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$A(e.webauthn.credential_response):BA(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:c}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:c}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:u}=a;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:DA(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:zA(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(i),i.status==="verified"&&o[i.factor_type].push(i);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=wh(r.access_token);let a=null;i.aal&&(a=i.aal);let u=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const h=i.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new qt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new qt});const a=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return a.data&&a.data.redirect_url&&mt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new qt});const a=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return a.data&&a.data.redirect_url&&mt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new qt})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+qR>o)return r;const{data:i,error:a}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,r=i.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return this._returnResult({data:null,error:w});r=v.session.access_token}const{header:o,payload:i,signature:a,raw:{header:u,payload:c}}=wh(r);n!=null&&n.allowExpired||gA(i.exp);const h=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:o,signature:a},error:null}}const p=vA(o.alg),m=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,a,rA(`${u}.${c}`)))throw new Zf("Invalid JWT signature");return{data:{claims:i,header:o,signature:a},error:null}}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}}al.nextInstanceID={};const KA=al,YA="2.89.0";let _a="";typeof Deno<"u"?_a="deno":typeof document<"u"?_a="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_a="react-native":_a="node";const QA={"X-Client-Info":`supabase-js-${_a}/${YA}`},JA={headers:QA},XA={schema:"public"},e2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t2={};function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function n2(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r2(t){var e=n2(t,"string");return ll(e)=="symbol"?e:e+""}function i2(t,e,n){return(e=r2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oy(Object(n),!0).forEach(function(r){i2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const s2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o2=()=>Headers,a2=(t,e,n)=>{const r=s2(n),o=o2();return async(i,a)=>{var u;const c=(u=await e())!==null&&u!==void 0?u:t;let h=new o(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),r(i,Ye(Ye({},a),{},{headers:h}))}};function l2(t){return t.endsWith("/")?t:t+"/"}function u2(t,e){var n,r;const{db:o,auth:i,realtime:a,global:u}=t,{db:c,auth:h,realtime:p,global:m}=e,g={db:Ye(Ye({},c),o),auth:Ye(Ye({},h),i),realtime:Ye(Ye({},p),a),storage:{},global:Ye(Ye(Ye({},m),u),{},{headers:Ye(Ye({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function c2(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l2(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var d2=class extends KA{constructor(t){super(t)}},h2=class{constructor(t,e,n){var r,o;this.supabaseUrl=t,this.supabaseKey=e;const i=c2(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,u={db:XA,realtime:t2,auth:Ye(Ye({},e2),{},{storageKey:a}),global:JA},c=u2(n??{},u);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=c.auth)!==null&&h!==void 0?h:{},this.headers,c.global.fetch)}this.fetch=a2(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ye({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new VO(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new UR(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new BO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:o,storageKey:i,flowType:a,lock:u,debug:c,throwOnError:h},p,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d2({url:this.authUrl.href,headers:Ye(Ye({},g),p),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:o,flowType:a,lock:u,debug:c,throwOnError:h,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new lR(this.realtimeUrl.href,Ye(Ye({},t),{},{params:Ye(Ye({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const f2=(t,e,n)=>new h2(t,e,n);function p2(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}p2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const m2="https://tquklxqpxjvmecdtlpoa.supabase.co",g2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRxdWtseHFweGp2bWVjZHRscG9hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY3NTk2MDMsImV4cCI6MjA4MjMzNTYwM30.CVX0C2Aj5ahonz1mX2djXbGwNuZ4pEe8MHCdR4sHk8Q",Er=f2(m2,g2),kb=P.createContext(void 0),v2=({children:t})=>{const[e,n]=P.useState(null),[r,o]=P.useState(null),[i,a]=P.useState(!0);P.useEffect(()=>{Er.auth.getSession().then(({data:{session:m}})=>{o(m),n((m==null?void 0:m.user)??null),a(!1)});const{data:{subscription:p}}=Er.auth.onAuthStateChange(async(m,g)=>{o(g),n((g==null?void 0:g.user)??null),a(!1)});return()=>p.unsubscribe()},[]);const u=async(p,m,g)=>{const{data:v,error:w}=await Er.auth.signUp({email:p,password:m,options:{data:{username:g||"Anonymous",display_name:g||"Anonymous"}}});return{data:v,error:w}},c=async(p,m)=>{const{data:g,error:v}=await Er.auth.signInWithPassword({email:p,password:m});return{data:g,error:v}},h=async()=>{const{error:p}=await Er.auth.signOut();return{error:p}};return C.jsx(kb.Provider,{value:{user:e,session:r,loading:i,signUp:u,signIn:c,signOut:h},children:t})},$o=()=>{const t=P.useContext(kb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},y2=({blurred:t=!0,className:e=""})=>{const[n,r]=P.useState(!1);return P.useEffect(()=>{const o=setTimeout(()=>r(!0),100);return()=>clearTimeout(o)},[]),C.jsxs("div",{className:`absolute inset-0 ${e}`,children:[C.jsx("div",{className:`w-full h-full transition-opacity duration-500 ${n?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Crect fill='%23f5f5f3' width='1920' height='1080'/%3E%3C!-- Water bodies --%3E%3Cpath d='M0 400 Q 200 380 400 420 Q 600 460 800 400 Q 1000 340 1200 380 Q 1400 420 1600 360 L 1920 380 L 1920 600 Q 1700 580 1500 620 Q 1300 660 1100 600 Q 900 540 700 580 Q 500 620 300 560 Q 100 500 0 540 Z' fill='%23aadaff' opacity='0.6'/%3E%3C!-- Parks --%3E%3Crect x='100' y='200' width='180' height='120' rx='10' fill='%23c8e6c9' opacity='0.7'/%3E%3Crect x='500' y='100' width='200' height='150' rx='10' fill='%23c8e6c9' opacity='0.6'/%3E%3Crect x='1200' y='180' width='250' height='180' rx='10' fill='%23c8e6c9' opacity='0.7'/%3E%3Crect x='1600' y='300' width='150' height='100' rx='10' fill='%23c8e6c9' opacity='0.6'/%3E%3Crect x='200' y='700' width='220' height='160' rx='10' fill='%23c8e6c9' opacity='0.7'/%3E%3Crect x='800' y='750' width='180' height='120' rx='10' fill='%23c8e6c9' opacity='0.6'/%3E%3C!-- Major roads --%3E%3Cpath d='M0 300 L 1920 280' stroke='%23ffffff' stroke-width='8' fill='none'/%3E%3Cpath d='M0 600 L 1920 620' stroke='%23ffffff' stroke-width='8' fill='none'/%3E%3Cpath d='M300 0 L 320 1080' stroke='%23ffffff' stroke-width='8' fill='none'/%3E%3Cpath d='M900 0 L 880 1080' stroke='%23ffffff' stroke-width='8' fill='none'/%3E%3Cpath d='M1500 0 L 1520 1080' stroke='%23ffffff' stroke-width='8' fill='none'/%3E%3C!-- Minor streets grid --%3E%3Cg stroke='%23e0e0e0' stroke-width='2' opacity='0.5'%3E%3Cline x1='0' y1='150' x2='1920' y2='160'/%3E%3Cline x1='0' y1='450' x2='1920' y2='440'/%3E%3Cline x1='0' y1='750' x2='1920' y2='760'/%3E%3Cline x1='0' y1='900' x2='1920' y2='890'/%3E%3Cline x1='150' y1='0' x2='140' y2='1080'/%3E%3Cline x1='450' y1='0' x2='460' y2='1080'/%3E%3Cline x1='600' y1='0' x2='590' y2='1080'/%3E%3Cline x1='750' y1='0' x2='760' y2='1080'/%3E%3Cline x1='1050' y1='0' x2='1040' y2='1080'/%3E%3Cline x1='1200' y1='0' x2='1210' y2='1080'/%3E%3Cline x1='1350' y1='0' x2='1340' y2='1080'/%3E%3Cline x1='1650' y1='0' x2='1660' y2='1080'/%3E%3Cline x1='1800' y1='0' x2='1790' y2='1080'/%3E%3C/g%3E%3C!-- Location markers --%3E%3Ccircle cx='350' cy='320' r='8' fill='%23ea4335'/%3E%3Ccircle cx='720' cy='480' r='8' fill='%23ea4335'/%3E%3Ccircle cx='1100' cy='280' r='8' fill='%23ea4335'/%3E%3Ccircle cx='1400' cy='550' r='8' fill='%23ea4335'/%3E%3Ccircle cx='550' cy='650' r='8' fill='%23ea4335'/%3E%3Ccircle cx='1600' cy='750' r='8' fill='%23ea4335'/%3E%3Ccircle cx='200' cy='850' r='8' fill='%23ea4335'/%3E%3Ccircle cx='950' cy='180' r='8' fill='%23ea4335'/%3E%3Ccircle cx='1750' cy='200' r='8' fill='%23ea4335'/%3E%3C!-- Building clusters --%3E%3Cg fill='%23f0f0f0' opacity='0.8'%3E%3Crect x='380' y='350' width='60' height='40' rx='2'/%3E%3Crect x='450' y='340' width='45' height='55' rx='2'/%3E%3Crect x='380' y='400' width='80' height='30' rx='2'/%3E%3Crect x='750' y='500' width='70' height='45' rx='2'/%3E%3Crect x='830' y='490' width='50' height='60' rx='2'/%3E%3Crect x='1120' y='300' width='55' height='50' rx='2'/%3E%3Crect x='1185' y='310' width='40' height='35' rx='2'/%3E%3C/g%3E%3C!-- Area labels (faded) --%3E%3Cg font-family='Arial, sans-serif' font-size='14' fill='%23999999' opacity='0.4'%3E%3Ctext x='150' y='250'%3EMidtown Park%3C/text%3E%3Ctext x='550' y='170'%3ECentral Gardens%3C/text%3E%3Ctext x='1240' y='250'%3ERiverside%3C/text%3E%3Ctext x='400' y='450'%3EDowntown%3C/text%3E%3Ctext x='800' y='350'%3EMain Street%3C/text%3E%3Ctext x='1100' y='480'%3EHarbor District%3C/text%3E%3Ctext x='250' y='780'%3ESouthside%3C/text%3E%3Ctext x='850' y='820'%3EWest End%3C/text%3E%3Ctext x='1500' y='650'%3ENorthgate%3C/text%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"cover",backgroundPosition:"center",filter:t?"blur(4px)":"none",transform:t?"scale(1.02)":"scale(1)"}}),t&&C.jsx("div",{className:"absolute inset-0 bg-white/20"})]})},_2=()=>{const t=Yc(),e=()=>{t("/map")};return C.jsxs("div",{className:"relative h-full w-full overflow-hidden landing-page",children:[C.jsx(y2,{blurred:!0}),C.jsx("div",{className:"absolute inset-0 landing-overlay"}),C.jsxs("div",{className:"relative z-10 flex h-full flex-col items-center justify-center px-4",children:[C.jsx("h1",{className:"mb-3 text-5xl md:text-6xl lg:text-7xl font-playfair font-normal text-landing-dark tracking-tight opacity-0 animate-fade-in",style:{animationDelay:"100ms"},children:"A Map Of Memories"}),C.jsx("p",{className:"mb-8 text-lg md:text-xl font-playfair italic text-landing-muted opacity-0 animate-fade-in",style:{animationDelay:"250ms"},children:"Just someone who remembered something."}),C.jsx("div",{className:"mb-8 max-w-md opacity-0 animate-fade-in",style:{animationDelay:"350ms"},children:C.jsxs("ul",{className:"text-sm md:text-base font-playfair text-landing-dark space-y-1 text-center",children:[C.jsx("li",{children:" Pin memories to places that matter"}),C.jsx("li",{children:" Create your personal map of moments"}),C.jsx("li",{children:" Share stories through locations"}),C.jsx("li",{children:" Explore the world through memories"})]})}),C.jsx("button",{onClick:e,className:"amom-button-landing opacity-0 animate-fade-in",style:{animationDelay:"500ms"},children:"Explore AMOM"})]})]})},ed=({variant:t="full",className:e="w-16 h-16",animate:n=!1})=>C.jsx("div",{className:`${e} flex items-center justify-center text-4xl ${n?"animate-pulse-soft":""}`,style:{fontSize:"inherit"},children:""}),w2=({message:t="Setting your location"})=>C.jsxs("div",{className:"fixed inset-0 bg-background flex flex-col items-center justify-center",children:[C.jsx(ed,{variant:"full",className:"w-20 h-20 mb-6",animate:!0}),C.jsx("p",{className:"text-foreground/90 text-lg font-playfair italic",children:t})]});var Vf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(l_,function(n){var r="1.9.4";function o(s){var l,d,f,y;for(d=1,f=arguments.length;d<f;d++){y=arguments[d];for(l in y)s[l]=y[l]}return s}var i=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var f=d.call(arguments,2);return function(){return s.apply(l,f.length?f.concat(d.call(arguments)):arguments)}}var u=0;function c(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function h(s,l,d){var f,y,S,O;return O=function(){f=!1,y&&(S.apply(d,y),y=!1)},S=function(){f?y=arguments:(s.apply(d,arguments),setTimeout(O,l),f=!0)},S}function p(s,l,d){var f=l[1],y=l[0],S=f-y;return s===f&&d?s:((s-y)%S+S)%S+y}function m(){return!1}function g(s,l){if(l===!1)return s;var d=Math.pow(10,l===void 0?6:l);return Math.round(s*d)/d}function v(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return v(s).split(/\s+/)}function _(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?i(s.options):{});for(var d in l)s.options[d]=l[d];return s.options}function E(s,l,d){var f=[];for(var y in s)f.push(encodeURIComponent(d?y.toUpperCase():y)+"="+encodeURIComponent(s[y]));return(!l||l.indexOf("?")===-1?"?":"&")+f.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function x(s,l){return s.replace(b,function(d,f){var y=l[f];if(y===void 0)throw new Error("No value provided for variable "+d);return typeof y=="function"&&(y=y(l)),y})}var k=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function T(s,l){for(var d=0;d<s.length;d++)if(s[d]===l)return d;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var j=0;function I(s){var l=+new Date,d=Math.max(0,16-(l-j));return j=l+d,window.setTimeout(s,d)}var F=window.requestAnimationFrame||A("RequestAnimationFrame")||I,$=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function K(s,l,d){if(d&&F===I)s.call(l);else return F.call(window,a(s,l))}function H(s){s&&$.call(window,s)}var he={__proto__:null,extend:o,create:i,bind:a,get lastId(){return u},stamp:c,throttle:h,wrapNum:p,falseFn:m,formatNum:g,trim:v,splitWords:w,setOptions:_,getParamString:E,template:x,isArray:k,indexOf:T,emptyImageUrl:R,requestFn:F,cancelFn:$,requestAnimFrame:K,cancelAnimFrame:H};function V(){}V.extend=function(s){var l=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,f=i(d);f.constructor=l,l.prototype=f;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return s.statics&&o(l,s.statics),s.includes&&(ge(s.includes),o.apply(null,[f].concat(s.includes))),o(f,s),delete f.statics,delete f.includes,f.options&&(f.options=d.options?i(d.options):{},o(f.options,s.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,O=f._initHooks.length;S<O;S++)f._initHooks[S].call(this)}},l},V.include=function(s){var l=this.prototype.options;return o(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},V.mergeOptions=function(s){return o(this.prototype.options,s),this},V.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function ge(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=k(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(s,l,d){if(typeof s=="object")for(var f in s)this._on(f,s[f],l);else{s=w(s);for(var y=0,S=s.length;y<S;y++)this._on(s[y],l,d)}return this},off:function(s,l,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var f in s)this._off(f,s[f],l);else{s=w(s);for(var y=arguments.length===1,S=0,O=s.length;S<O;S++)y?this._off(s[S]):this._off(s[S],l,d)}return this},_on:function(s,l,d,f){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,d)===!1){d===this&&(d=void 0);var y={fn:l,ctx:d};f&&(y.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(y)}},_off:function(s,l,d){var f,y,S;if(this._events&&(f=this._events[s],!!f)){if(arguments.length===1){if(this._firingCount)for(y=0,S=f.length;y<S;y++)f[y].fn=m;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var O=this._listens(s,l,d);if(O!==!1){var N=f[O];this._firingCount&&(N.fn=m,this._events[s]=f=f.slice()),f.splice(O,1)}}},fire:function(s,l,d){if(!this.listens(s,d))return this;var f=o({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[s];if(y){this._firingCount=this._firingCount+1||1;for(var S=0,O=y.length;S<O;S++){var N=y[S],D=N.fn;N.once&&this.off(s,D,N.ctx),D.call(N.ctx||this,f)}this._firingCount--}}return d&&this._propagateEvent(f),this},listens:function(s,l,d,f){typeof s!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(f=!!l,y=void 0,d=void 0);var S=this._events&&this._events[s];if(S&&S.length&&this._listens(s,y,d)!==!1)return!0;if(f){for(var O in this._eventParents)if(this._eventParents[O].listens(s,l,d,f))return!0}return!1},_listens:function(s,l,d){if(!this._events)return!1;var f=this._events[s]||[];if(!l)return!!f.length;d===this&&(d=void 0);for(var y=0,S=f.length;y<S;y++)if(f[y].fn===l&&f[y].ctx===d)return y;return!1},once:function(s,l,d){if(typeof s=="object")for(var f in s)this._on(f,s[f],l,!0);else{s=w(s);for(var y=0,S=s.length;y<S;y++)this._on(s[y],l,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[c(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[c(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,o({layer:s.target,propagatedFrom:s.target},s),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var le=V.extend(te);function M(s,l,d){this.x=d?Math.round(s):s,this.y=d?Math.round(l):l}var U=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};M.prototype={clone:function(){return new M(this.x,this.y)},add:function(s){return this.clone()._add(z(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(z(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new M(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new M(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=U(this.x),this.y=U(this.y),this},distanceTo:function(s){s=z(s);var l=s.x-this.x,d=s.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(s){return s=z(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=z(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function z(s,l,d){return s instanceof M?s:k(s)?new M(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new M(s.x,s.y):new M(s,l,d)}function Y(s,l){if(s)for(var d=l?[s,l]:s,f=0,y=d.length;f<y;f++)this.extend(d[f])}Y.prototype={extend:function(s){var l,d;if(!s)return this;if(s instanceof M||typeof s[0]=="number"||"x"in s)l=d=z(s);else if(s=Q(s),l=s.min,d=s.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,d;return typeof s[0]=="number"||s instanceof M?s=z(s):s=Q(s),s instanceof Y?(l=s.min,d=s.max):l=d=s,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=Q(s);var l=this.min,d=this.max,f=s.min,y=s.max,S=y.x>=l.x&&f.x<=d.x,O=y.y>=l.y&&f.y<=d.y;return S&&O},overlaps:function(s){s=Q(s);var l=this.min,d=this.max,f=s.min,y=s.max,S=y.x>l.x&&f.x<d.x,O=y.y>l.y&&f.y<d.y;return S&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,d=this.max,f=Math.abs(l.x-d.x)*s,y=Math.abs(l.y-d.y)*s;return Q(z(l.x-f,l.y-y),z(d.x+f,d.y+y))},equals:function(s){return s?(s=Q(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Q(s,l){return!s||s instanceof Y?s:new Y(s,l)}function oe(s,l){if(s)for(var d=l?[s,l]:s,f=0,y=d.length;f<y;f++)this.extend(d[f])}oe.prototype={extend:function(s){var l=this._southWest,d=this._northEast,f,y;if(s instanceof fe)f=s,y=s;else if(s instanceof oe){if(f=s._southWest,y=s._northEast,!f||!y)return this}else return s?this.extend(ue(s)||se(s)):this;return!l&&!d?(this._southWest=new fe(f.lat,f.lng),this._northEast=new fe(y.lat,y.lng)):(l.lat=Math.min(f.lat,l.lat),l.lng=Math.min(f.lng,l.lng),d.lat=Math.max(y.lat,d.lat),d.lng=Math.max(y.lng,d.lng)),this},pad:function(s){var l=this._southWest,d=this._northEast,f=Math.abs(l.lat-d.lat)*s,y=Math.abs(l.lng-d.lng)*s;return new oe(new fe(l.lat-f,l.lng-y),new fe(d.lat+f,d.lng+y))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof fe||"lat"in s?s=ue(s):s=se(s);var l=this._southWest,d=this._northEast,f,y;return s instanceof oe?(f=s.getSouthWest(),y=s.getNorthEast()):f=y=s,f.lat>=l.lat&&y.lat<=d.lat&&f.lng>=l.lng&&y.lng<=d.lng},intersects:function(s){s=se(s);var l=this._southWest,d=this._northEast,f=s.getSouthWest(),y=s.getNorthEast(),S=y.lat>=l.lat&&f.lat<=d.lat,O=y.lng>=l.lng&&f.lng<=d.lng;return S&&O},overlaps:function(s){s=se(s);var l=this._southWest,d=this._northEast,f=s.getSouthWest(),y=s.getNorthEast(),S=y.lat>l.lat&&f.lat<d.lat,O=y.lng>l.lng&&f.lng<d.lng;return S&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=se(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(s,l){return s instanceof oe?s:new oe(s,l)}function fe(s,l,d){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,d!==void 0&&(this.alt=+d)}fe.prototype={equals:function(s,l){if(!s)return!1;s=ue(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+g(this.lat,s)+", "+g(this.lng,s)+")"},distanceTo:function(s){return Ct.distance(this,ue(s))},wrap:function(){return Ct.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,d=l/Math.cos(Math.PI/180*this.lat);return se([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function ue(s,l,d){return s instanceof fe?s:k(s)&&typeof s[0]!="object"?s.length===3?new fe(s[0],s[1],s[2]):s.length===2?new fe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new fe(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new fe(s,l,d)}var be={latLngToPoint:function(s,l){var d=this.projection.project(s),f=this.scale(l);return this.transformation._transform(d,f)},pointToLatLng:function(s,l){var d=this.scale(l),f=this.transformation.untransform(s,d);return this.projection.unproject(f)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(s),f=this.transformation.transform(l.min,d),y=this.transformation.transform(l.max,d);return new Y(f,y)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?p(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?p(s.lat,this.wrapLat,!0):s.lat,f=s.alt;return new fe(d,l,f)},wrapLatLngBounds:function(s){var l=s.getCenter(),d=this.wrapLatLng(l),f=l.lat-d.lat,y=l.lng-d.lng;if(f===0&&y===0)return s;var S=s.getSouthWest(),O=s.getNorthEast(),N=new fe(S.lat-f,S.lng-y),D=new fe(O.lat-f,O.lng-y);return new oe(N,D)}},Ct=o({},be,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var d=Math.PI/180,f=s.lat*d,y=l.lat*d,S=Math.sin((l.lat-s.lat)*d/2),O=Math.sin((l.lng-s.lng)*d/2),N=S*S+Math.cos(f)*Math.cos(y)*O*O,D=2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N));return this.R*D}}),wn=6378137,xn={R:wn,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,d=this.MAX_LATITUDE,f=Math.max(Math.min(d,s.lat),-d),y=Math.sin(f*l);return new M(this.R*s.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(s){var l=180/Math.PI;return new fe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=wn*Math.PI;return new Y([-s,-s],[s,s])}()};function on(s,l,d,f){if(k(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=d,this._d=f}on.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new M((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function an(s,l,d,f){return new on(s,l,d,f)}var ln=o({},Ct,{code:"EPSG:3857",projection:xn,transformation:function(){var s=.5/(Math.PI*xn.R);return an(s,.5,-s,.5)}()}),vs=o({},ln,{code:"EPSG:900913"});function ys(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ti(s,l){var d="",f,y,S,O,N,D;for(f=0,S=s.length;f<S;f++){for(N=s[f],y=0,O=N.length;y<O;y++)D=N[y],d+=(y?"L":"M")+D.x+" "+D.y;d+=l?ae.svg?"z":"x":""}return d||"M0 0"}var Li=document.documentElement.style,Un="ActiveXObject"in window,Dr=Un&&!document.addEventListener,Bo="msLaunchUri"in navigator&&!("documentMode"in document),hr=Gn("webkit"),Fo=Gn("android"),Wn=Gn("android 2")||Gn("android 3"),nd=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rd=Fo&&Gn("Google")&&nd<537&&!("AudioNode"in window),_t=!!window.opera,fr=!Bo&&Gn("chrome"),El=Gn("gecko")&&!hr&&!_t&&!Un,id=!fr&&Gn("safari"),Oi=Gn("phantom"),Cl="OTransition"in Li,Pl=navigator.platform.indexOf("Win")===0,_s=Un&&"transition"in Li,Zn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Wn,Uo="MozPerspective"in Li,zr=!window.L_DISABLE_3D&&(_s||Zn||Uo)&&!Cl&&!Oi,Ri=typeof orientation<"u"||Gn("mobile"),sd=Ri&&hr,Tl=Ri&&Zn,Wo=!window.PointerEvent&&window.MSPointerEvent,Ll=!!(window.PointerEvent||Wo),ws="ontouchstart"in window||!!window.TouchEvent,Vn=!window.L_NO_TOUCH&&(ws||Ll),od=Ri&&_t,me=Ri&&El,Ne=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,je=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return s}(),Vt=function(){return!!document.createElement("canvas").getContext}(),Pt=!!(document.createElementNS&&ys("svg").createSVGRect),Hn=!!Pt&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),pr=!Pt&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Ht=navigator.platform.indexOf("Mac")===0,qn=navigator.platform.indexOf("Linux")===0;function Gn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var ae={ie:Un,ielt9:Dr,edge:Bo,webkit:hr,android:Fo,android23:Wn,androidStock:rd,opera:_t,chrome:fr,gecko:El,safari:id,phantom:Oi,opera12:Cl,win:Pl,ie3d:_s,webkit3d:Zn,gecko3d:Uo,any3d:zr,mobile:Ri,mobileWebkit:sd,mobileWebkit3d:Tl,msPointer:Wo,pointer:Ll,touch:Vn,touchNative:ws,mobileOpera:od,mobileGecko:me,retina:Ne,passiveEvents:je,canvas:Vt,svg:Pt,vml:pr,inlineSvg:Hn,mac:Ht,linux:qn},_m=ae.msPointer?"MSPointerDown":"pointerdown",wm=ae.msPointer?"MSPointerMove":"pointermove",xm=ae.msPointer?"MSPointerUp":"pointerup",bm=ae.msPointer?"MSPointerCancel":"pointercancel",ad={touchstart:_m,touchmove:wm,touchend:xm,touchcancel:bm},km={touchstart:$b,touchmove:Ol,touchend:Ol,touchcancel:Ol},xs={},Sm=!1;function Mb(s,l,d){return l==="touchstart"&&zb(),km[l]?(d=km[l].bind(this,d),s.addEventListener(ad[l],d,!1),d):(console.warn("wrong event specified:",l),m)}function Ib(s,l,d){if(!ad[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(ad[l],d,!1)}function jb(s){xs[s.pointerId]=s}function Db(s){xs[s.pointerId]&&(xs[s.pointerId]=s)}function Em(s){delete xs[s.pointerId]}function zb(){Sm||(document.addEventListener(_m,jb,!0),document.addEventListener(wm,Db,!0),document.addEventListener(xm,Em,!0),document.addEventListener(bm,Em,!0),Sm=!0)}function Ol(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in xs)l.touches.push(xs[d]);l.changedTouches=[l],s(l)}}function $b(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ft(l),Ol(s,l)}function Bb(s){var l={},d,f;for(f in s)d=s[f],l[f]=d&&d.bind?d.bind(s):d;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Fb=200;function Ub(s,l){s.addEventListener("dblclick",l);var d=0,f;function y(S){if(S.detail!==1){f=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var O=Om(S);if(!(O.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})&&!O.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement}))){var N=Date.now();N-d<=Fb?(f++,f===2&&l(Bb(S))):f=1,d=N}}}return s.addEventListener("click",y),{dblclick:l,simDblclick:y}}function Wb(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var ld=Nl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zo=Nl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Cm=Zo==="webkitTransition"||Zo==="OTransition"?Zo+"End":"transitionend";function Pm(s){return typeof s=="string"?document.getElementById(s):s}function Vo(s,l){var d=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(s,null);d=f?f[l]:null}return d==="auto"?null:d}function Oe(s,l,d){var f=document.createElement(s);return f.className=l||"",d&&d.appendChild(f),f}function Ze(s){var l=s.parentNode;l&&l.removeChild(s)}function Rl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function bs(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function ks(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function ud(s,l){if(s.classList!==void 0)return s.classList.contains(l);var d=Al(s);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function ke(s,l){if(s.classList!==void 0)for(var d=w(l),f=0,y=d.length;f<y;f++)s.classList.add(d[f]);else if(!ud(s,l)){var S=Al(s);cd(s,(S?S+" ":"")+l)}}function Xe(s,l){s.classList!==void 0?s.classList.remove(l):cd(s,v((" "+Al(s)+" ").replace(" "+l+" "," ")))}function cd(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Al(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function un(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&Zb(s,l)}function Zb(s,l){var d=!1,f="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(f)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):s.style.filter+=" progid:"+f+"(opacity="+l+")"}function Nl(s){for(var l=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in l)return s[d];return!1}function Ai(s,l,d){var f=l||new M(0,0);s.style[ld]=(ae.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(d?" scale("+d+")":"")}function tt(s,l){s._leaflet_pos=l,ae.any3d?Ai(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function Ni(s){return s._leaflet_pos||new M(0,0)}var Ho,qo,dd;if("onselectstart"in document)Ho=function(){we(window,"selectstart",ft)},qo=function(){De(window,"selectstart",ft)};else{var Go=Nl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ho=function(){if(Go){var s=document.documentElement.style;dd=s[Go],s[Go]="none"}},qo=function(){Go&&(document.documentElement.style[Go]=dd,dd=void 0)}}function hd(){we(window,"dragstart",ft)}function fd(){De(window,"dragstart",ft)}var Ml,pd;function md(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Il(),Ml=s,pd=s.style.outlineStyle,s.style.outlineStyle="none",we(window,"keydown",Il))}function Il(){Ml&&(Ml.style.outlineStyle=pd,Ml=void 0,pd=void 0,De(window,"keydown",Il))}function Tm(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function gd(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Vb={__proto__:null,TRANSFORM:ld,TRANSITION:Zo,TRANSITION_END:Cm,get:Pm,getStyle:Vo,create:Oe,remove:Ze,empty:Rl,toFront:bs,toBack:ks,hasClass:ud,addClass:ke,removeClass:Xe,setClass:cd,getClass:Al,setOpacity:un,testProp:Nl,setTransform:Ai,setPosition:tt,getPosition:Ni,get disableTextSelection(){return Ho},get enableTextSelection(){return qo},disableImageDrag:hd,enableImageDrag:fd,preventOutline:md,restoreOutline:Il,getSizedParentNode:Tm,getScale:gd};function we(s,l,d,f){if(l&&typeof l=="object")for(var y in l)yd(s,y,l[y],d);else{l=w(l);for(var S=0,O=l.length;S<O;S++)yd(s,l[S],d,f)}return this}var Kn="_leaflet_events";function De(s,l,d,f){if(arguments.length===1)Lm(s),delete s[Kn];else if(l&&typeof l=="object")for(var y in l)_d(s,y,l[y],d);else if(l=w(l),arguments.length===2)Lm(s,function(N){return T(l,N)!==-1});else for(var S=0,O=l.length;S<O;S++)_d(s,l[S],d,f);return this}function Lm(s,l){for(var d in s[Kn]){var f=d.split(/\d/)[0];(!l||l(f))&&_d(s,f,null,null,d)}}var vd={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yd(s,l,d,f){var y=l+c(d)+(f?"_"+c(f):"");if(s[Kn]&&s[Kn][y])return this;var S=function(N){return d.call(f||s,N||window.event)},O=S;!ae.touchNative&&ae.pointer&&l.indexOf("touch")===0?S=Mb(s,l,S):ae.touch&&l==="dblclick"?S=Ub(s,S):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(vd[l]||l,S,ae.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(S=function(N){N=N||window.event,xd(s,N)&&O(N)},s.addEventListener(vd[l],S,!1)):s.addEventListener(l,O,!1):s.attachEvent("on"+l,S),s[Kn]=s[Kn]||{},s[Kn][y]=S}function _d(s,l,d,f,y){y=y||l+c(d)+(f?"_"+c(f):"");var S=s[Kn]&&s[Kn][y];if(!S)return this;!ae.touchNative&&ae.pointer&&l.indexOf("touch")===0?Ib(s,l,S):ae.touch&&l==="dblclick"?Wb(s,S):"removeEventListener"in s?s.removeEventListener(vd[l]||l,S,!1):s.detachEvent("on"+l,S),s[Kn][y]=null}function Mi(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function wd(s){return yd(s,"wheel",Mi),this}function Ko(s){return we(s,"mousedown touchstart dblclick contextmenu",Mi),s._leaflet_disable_click=!0,this}function ft(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ii(s){return ft(s),Mi(s),this}function Om(s){if(s.composedPath)return s.composedPath();for(var l=[],d=s.target;d;)l.push(d),d=d.parentNode;return l}function Rm(s,l){if(!l)return new M(s.clientX,s.clientY);var d=gd(l),f=d.boundingClientRect;return new M((s.clientX-f.left)/d.x-l.clientLeft,(s.clientY-f.top)/d.y-l.clientTop)}var Hb=ae.linux&&ae.chrome?window.devicePixelRatio:ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Am(s){return ae.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Hb:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function xd(s,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var qb={__proto__:null,on:we,off:De,stopPropagation:Mi,disableScrollPropagation:wd,disableClickPropagation:Ko,preventDefault:ft,stop:Ii,getPropagationPath:Om,getMousePosition:Rm,getWheelDelta:Am,isExternalTarget:xd,addListener:we,removeListener:De},Nm=le.extend({run:function(s,l,d,f){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Ni(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var d=this._startPos.add(this._offset.multiplyBy(s));l&&d._round(),tt(this._el,d),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Pe=le.extend({options:{crs:ln,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=_(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ue(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zo&&ae.any3d&&!ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),we(this._proxy,Cm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(ue(s),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=o({animate:d.animate},d.zoom),d.pan=o({animate:d.animate,duration:d.duration},d.pan));var f=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,d.zoom):this._tryAnimatedPan(s,d.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,d){var f=this.getZoomScale(l),y=this.getSize().divideBy(2),S=s instanceof M?s:this.latLngToContainerPoint(s),O=S.subtract(y).multiplyBy(1-1/f),N=this.containerPointToLatLng(y.add(O));return this.setView(N,l,{zoom:d})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():se(s);var d=z(l.paddingTopLeft||l.padding||[0,0]),f=z(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(s,!1,d.add(f));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:s.getCenter(),zoom:y};var S=f.subtract(d).divideBy(2),O=this.project(s.getSouthWest(),y),N=this.project(s.getNorthEast(),y),D=this.unproject(O.add(N).divideBy(2).add(S),y);return{center:D,zoom:y}},fitBounds:function(s,l){if(s=se(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=z(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Nm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ke(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,d){if(d=d||{},d.animate===!1||!ae.any3d)return this.setView(s,l,d);this._stop();var f=this.project(this.getCenter()),y=this.project(s),S=this.getSize(),O=this._zoom;s=ue(s),l=l===void 0?O:l;var N=Math.max(S.x,S.y),D=N*this.getZoomScale(O,l),W=y.distanceTo(f)||1,J=1.42,pe=J*J;function Se(nt){var ql=nt?-1:1,I1=nt?D:N,j1=D*D-N*N+ql*pe*pe*W*W,D1=2*I1*pe*W,Ad=j1/D1,fg=Math.sqrt(Ad*Ad+1)-Ad,z1=fg<1e-9?-18:Math.log(fg);return z1}function Tt(nt){return(Math.exp(nt)-Math.exp(-nt))/2}function ct(nt){return(Math.exp(nt)+Math.exp(-nt))/2}function dn(nt){return Tt(nt)/ct(nt)}var Dt=Se(0);function Ls(nt){return N*(ct(Dt)/ct(Dt+J*nt))}function R1(nt){return N*(ct(Dt)*dn(Dt+J*nt)-Tt(Dt))/pe}function A1(nt){return 1-Math.pow(1-nt,1.5)}var N1=Date.now(),dg=(Se(1)-Dt)/J,M1=d.duration?1e3*d.duration:1e3*dg*.8;function hg(){var nt=(Date.now()-N1)/M1,ql=A1(nt)*dg;nt<=1?(this._flyToFrame=K(hg,this),this._move(this.unproject(f.add(y.subtract(f).multiplyBy(R1(ql)/W)),O),this.getScaleZoom(N/Ls(ql),O),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),hg.call(this),this},flyToBounds:function(s,l){var d=this._getBoundsCenterZoom(s,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(s){return s=se(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var d=this.getCenter(),f=this._limitCenter(d,this._zoom,se(s));return d.equals(f)||this.panTo(f,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var d=z(l.paddingTopLeft||l.padding||[0,0]),f=z(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),S=this.project(s),O=this.getPixelBounds(),N=Q([O.min.add(d),O.max.subtract(f)]),D=N.getSize();if(!N.contains(S)){this._enforcingBounds=!0;var W=S.subtract(N.getCenter()),J=N.extend(S).getSize().subtract(D);y.x+=W.x<0?-J.x:J.x,y.y+=W.y<0?-J.y:J.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=o({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),f=l.divideBy(2).round(),y=d.divideBy(2).round(),S=f.subtract(y);return!S.x&&!S.y?this:(s.animate&&s.pan?this.panBy(S):(s.pan&&this._rawPanBy(S),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=o({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),d=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,s):navigator.geolocation.getCurrentPosition(l,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,d=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,d=s.coords.longitude,f=new fe(l,d),y=f.toBounds(s.coords.accuracy*2),S=this._locateOptions;if(S.setView){var O=this.getBoundsZoom(y);this.setView(f,S.maxZoom?Math.min(O,S.maxZoom):O)}var N={latlng:f,bounds:y,timestamp:s.timestamp};for(var D in s.coords)typeof s.coords[D]=="number"&&(N[D]=s.coords[D]);this.fire("locationfound",N)}},addHandler:function(s,l){if(!l)return this;var d=this[s]=new l(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Ze(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),f=Oe("div",d,l||this._mapPane);return s&&(this._panes[s]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new oe(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,d){s=se(s),d=z(d||[0,0]);var f=this.getZoom()||0,y=this.getMinZoom(),S=this.getMaxZoom(),O=s.getNorthWest(),N=s.getSouthEast(),D=this.getSize().subtract(d),W=Q(this.project(N,f),this.project(O,f)).getSize(),J=ae.any3d?this.options.zoomSnap:1,pe=D.x/W.x,Se=D.y/W.y,Tt=l?Math.max(pe,Se):Math.min(pe,Se);return f=this.getScaleZoom(Tt,f),J&&(f=Math.round(f/(J/100))*(J/100),f=l?Math.ceil(f/J)*J:Math.floor(f/J)*J),Math.max(y,Math.min(S,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var d=this._getTopLeftPoint(s,l);return new Y(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(s)/d.scale(l)},getScaleZoom:function(s,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var f=d.zoom(s*d.scale(l));return isNaN(f)?1/0:f},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ue(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(z(s),l)},layerPointToLatLng:function(s){var l=z(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(ue(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ue(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(se(s))},distance:function(s,l){return this.options.crs.distance(ue(s),ue(l))},containerPointToLayerPoint:function(s){return z(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return z(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(z(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(s)))},mouseEventToContainerPoint:function(s){return Rm(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=Pm(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");we(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&ae.any3d,ke(s,"leaflet-container"+(ae.touch?" leaflet-touch":"")+(ae.retina?" leaflet-retina":"")+(ae.ielt9?" leaflet-oldie":"")+(ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Vo(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),tt(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ke(s.markerPane,"leaflet-zoom-hide"),ke(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,d){tt(this._mapPane,new M(0,0));var f=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,d)._move(s,l)._moveEnd(y),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,d,f){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),f?d&&d.pinch&&this.fire("zoom",d):((y||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){tt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[c(this._container)]=this;var l=s?De:we;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ae.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var d=[],f,y=l==="mouseout"||l==="mouseover",S=s.target||s.srcElement,O=!1;S;){if(f=this._targets[c(S)],f&&(l==="click"||l==="preclick")&&this._draggableMoved(f)){O=!0;break}if(f&&f.listens(l,!0)&&(y&&!xd(S,s)||(d.push(f),y))||S===this._container)break;S=S.parentNode}return!d.length&&!O&&!y&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var d=s.type;d==="mousedown"&&md(l),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,d){if(s.type==="click"){var f=o({},s);f.type="preclick",this._fireDOMEvent(f,f.type,d)}var y=this._findEventTargets(s,l);if(d){for(var S=[],O=0;O<d.length;O++)d[O].listens(l,!0)&&S.push(d[O]);y=S.concat(y)}if(y.length){l==="contextmenu"&&ft(s);var N=y[0],D={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var W=N.getLatLng&&(!N._radius||N._radius<=10);D.containerPoint=W?this.latLngToContainerPoint(N.getLatLng()):this.mouseEventToContainerPoint(s),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=W?N.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(O=0;O<y.length;O++)if(y[O].fire(l,D,!0),D.originalEvent._stopped||y[O].options.bubblingMouseEvents===!1&&T(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return Ni(this._mapPane)||new M(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var d=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var d=this.getSize()._divideBy(2);return this.project(s,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,d){var f=this._getNewPixelOrigin(d,l);return this.project(s,l)._subtract(f)},_latLngBoundsToNewLayerBounds:function(s,l,d){var f=this._getNewPixelOrigin(d,l);return Q([this.project(s.getSouthWest(),l)._subtract(f),this.project(s.getNorthWest(),l)._subtract(f),this.project(s.getSouthEast(),l)._subtract(f),this.project(s.getNorthEast(),l)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,d){if(!d)return s;var f=this.project(s,l),y=this.getSize().divideBy(2),S=new Y(f.subtract(y),f.add(y)),O=this._getBoundsOffset(S,d,l);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?s:this.unproject(f.add(O),l)},_limitOffset:function(s,l){if(!l)return s;var d=this.getPixelBounds(),f=new Y(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(f,l))},_getBoundsOffset:function(s,l,d){var f=Q(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),y=f.min.subtract(s.min),S=f.max.subtract(s.max),O=this._rebound(y.x,-S.x),N=this._rebound(y.y,-S.y);return new M(O,N)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),d=this.getMaxZoom(),f=ae.any3d?this.options.zoomSnap:1;return f&&(s=Math.round(s/f)*f),Math.max(l,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var d=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var s=this._proxy=Oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var d=ld,f=this._proxy.style[d];Ai(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),f===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Ai(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(l),y=this._getCenterOffset(s)._divideBy(1-1/f);return d.animate!==!0&&!this.getSize().contains(y)?!1:(K(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,d,f){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gb(s,l){return new Pe(s,l)}var bn=V.extend({options:{position:"topright"},initialize:function(s){_(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),d=this.getPosition(),f=s._controlCorners[d];return ke(l,"leaflet-control"),d.indexOf("bottom")!==-1?f.insertBefore(l,f.firstChild):f.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Yo=function(s){return new bn(s)};Pe.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",d=this._controlContainer=Oe("div",l+"control-container",this._container);function f(y,S){var O=l+y+" "+l+S;s[y+S]=Oe("div",O,d)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Ze(this._controlCorners[s]);Ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mm=bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,d,f){return d<f?-1:f<d?1:0}},initialize:function(s,l,d){_(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in s)this._addLayer(s[f],f);for(f in l)this._addLayer(l[f],f,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return bn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ke(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ke(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Oe("div",s),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ko(l),wd(l);var f=this._section=Oe("section",s+"-list");d&&(this._map.on("click",this.collapse,this),we(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Oe("a",s+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),we(y,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){ft(S),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Oe("div",s+"-base",f),this._separator=Oe("div",s+"-separator",f),this._overlaysList=Oe("div",s+"-overlays",f),l.appendChild(f)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(a(function(f,y){return this.options.sortFunction(f.layer,y.layer,f.name,y.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Rl(this._baseLayersList),Rl(this._overlaysList),this._layerControlInputs=[];var s,l,d,f,y=0;for(d=0;d<this._layers.length;d++)f=this._layers[d],this._addItem(f),l=l||f.overlay,s=s||!f.overlay,y+=f.overlay?0:1;return this.options.hideSingleBase&&(s=s&&y>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(c(s.target)),d=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(s,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=d,f.firstChild},_addItem:function(s){var l=document.createElement("label"),d=this._map.hasLayer(s.layer),f;s.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=d):f=this._createRadioElement("leaflet-base-layers_"+c(this),d),this._layerControlInputs.push(f),f.layerId=c(s.layer),we(f,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+s.name;var S=document.createElement("span");l.appendChild(S),S.appendChild(f),S.appendChild(y);var O=s.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,d,f=[],y=[];this._handlingClick=!0;for(var S=s.length-1;S>=0;S--)l=s[S],d=this._getLayer(l.layerId).layer,l.checked?f.push(d):l.checked||y.push(d);for(S=0;S<y.length;S++)this._map.hasLayer(y[S])&&this._map.removeLayer(y[S]);for(S=0;S<f.length;S++)this._map.hasLayer(f[S])||this._map.addLayer(f[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,d,f=this._map.getZoom(),y=s.length-1;y>=0;y--)l=s[y],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&f<d.options.minZoom||d.options.maxZoom!==void 0&&f>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,we(s,"click",ft),this.expand();var l=this;setTimeout(function(){De(s,"click",ft),l._preventClick=!1})}}),Kb=function(s,l,d){return new Mm(s,l,d)},bd=bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",d=Oe("div",l+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,d,f,y){var S=Oe("a",d,f);return S.innerHTML=s,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),Ko(S),we(S,"click",Ii),we(S,"click",y,this),we(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";Xe(this._zoomInButton,l),Xe(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ke(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ke(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Pe.mergeOptions({zoomControl:!0}),Pe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bd,this.addControl(this.zoomControl))});var Yb=function(s){return new bd(s)},Im=bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",d=Oe("div",l),f=this.options;return this._addScales(f,l+"-line",d),s.on(f.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,d){s.metric&&(this._mScale=Oe("div",l,d)),s.imperial&&(this._iScale=Oe("div",l,d))},_update:function(){var s=this._map,l=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/s)},_updateImperial:function(s){var l=s*3.2808399,d,f,y;l>5280?(d=l/5280,f=this._getRoundNum(d),this._updateScale(this._iScale,f+" mi",f/d)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(s,l,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),d=s/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),Qb=function(s){return new Im(s)},Jb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',kd=bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ae.inlineSvg?Jb+" ":"")+"Leaflet</a>"},initialize:function(s){_(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Oe("div","leaflet-control-attribution"),Ko(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Pe.mergeOptions({attributionControl:!0}),Pe.addInitHook(function(){this.options.attributionControl&&new kd().addTo(this)});var Xb=function(s){return new kd(s)};bn.Layers=Mm,bn.Zoom=bd,bn.Scale=Im,bn.Attribution=kd,Yo.layers=Kb,Yo.zoom=Yb,Yo.scale=Qb,Yo.attribution=Xb;var Yn=V.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yn.addTo=function(s,l){return s.addHandler(l,this),this};var e1={Events:te},jm=ae.touch?"touchstart mousedown":"mousedown",$r=le.extend({options:{clickTolerance:3},initialize:function(s,l,d,f){_(this,f),this._element=s,this._dragStartTarget=l||s,this._preventOutline=d},enable:function(){this._enabled||(we(this._dragStartTarget,jm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($r._dragging===this&&this.finishDrag(!0),De(this._dragStartTarget,jm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!ud(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){$r._dragging===this&&this.finishDrag();return}if(!($r._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&($r._dragging=this,this._preventOutline&&md(this._element),hd(),Ho(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,d=Tm(this._element);this._startPoint=new M(l.clientX,l.clientY),this._startPos=Ni(this._element),this._parentScale=gd(d);var f=s.type==="mousedown";we(document,f?"mousemove":"touchmove",this._onMove,this),we(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,d=new M(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,ft(s),this._moved||(this.fire("dragstart"),this._moved=!0,ke(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),tt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Xe(document.body,"leaflet-dragging"),this._lastTarget&&(Xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),De(document,"mousemove touchmove",this._onMove,this),De(document,"mouseup touchend touchcancel",this._onUp,this),fd(),qo();var l=this._moved&&this._moving;this._moving=!1,$r._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Dm(s,l,d){var f,y=[1,4,2,8],S,O,N,D,W,J,pe,Se;for(S=0,J=s.length;S<J;S++)s[S]._code=ji(s[S],l);for(N=0;N<4;N++){for(pe=y[N],f=[],S=0,J=s.length,O=J-1;S<J;O=S++)D=s[S],W=s[O],D._code&pe?W._code&pe||(Se=jl(W,D,pe,l,d),Se._code=ji(Se,l),f.push(Se)):(W._code&pe&&(Se=jl(W,D,pe,l,d),Se._code=ji(Se,l),f.push(Se)),f.push(D));s=f}return s}function zm(s,l){var d,f,y,S,O,N,D,W,J;if(!s||s.length===0)throw new Error("latlngs not passed");cn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var pe=ue([0,0]),Se=se(s),Tt=Se.getNorthWest().distanceTo(Se.getSouthWest())*Se.getNorthEast().distanceTo(Se.getNorthWest());Tt<1700&&(pe=Sd(s));var ct=s.length,dn=[];for(d=0;d<ct;d++){var Dt=ue(s[d]);dn.push(l.project(ue([Dt.lat-pe.lat,Dt.lng-pe.lng])))}for(N=D=W=0,d=0,f=ct-1;d<ct;f=d++)y=dn[d],S=dn[f],O=y.y*S.x-S.y*y.x,D+=(y.x+S.x)*O,W+=(y.y+S.y)*O,N+=O*3;N===0?J=dn[0]:J=[D/N,W/N];var Ls=l.unproject(z(J));return ue([Ls.lat+pe.lat,Ls.lng+pe.lng])}function Sd(s){for(var l=0,d=0,f=0,y=0;y<s.length;y++){var S=ue(s[y]);l+=S.lat,d+=S.lng,f++}return ue([l/f,d/f])}var t1={__proto__:null,clipPolygon:Dm,polygonCenter:zm,centroid:Sd};function $m(s,l){if(!l||!s.length)return s.slice();var d=l*l;return s=i1(s,d),s=r1(s,d),s}function Bm(s,l,d){return Math.sqrt(Qo(s,l,d,!0))}function n1(s,l,d){return Qo(s,l,d)}function r1(s,l){var d=s.length,f=typeof Uint8Array<"u"?Uint8Array:Array,y=new f(d);y[0]=y[d-1]=1,Ed(s,y,l,0,d-1);var S,O=[];for(S=0;S<d;S++)y[S]&&O.push(s[S]);return O}function Ed(s,l,d,f,y){var S=0,O,N,D;for(N=f+1;N<=y-1;N++)D=Qo(s[N],s[f],s[y],!0),D>S&&(O=N,S=D);S>d&&(l[O]=1,Ed(s,l,d,f,O),Ed(s,l,d,O,y))}function i1(s,l){for(var d=[s[0]],f=1,y=0,S=s.length;f<S;f++)s1(s[f],s[y])>l&&(d.push(s[f]),y=f);return y<S-1&&d.push(s[S-1]),d}var Fm;function Um(s,l,d,f,y){var S=f?Fm:ji(s,d),O=ji(l,d),N,D,W;for(Fm=O;;){if(!(S|O))return[s,l];if(S&O)return!1;N=S||O,D=jl(s,l,N,d,y),W=ji(D,d),N===S?(s=D,S=W):(l=D,O=W)}}function jl(s,l,d,f,y){var S=l.x-s.x,O=l.y-s.y,N=f.min,D=f.max,W,J;return d&8?(W=s.x+S*(D.y-s.y)/O,J=D.y):d&4?(W=s.x+S*(N.y-s.y)/O,J=N.y):d&2?(W=D.x,J=s.y+O*(D.x-s.x)/S):d&1&&(W=N.x,J=s.y+O*(N.x-s.x)/S),new M(W,J,y)}function ji(s,l){var d=0;return s.x<l.min.x?d|=1:s.x>l.max.x&&(d|=2),s.y<l.min.y?d|=4:s.y>l.max.y&&(d|=8),d}function s1(s,l){var d=l.x-s.x,f=l.y-s.y;return d*d+f*f}function Qo(s,l,d,f){var y=l.x,S=l.y,O=d.x-y,N=d.y-S,D=O*O+N*N,W;return D>0&&(W=((s.x-y)*O+(s.y-S)*N)/D,W>1?(y=d.x,S=d.y):W>0&&(y+=O*W,S+=N*W)),O=s.x-y,N=s.y-S,f?O*O+N*N:new M(y,S)}function cn(s){return!k(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Wm(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),cn(s)}function Zm(s,l){var d,f,y,S,O,N,D,W;if(!s||s.length===0)throw new Error("latlngs not passed");cn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var J=ue([0,0]),pe=se(s),Se=pe.getNorthWest().distanceTo(pe.getSouthWest())*pe.getNorthEast().distanceTo(pe.getNorthWest());Se<1700&&(J=Sd(s));var Tt=s.length,ct=[];for(d=0;d<Tt;d++){var dn=ue(s[d]);ct.push(l.project(ue([dn.lat-J.lat,dn.lng-J.lng])))}for(d=0,f=0;d<Tt-1;d++)f+=ct[d].distanceTo(ct[d+1])/2;if(f===0)W=ct[0];else for(d=0,S=0;d<Tt-1;d++)if(O=ct[d],N=ct[d+1],y=O.distanceTo(N),S+=y,S>f){D=(S-f)/y,W=[N.x-D*(N.x-O.x),N.y-D*(N.y-O.y)];break}var Dt=l.unproject(z(W));return ue([Dt.lat+J.lat,Dt.lng+J.lng])}var o1={__proto__:null,simplify:$m,pointToSegmentDistance:Bm,closestPointOnSegment:n1,clipSegment:Um,_getEdgeIntersection:jl,_getBitCode:ji,_sqClosestPointOnSegment:Qo,isFlat:cn,_flat:Wm,polylineCenter:Zm},Cd={project:function(s){return new M(s.lng,s.lat)},unproject:function(s){return new fe(s.y,s.x)},bounds:new Y([-180,-90],[180,90])},Pd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,d=this.R,f=s.lat*l,y=this.R_MINOR/d,S=Math.sqrt(1-y*y),O=S*Math.sin(f),N=Math.tan(Math.PI/4-f/2)/Math.pow((1-O)/(1+O),S/2);return f=-d*Math.log(Math.max(N,1e-10)),new M(s.lng*l*d,f)},unproject:function(s){for(var l=180/Math.PI,d=this.R,f=this.R_MINOR/d,y=Math.sqrt(1-f*f),S=Math.exp(-s.y/d),O=Math.PI/2-2*Math.atan(S),N=0,D=.1,W;N<15&&Math.abs(D)>1e-7;N++)W=y*Math.sin(O),W=Math.pow((1-W)/(1+W),y/2),D=Math.PI/2-2*Math.atan(S*W)-O,O+=D;return new fe(O*l,s.x*l/d)}},a1={__proto__:null,LonLat:Cd,Mercator:Pd,SphericalMercator:xn},l1=o({},Ct,{code:"EPSG:3395",projection:Pd,transformation:function(){var s=.5/(Math.PI*Pd.R);return an(s,.5,-s,.5)}()}),Vm=o({},Ct,{code:"EPSG:4326",projection:Cd,transformation:an(1/180,1,-1/180,.5)}),u1=o({},be,{projection:Cd,transformation:an(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var d=l.lng-s.lng,f=l.lat-s.lat;return Math.sqrt(d*d+f*f)},infinite:!0});be.Earth=Ct,be.EPSG3395=l1,be.EPSG3857=ln,be.EPSG900913=vs,be.EPSG4326=Vm,be.Simple=u1;var kn=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[c(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[c(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Pe.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=c(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return c(s)in this._layers},eachLayer:function(s,l){for(var d in this._layers)s.call(l,this._layers[d]);return this},_addLayers:function(s){s=s?k(s)?s:[s]:[];for(var l=0,d=s.length;l<d;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[c(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=c(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,d=this._getZoomSpan();for(var f in this._zoomBoundLayers){var y=this._zoomBoundLayers[f].options;s=y.minZoom===void 0?s:Math.min(s,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ss=kn.extend({initialize:function(s,l){_(this,l),this._layers={};var d,f;if(s)for(d=0,f=s.length;d<f;d++)this.addLayer(s[d])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),d,f;for(d in this._layers)f=this._layers[d],f[s]&&f[s].apply(f,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var d in this._layers)s.call(l,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return c(s)}}),c1=function(s,l){return new Ss(s,l)},mr=Ss.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ss.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ss.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new oe;for(var l in this._layers){var d=this._layers[l];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),d1=function(s,l){return new mr(s,l)},Es=V.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){_(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(f,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(s,l){var d=this.options,f=d[l+"Size"];typeof f=="number"&&(f=[f,f]);var y=z(f),S=z(l==="shadow"&&d.shadowAnchor||d.iconAnchor||y&&y.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(d.className||""),S&&(s.style.marginLeft=-S.x+"px",s.style.marginTop=-S.y+"px"),y&&(s.style.width=y.x+"px",s.style.height=y.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return ae.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function h1(s){return new Es(s)}var Jo=Es.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Jo.imagePath!="string"&&(Jo.imagePath=this._detectIconPath()),(this.options.imagePath||Jo.imagePath)+Es.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(d,f,y){var S=f.exec(d);return S&&S[y]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Oe("div","leaflet-default-icon-path",document.body),l=Vo(s,"background-image")||Vo(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Hm=Yn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new $r(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ke(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,d=l._map,f=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,S=Ni(l._icon),O=d.getPixelBounds(),N=d.getPixelOrigin(),D=Q(O.min._subtract(N).add(y),O.max._subtract(N).subtract(y));if(!D.contains(S)){var W=z((Math.max(D.max.x,S.x)-D.max.x)/(O.max.x-D.max.x)-(Math.min(D.min.x,S.x)-D.min.x)/(O.min.x-D.min.x),(Math.max(D.max.y,S.y)-D.max.y)/(O.max.y-D.max.y)-(Math.min(D.min.y,S.y)-D.min.y)/(O.min.y-D.min.y)).multiplyBy(f);d.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),tt(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=K(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,d=l._shadow,f=Ni(l._icon),y=l._map.layerPointToLatLng(f);d&&tt(d,f),l._latlng=y,s.latlng=y,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Dl=kn.extend({options:{icon:new Jo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){_(this,l),this._latlng=ue(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=ue(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),f=!1;d!==this._icon&&(this._icon&&this._removeIcon(),f=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),ke(d,l),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&we(d,"focus",this._panOnFocus,this);var y=s.icon.createShadow(this._shadow),S=!1;y!==this._shadow&&(this._removeShadow(),S=!0),y&&(ke(y,l),y.alt=""),this._shadow=y,s.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&S&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(this._icon,"focus",this._panOnFocus,this),Ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ze(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&tt(this._icon,s),this._shadow&&tt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hm)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hm(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&un(this._icon,s),this._shadow&&un(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,d=l.iconSize?z(l.iconSize):z(0,0),f=l.iconAnchor?z(l.iconAnchor):z(0,0);s.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:d.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function f1(s,l){return new Dl(s,l)}var Br=kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return _(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zl=Br.extend({options:{fill:!0,radius:10},initialize:function(s,l){_(this,l),this._latlng=ue(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=ue(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Br.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,d=this._clickTolerance(),f=[s+d,l+d];this._pxBounds=new Y(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function p1(s,l){return new zl(s,l)}var Td=zl.extend({initialize:function(s,l,d){if(typeof l=="number"&&(l=o({},d,{radius:l})),_(this,l),this._latlng=ue(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new oe(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Br.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,d=this._map,f=d.options.crs;if(f.distance===Ct.distance){var y=Math.PI/180,S=this._mRadius/Ct.R/y,O=d.project([l+S,s]),N=d.project([l-S,s]),D=O.add(N).divideBy(2),W=d.unproject(D).lat,J=Math.acos((Math.cos(S*y)-Math.sin(l*y)*Math.sin(W*y))/(Math.cos(l*y)*Math.cos(W*y)))/y;(isNaN(J)||J===0)&&(J=S/Math.cos(Math.PI/180*l)),this._point=D.subtract(d.getPixelOrigin()),this._radius=isNaN(J)?0:D.x-d.project([W,s-J]).x,this._radiusY=D.y-O.y}else{var pe=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(pe).x}this._updateBounds()}});function m1(s,l,d){return new Td(s,l,d)}var gr=Br.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){_(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,d=null,f=Qo,y,S,O=0,N=this._parts.length;O<N;O++)for(var D=this._parts[O],W=1,J=D.length;W<J;W++){y=D[W-1],S=D[W];var pe=f(s,y,S,!0);pe<l&&(l=pe,d=f(s,y,S))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zm(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=ue(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new oe,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return cn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],d=cn(s),f=0,y=s.length;f<y;f++)d?(l[f]=ue(s[f]),this._bounds.extend(l[f])):l[f]=this._convertLatLngs(s[f]);return l},_project:function(){var s=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new M(s,s);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,d){var f=s[0]instanceof fe,y=s.length,S,O;if(f){for(O=[],S=0;S<y;S++)O[S]=this._map.latLngToLayerPoint(s[S]),d.extend(O[S]);l.push(O)}else for(S=0;S<y;S++)this._projectLatlngs(s[S],l,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,f,y,S,O,N,D;for(d=0,y=0,S=this._rings.length;d<S;d++)for(D=this._rings[d],f=0,O=D.length;f<O-1;f++)N=Um(D[f],D[f+1],s,f,!0),N&&(l[y]=l[y]||[],l[y].push(N[0]),(N[1]!==D[f+1]||f===O-2)&&(l[y].push(N[1]),y++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,d=0,f=s.length;d<f;d++)s[d]=$m(s[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var d,f,y,S,O,N,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,S=this._parts.length;d<S;d++)for(N=this._parts[d],f=0,O=N.length,y=O-1;f<O;y=f++)if(!(!l&&f===0)&&Bm(s,N[y],N[f])<=D)return!0;return!1}});function g1(s,l){return new gr(s,l)}gr._flat=Wm;var Cs=gr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zm(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=gr.prototype._convertLatLngs.call(this,s),d=l.length;return d>=2&&l[0]instanceof fe&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(s){gr.prototype._setLatLngs.call(this,s),cn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return cn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,d=new M(l,l);if(s=new Y(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,y=this._rings.length,S;f<y;f++)S=Dm(this._rings[f],s,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,d,f,y,S,O,N,D,W;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(S=0,D=this._parts.length;S<D;S++)for(d=this._parts[S],O=0,W=d.length,N=W-1;O<W;N=O++)f=d[O],y=d[N],f.y>s.y!=y.y>s.y&&s.x<(y.x-f.x)*(s.y-f.y)/(y.y-f.y)+f.x&&(l=!l);return l||gr.prototype._containsPoint.call(this,s,!0)}});function v1(s,l){return new Cs(s,l)}var vr=mr.extend({initialize:function(s,l){_(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=k(s)?s:s.features,d,f,y;if(l){for(d=0,f=l.length;d<f;d++)y=l[d],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var S=this.options;if(S.filter&&!S.filter(s))return this;var O=$l(s,S);return O?(O.feature=Ul(s),O.defaultOptions=O.options,this.resetStyle(O),S.onEachFeature&&S.onEachFeature(s,O),this.addLayer(O)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=o({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function $l(s,l){var d=s.type==="Feature"?s.geometry:s,f=d?d.coordinates:null,y=[],S=l&&l.pointToLayer,O=l&&l.coordsToLatLng||Ld,N,D,W,J;if(!f&&!d)return null;switch(d.type){case"Point":return N=O(f),qm(S,s,N,l);case"MultiPoint":for(W=0,J=f.length;W<J;W++)N=O(f[W]),y.push(qm(S,s,N,l));return new mr(y);case"LineString":case"MultiLineString":return D=Bl(f,d.type==="LineString"?0:1,O),new gr(D,l);case"Polygon":case"MultiPolygon":return D=Bl(f,d.type==="Polygon"?1:2,O),new Cs(D,l);case"GeometryCollection":for(W=0,J=d.geometries.length;W<J;W++){var pe=$l({geometry:d.geometries[W],type:"Feature",properties:s.properties},l);pe&&y.push(pe)}return new mr(y);case"FeatureCollection":for(W=0,J=d.features.length;W<J;W++){var Se=$l(d.features[W],l);Se&&y.push(Se)}return new mr(y);default:throw new Error("Invalid GeoJSON object.")}}function qm(s,l,d,f){return s?s(l,d):new Dl(d,f&&f.markersInheritOptions&&f)}function Ld(s){return new fe(s[1],s[0],s[2])}function Bl(s,l,d){for(var f=[],y=0,S=s.length,O;y<S;y++)O=l?Bl(s[y],l-1,d):(d||Ld)(s[y]),f.push(O);return f}function Od(s,l){return s=ue(s),s.alt!==void 0?[g(s.lng,l),g(s.lat,l),g(s.alt,l)]:[g(s.lng,l),g(s.lat,l)]}function Fl(s,l,d,f){for(var y=[],S=0,O=s.length;S<O;S++)y.push(l?Fl(s[S],cn(s[S])?0:l-1,d,f):Od(s[S],f));return!l&&d&&y.length>0&&y.push(y[0].slice()),y}function Ps(s,l){return s.feature?o({},s.feature,{geometry:l}):Ul(l)}function Ul(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Rd={toGeoJSON:function(s){return Ps(this,{type:"Point",coordinates:Od(this.getLatLng(),s)})}};Dl.include(Rd),Td.include(Rd),zl.include(Rd),gr.include({toGeoJSON:function(s){var l=!cn(this._latlngs),d=Fl(this._latlngs,l?1:0,!1,s);return Ps(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),Cs.include({toGeoJSON:function(s){var l=!cn(this._latlngs),d=l&&!cn(this._latlngs[0]),f=Fl(this._latlngs,d?2:l?1:0,!0,s);return l||(f=[f]),Ps(this,{type:(d?"Multi":"")+"Polygon",coordinates:f})}}),Ss.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(s).geometry.coordinates)}),Ps(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var d=l==="GeometryCollection",f=[];return this.eachLayer(function(y){if(y.toGeoJSON){var S=y.toGeoJSON(s);if(d)f.push(S.geometry);else{var O=Ul(S);O.type==="FeatureCollection"?f.push.apply(f,O.features):f.push(O)}}}),d?Ps(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Gm(s,l){return new vr(s,l)}var y1=Gm,Wl=kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,d){this._url=s,this._bounds=se(l),_(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&bs(this._image),this},bringToBack:function(){return this._map&&ks(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=se(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Oe("img");if(ke(l,"leaflet-image-layer"),this._zoomAnimated&&ke(l,"leaflet-zoom-animated"),this.options.className&&ke(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ai(this._image,d,l)},_reset:function(){var s=this._image,l=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();tt(s,l.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){un(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),_1=function(s,l,d){return new Wl(s,l,d)},Km=Wl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Oe("video");if(ke(l,"leaflet-image-layer"),this._zoomAnimated&&ke(l,"leaflet-zoom-animated"),this.options.className&&ke(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),s){for(var d=l.getElementsByTagName("source"),f=[],y=0;y<d.length;y++)f.push(d[y].src);this._url=d.length>0?f:[l.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var O=Oe("source");O.src=this._url[S],l.appendChild(O)}}});function w1(s,l,d){return new Km(s,l,d)}var Ym=Wl.extend({_initImage:function(){var s=this._image=this._url;ke(s,"leaflet-image-layer"),this._zoomAnimated&&ke(s,"leaflet-zoom-animated"),this.options.className&&ke(s,this.options.className),s.onselectstart=m,s.onmousemove=m}});function x1(s,l,d){return new Ym(s,l,d)}var Qn=kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof fe||k(s))?(this._latlng=ue(s),_(this,l)):(_(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&un(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&un(this._container,1),this.bringToFront(),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(un(this._container,0),this._removeTimeout=setTimeout(a(Ze,void 0,this._container),200)):Ze(this._container),this.options.interactive&&(Xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ue(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bs(this._container),this},bringToBack:function(){return this._map&&ks(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof mr){l=null;var d=this._source._layers;for(var f in d)if(d[f]._map){l=d[f];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=z(this.options.offset),d=this._getAnchor();this._zoomAnimated?tt(this._container,s.add(d)):l=l.add(s).add(d);var f=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=f+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Pe.include({_initOverlay:function(s,l,d,f){var y=l;return y instanceof s||(y=new s(f).setContent(l)),d&&y.setLatLng(d),y}}),kn.include({_initOverlay:function(s,l,d,f){var y=d;return y instanceof s?(_(y,f),y._source=this):(y=l&&!f?l:new s(f,this),y.setContent(d)),y}});var Zl=Qn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Qn.prototype.openOn.call(this,s)},onAdd:function(s){Qn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Br||this._source.on("preclick",Mi))},onRemove:function(s){Qn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Br||this._source.off("preclick",Mi))},getEvents:function(){var s=Qn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Oe("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Oe("div",s+"-content-wrapper",l);if(this._contentNode=Oe("div",s+"-content",d),Ko(l),wd(this._contentNode),we(l,"contextmenu",Mi),this._tipContainer=Oe("div",s+"-tip-container",l),this._tip=Oe("div",s+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Oe("a",s+"-close-button",l);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',we(f,"click",function(y){ft(y),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var f=s.offsetHeight,y=this.options.maxHeight,S="leaflet-popup-scrolled";y&&f>y?(l.height=y+"px",ke(s,S)):Xe(s,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();tt(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Vo(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,f=this._containerWidth,y=new M(this._containerLeft,-d-this._containerBottom);y._add(Ni(this._container));var S=s.layerPointToContainerPoint(y),O=z(this.options.autoPanPadding),N=z(this.options.autoPanPaddingTopLeft||O),D=z(this.options.autoPanPaddingBottomRight||O),W=s.getSize(),J=0,pe=0;S.x+f+D.x>W.x&&(J=S.x+f-W.x+D.x),S.x-J-N.x<0&&(J=S.x-N.x),S.y+d+D.y>W.y&&(pe=S.y+d-W.y+D.y),S.y-pe-N.y<0&&(pe=S.y-N.y),(J||pe)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([J,pe]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),b1=function(s,l){return new Zl(s,l)};Pe.mergeOptions({closePopupOnClick:!0}),Pe.include({openPopup:function(s,l,d){return this._initOverlay(Zl,s,l,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),kn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Zl,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof mr||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Ii(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Br)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Vl=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Qn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Qn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Qn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Oe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,d,f=this._map,y=this._container,S=f.latLngToContainerPoint(f.getCenter()),O=f.layerPointToContainerPoint(s),N=this.options.direction,D=y.offsetWidth,W=y.offsetHeight,J=z(this.options.offset),pe=this._getAnchor();N==="top"?(l=D/2,d=W):N==="bottom"?(l=D/2,d=0):N==="center"?(l=D/2,d=W/2):N==="right"?(l=0,d=W/2):N==="left"?(l=D,d=W/2):O.x<S.x?(N="right",l=0,d=W/2):(N="left",l=D+(J.x+pe.x)*2,d=W/2),s=s.subtract(z(l,d,!0)).add(J).add(pe),Xe(y,"leaflet-tooltip-right"),Xe(y,"leaflet-tooltip-left"),Xe(y,"leaflet-tooltip-top"),Xe(y,"leaflet-tooltip-bottom"),ke(y,"leaflet-tooltip-"+N),tt(y,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&un(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),k1=function(s,l){return new Vl(s,l)};Pe.include({openTooltip:function(s,l,d){return this._initOverlay(Vl,s,l,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),kn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vl,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof mr||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(we(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),we(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,d,f;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),f=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(l)}});var Qm=Es.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Rl(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var f=z(d.bgPos);l.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function S1(s){return new Qm(s)}Es.Default=Jo;var Xo=kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){_(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Ze(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ks(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof M?s:new M(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,d=-s(-1/0,1/0),f=0,y=l.length,S;f<y;f++)S=l[f].style.zIndex,l[f]!==this._container&&S&&(d=s(d,+S));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ae.ielt9){un(this._container,this.options.opacity);var s=+new Date,l=!1,d=!1;for(var f in this._tiles){var y=this._tiles[f];if(!(!y.current||!y.loaded)){var S=Math.min(1,(s-y.loaded)/200);un(y.el,S),S<1?l=!0:(y.active?d=!0:this._onOpaqueTile(y),y.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(H(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=l-Math.abs(s-d),this._onUpdateLevel(d)):(Ze(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var f=this._levels[s],y=this._map;return f||(f=this._levels[s]={},f.el=Oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=l,f.origin=y.project(y.unproject(y.getPixelOrigin()),s).round(),f.zoom=s,this._setZoomTransform(f,y.getCenter(),y.getZoom()),m(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var s,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var f=l.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Ze(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,d,f){var y=Math.floor(s/2),S=Math.floor(l/2),O=d-1,N=new M(+y,+S);N.z=+O;var D=this._tileCoordsToKey(N),W=this._tiles[D];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),O>f?this._retainParent(y,S,O,f):!1)},_retainChildren:function(s,l,d,f){for(var y=2*s;y<2*s+2;y++)for(var S=2*l;S<2*l+2;S++){var O=new M(y,S);O.z=d+1;var N=this._tileCoordsToKey(O),D=this._tiles[N];if(D&&D.active){D.retain=!0;continue}else D&&D.loaded&&(D.retain=!0);d+1<f&&this._retainChildren(y,S,d+1,f)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,d,f){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var S=this.options.updateWhenZooming&&y!==this._tileZoom;(!f||S)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,l)},_setZoomTransform:function(s,l,d){var f=this._map.getZoomScale(d,s.zoom),y=s.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(l,d)).round();ae.any3d?Ai(s.el,y,f):tt(s.el,y)},_resetGrid:function(){var s=this._map,l=s.options.crs,d=this._tileSize=this.getTileSize(),f=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],f).x/d.x),Math.ceil(s.project([0,l.wrapLng[1]],f).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],f).y/d.x),Math.ceil(s.project([l.wrapLat[1],0],f).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),f=l.getZoomScale(d,this._tileZoom),y=l.project(s,this._tileZoom).floor(),S=l.getSize().divideBy(f*2);return new Y(y.subtract(S),y.add(S))},_update:function(s){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(s),y=this._pxBoundsToTileRange(f),S=y.getCenter(),O=[],N=this.options.keepBuffer,D=new Y(y.getBottomLeft().subtract([N,-N]),y.getTopRight().add([N,-N]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var J=this._tiles[W].coords;(J.z!==this._tileZoom||!D.contains(new M(J.x,J.y)))&&(this._tiles[W].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var pe=y.min.y;pe<=y.max.y;pe++)for(var Se=y.min.x;Se<=y.max.x;Se++){var Tt=new M(Se,pe);if(Tt.z=this._tileZoom,!!this._isValidTile(Tt)){var ct=this._tiles[this._tileCoordsToKey(Tt)];ct?ct.current=!0:O.push(Tt)}}if(O.sort(function(Dt,Ls){return Dt.distanceTo(S)-Ls.distanceTo(S)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var dn=document.createDocumentFragment();for(Se=0;Se<O.length;Se++)this._addTile(O[Se],dn);this._level.el.appendChild(dn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!l.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(s);return se(this.options.bounds).overlaps(f)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,d=this.getTileSize(),f=s.scaleBy(d),y=f.add(d),S=l.unproject(f,s.z),O=l.unproject(y,s.z);return[S,O]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),d=new oe(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),d=new M(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(s){var l=this._tiles[s];l&&(Ze(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ke(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=m,s.onmousemove=m,ae.ielt9&&this.options.opacity<1&&un(s,this.options.opacity)},_addTile:function(s,l){var d=this._getTilePos(s),f=this._tileCoordsToKey(s),y=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(y),this.createTile.length<2&&K(a(this._tileReady,this,s,null,y)),tt(y,d),this._tiles[f]={el:y,coords:s,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:s})},_tileReady:function(s,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:s});var f=this._tileCoordsToKey(s);d=this._tiles[f],d&&(d.loaded=+new Date,this._map._fadeAnimated?(un(d.el,0),H(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(ke(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ae.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new M(this._wrapX?p(s.x,this._wrapX):s.x,this._wrapY?p(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new Y(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function E1(s){return new Xo(s)}var Ts=Xo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=_(this,l),l.detectRetina&&ae.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var d=document.createElement("img");return we(d,"load",a(this._tileOnLoad,this,l,d)),we(d,"error",a(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var l={r:ae.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=d),l["-y"]=d}return x(this._url,o(l,this.options))},_tileOnLoad:function(s,l){ae.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,d){var f=this.options.errorTileUrl;f&&l.getAttribute("src")!==f&&(l.src=f),s(d,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,f=this.options.zoomOffset;return d&&(s=l-s),s+f},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=m,l.onerror=m,!l.complete)){l.src=R;var d=this._tiles[s].coords;Ze(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",R),Xo.prototype._removeTile.call(this,s)},_tileReady:function(s,l,d){if(!(!this._map||d&&d.getAttribute("src")===R))return Xo.prototype._tileReady.call(this,s,l,d)}});function Jm(s,l){return new Ts(s,l)}var Xm=Ts.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var d=o({},this.defaultWmsParams);for(var f in l)f in this.options||(d[f]=l[f]);l=_(this,l);var y=l.detectRetina&&ae.retina?2:1,S=this.getTileSize();d.width=S.x*y,d.height=S.y*y,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ts.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),d=this._crs,f=Q(d.project(l[0]),d.project(l[1])),y=f.min,S=f.max,O=(this._wmsVersion>=1.3&&this._crs===Vm?[y.y,y.x,S.y,S.x]:[y.x,y.y,S.x,S.y]).join(","),N=Ts.prototype.getTileUrl.call(this,s);return N+E(this.wmsParams,N,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(s,l){return o(this.wmsParams,s),l||this.redraw(),this}});function C1(s,l){return new Xm(s,l)}Ts.WMS=Xm,Jm.wms=C1;var yr=kn.extend({options:{padding:.1},initialize:function(s){_(this,s),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var d=this._map.getZoomScale(l,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),S=f.multiplyBy(-d).add(y).subtract(this._map._getNewPixelOrigin(s,l));ae.any3d?Ai(this._container,S,d):tt(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new Y(d,d.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),eg=yr.extend({options:{tolerance:0},getEvents:function(){var s=yr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");we(s,"mousemove",this._onMouseMove,this),we(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),we(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Ze(this._container),De(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yr.prototype._update.call(this);var s=this._bounds,l=this._container,d=s.getSize(),f=ae.retina?2:1;tt(l,s.min),l.width=f*d.x,l.height=f*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){yr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[c(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,d=l.next,f=l.prev;d?d.prev=f:this._drawLast=f,f?f.next=d:this._drawFirst=d,delete s._order,delete this._layers[c(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),d=[],f,y;for(y=0;y<l.length;y++){if(f=Number(l[y]),isNaN(f))return;d.push(f)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)s=f.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var d,f,y,S,O=s._parts,N=O.length,D=this._ctx;if(N){for(D.beginPath(),d=0;d<N;d++){for(f=0,y=O[d].length;f<y;f++)S=O[d][f],D[f?"lineTo":"moveTo"](S.x,S.y);l&&D.closePath()}this._fillStroke(D,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,d=this._ctx,f=Math.max(Math.round(s._radius),1),y=(Math.max(Math.round(s._radiusY),1)||f)/f;y!==1&&(d.save(),d.scale(1,y)),d.beginPath(),d.arc(l.x,l.y/y,f,0,Math.PI*2,!1),y!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,l){var d=l.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),d,f,y=this._drawFirst;y;y=y.next)d=y.layer,d.options.interactive&&d._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(f=d);this._fireEvent(f?[f]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(Xe(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var d,f,y=this._drawFirst;y;y=y.next)d=y.layer,d.options.interactive&&d._containsPoint(l)&&(f=d);f!==this._hoveredLayer&&(this._handleMouseOut(s),f&&(ke(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,d){this._map._fireDOMEvent(l,d||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var d=l.next,f=l.prev;if(d)d.prev=f;else return;f?f.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var d=l.next,f=l.prev;if(f)f.next=d;else return;d?d.prev=f:f&&(this._drawLast=f),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function tg(s){return ae.canvas?new eg(s):null}var ea=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),P1={_initContainer:function(){this._container=Oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=ea("shape");ke(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=ea("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Ze(l),s.removeInteractiveTarget(l),delete this._layers[c(s)]},_updateStyle:function(s){var l=s._stroke,d=s._fill,f=s.options,y=s._container;y.stroked=!!f.stroke,y.filled=!!f.fill,f.stroke?(l||(l=s._stroke=ea("stroke")),y.appendChild(l),l.weight=f.weight+"px",l.color=f.color,l.opacity=f.opacity,f.dashArray?l.dashStyle=k(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=f.lineCap.replace("butt","flat"),l.joinstyle=f.lineJoin):l&&(y.removeChild(l),s._stroke=null),f.fill?(d||(d=s._fill=ea("fill")),y.appendChild(d),d.color=f.fillColor||f.color,d.opacity=f.fillOpacity):d&&(y.removeChild(d),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),d=Math.round(s._radius),f=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+f+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){bs(s._container)},_bringToBack:function(s){ks(s._container)}},Hl=ae.vml?ea:ys,ta=yr.extend({_initContainer:function(){this._container=Hl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ze(this._container),De(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yr.prototype._update.call(this);var s=this._bounds,l=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),tt(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Hl("path");s.options.className&&ke(l,s.options.className),s.options.interactive&&ke(l,"leaflet-interactive"),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Ze(s._path),s.removeInteractiveTarget(s._path),delete this._layers[c(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,d=s.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Ti(s._parts,l))},_updateCircle:function(s){var l=s._point,d=Math.max(Math.round(s._radius),1),f=Math.max(Math.round(s._radiusY),1)||d,y="a"+d+","+f+" 0 1,0 ",S=s._empty()?"M0 0":"M"+(l.x-d)+","+l.y+y+d*2+",0 "+y+-d*2+",0 ";this._setPath(s,S)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){bs(s._path)},_bringToBack:function(s){ks(s._path)}});ae.vml&&ta.include(P1);function ng(s){return ae.svg||ae.vml?new ta(s):null}Pe.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&tg(s)||ng(s)}});var rg=Cs.extend({initialize:function(s,l){Cs.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=se(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function T1(s,l){return new rg(s,l)}ta.create=Hl,ta.pointsToPath=Ti,vr.geometryToLayer=$l,vr.coordsToLatLng=Ld,vr.coordsToLatLngs=Bl,vr.latLngToCoords=Od,vr.latLngsToCoords=Fl,vr.getFeature=Ps,vr.asFeature=Ul,Pe.mergeOptions({boxZoom:!0});var ig=Yn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){we(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ho(),hd(),this._startPoint=this._map.mouseEventToContainerPoint(s),we(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Oe("div","leaflet-zoom-box",this._container),ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new Y(this._point,this._startPoint),d=l.getSize();tt(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Ze(this._box),Xe(this._container,"leaflet-crosshair")),qo(),fd(),De(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Pe.addInitHook("addHandler","boxZoom",ig),Pe.mergeOptions({doubleClickZoom:!0});var sg=Yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,d=l.getZoom(),f=l.options.zoomDelta,y=s.originalEvent.shiftKey?d-f:d+f;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(s.containerPoint,y)}});Pe.addInitHook("addHandler","doubleClickZoom",sg),Pe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var og=Yn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new $r(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Xe(this._map._container,"leaflet-grab"),Xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=se(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),d=this._initialWorldOffset,f=this._draggable._newPos.x,y=(f-l+d)%s+l-d,S=(f+l+d)%s-l-d,O=Math.abs(y+d)<Math.abs(S+d)?y:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(s){var l=this._map,d=l.options,f=!d.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),f)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,O=d.easeLinearity,N=y.multiplyBy(O/S),D=N.distanceTo([0,0]),W=Math.min(d.inertiaMaxSpeed,D),J=N.multiplyBy(W/D),pe=W/(d.inertiaDeceleration*O),Se=J.multiplyBy(-pe/2).round();!Se.x&&!Se.y?l.fire("moveend"):(Se=l._limitOffset(Se,l.options.maxBounds),K(function(){l.panBy(Se,{duration:pe,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Pe.addInitHook("addHandler","dragging",og),Pe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ag=Yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),we(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),De(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,d=s.scrollTop||l.scrollTop,f=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(f,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},d=this.keyCodes,f,y;for(f=0,y=d.left.length;f<y;f++)l[d.left[f]]=[-1*s,0];for(f=0,y=d.right.length;f<y;f++)l[d.right[f]]=[s,0];for(f=0,y=d.down.length;f<y;f++)l[d.down[f]]=[0,s];for(f=0,y=d.up.length;f<y;f++)l[d.up[f]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},d=this.keyCodes,f,y;for(f=0,y=d.zoomIn.length;f<y;f++)l[d.zoomIn[f]]=s;for(f=0,y=d.zoomOut.length;f<y;f++)l[d.zoomOut[f]]=-s},_addHooks:function(){we(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){De(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,d=this._map,f;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(f=this._panKeys[l],s.shiftKey&&(f=z(f).multiplyBy(3)),d.options.maxBounds&&(f=d._limitOffset(z(f),d.options.maxBounds)),d.options.worldCopyJump){var y=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(f)));d.panTo(y)}else d.panBy(f)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ii(s)}}});Pe.addInitHook("addHandler","keyboard",ag),Pe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var lg=Yn.extend({addHooks:function(){we(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=Am(s),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var f=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),f),Ii(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,S=d?Math.ceil(y/d)*d:y,O=s._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,O&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+O):s.setZoomAround(this._lastMousePos,l+O))}});Pe.addInitHook("addHandler","scrollWheelZoom",lg);var L1=600;Pe.mergeOptions({tapHold:ae.touchNative&&ae.safari&&ae.mobile,tapTolerance:15});var ug=Yn.extend({addHooks:function(){we(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new M(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(we(document,"touchend",ft),we(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),L1),we(document,"touchend touchcancel contextmenu",this._cancel,this),we(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){De(document,"touchend",ft),De(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new M(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Pe.addInitHook("addHandler","tapHold",ug),Pe.mergeOptions({touchZoom:ae.touch,bounceAtZoomLimits:!0});var cg=Yn.extend({addHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),we(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Xe(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(s.touches[0]),f=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(f)._divideBy(2))),this._startDist=d.distanceTo(f),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),we(document,"touchmove",this._onTouchMove,this),we(document,"touchend touchcancel",this._onTouchEnd,this),ft(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(s.touches[0]),f=l.mouseEventToContainerPoint(s.touches[1]),y=d.distanceTo(f)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var S=d._add(f)._divideBy(2)._subtract(this._centerPoint);if(y===1&&S.x===0&&S.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var O=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(O,this,!0),ft(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Pe.addInitHook("addHandler","touchZoom",cg),Pe.BoxZoom=ig,Pe.DoubleClickZoom=sg,Pe.Drag=og,Pe.Keyboard=ag,Pe.ScrollWheelZoom=lg,Pe.TapHold=ug,Pe.TouchZoom=cg,n.Bounds=Y,n.Browser=ae,n.CRS=be,n.Canvas=eg,n.Circle=Td,n.CircleMarker=zl,n.Class=V,n.Control=bn,n.DivIcon=Qm,n.DivOverlay=Qn,n.DomEvent=qb,n.DomUtil=Vb,n.Draggable=$r,n.Evented=le,n.FeatureGroup=mr,n.GeoJSON=vr,n.GridLayer=Xo,n.Handler=Yn,n.Icon=Es,n.ImageOverlay=Wl,n.LatLng=fe,n.LatLngBounds=oe,n.Layer=kn,n.LayerGroup=Ss,n.LineUtil=o1,n.Map=Pe,n.Marker=Dl,n.Mixin=e1,n.Path=Br,n.Point=M,n.PolyUtil=t1,n.Polygon=Cs,n.Polyline=gr,n.Popup=Zl,n.PosAnimation=Nm,n.Projection=a1,n.Rectangle=rg,n.Renderer=yr,n.SVG=ta,n.SVGOverlay=Ym,n.TileLayer=Ts,n.Tooltip=Vl,n.Transformation=on,n.Util=he,n.VideoOverlay=Km,n.bind=a,n.bounds=Q,n.canvas=tg,n.circle=m1,n.circleMarker=p1,n.control=Yo,n.divIcon=S1,n.extend=o,n.featureGroup=d1,n.geoJSON=Gm,n.geoJson=y1,n.gridLayer=E1,n.icon=h1,n.imageOverlay=_1,n.latLng=ue,n.latLngBounds=se,n.layerGroup=c1,n.map=Gb,n.marker=f1,n.point=z,n.polygon=v1,n.polyline=g1,n.popup=b1,n.rectangle=T1,n.setOptions=_,n.stamp=c,n.svg=ng,n.svgOverlay=x1,n.tileLayer=Jm,n.tooltip=k1,n.transformation=an,n.version=r,n.videoOverlay=w1;var O1=window.L;n.noConflict=function(){return window.L=O1,this},window.L=n})})(Vf,Vf.exports);var x2=Vf.exports;const Lt=Jf(x2);var Ry={exports:{}};(function(t,e){(function(n,r){r(e)})(l_,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(i){L.Util.setOptions(this,i),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var a=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,a?this._withAnimation:this._noAnimation),this._markerCluster=a?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(i){if(i instanceof L.LayerGroup)return this.addLayers([i]);if(!i.getLatLng)return this._nonPointGroup.addLayer(i),this.fire("layeradd",{layer:i}),this;if(!this._map)return this._needsClustering.push(i),this.fire("layeradd",{layer:i}),this;if(this.hasLayer(i))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(i,this._maxZoom),this.fire("layeradd",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var a=i,u=this._zoom;if(i.__parent)for(;a.__parent._zoom>=u;)a=a.__parent;return this._currentShownBounds.contains(a.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(i,a):this._animationAddLayerNonAnimated(i,a)),this},removeLayer:function(i){return i instanceof L.LayerGroup?this.removeLayers([i]):i.getLatLng?this._map?i.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(i)),this._removeLayer(i,!0),this.fire("layerremove",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),i.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(i)&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,i)&&this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}),this):(this._nonPointGroup.removeLayer(i),this.fire("layerremove",{layer:i}),this)},addLayers:function(i,a){if(!L.Util.isArray(i))return this.addLayer(i);var u=this._featureGroup,c=this._nonPointGroup,h=this.options.chunkedLoading,p=this.options.chunkInterval,m=this.options.chunkProgress,g=i.length,v=0,w=!0,_;if(this._map){var E=new Date().getTime(),b=L.bind(function(){var k=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();v<g;v++){if(h&&v%200===0){var T=new Date().getTime()-k;if(T>p)break}if(_=i[v],_ instanceof L.LayerGroup){w&&(i=i.slice(),w=!1),this._extractNonGroupLayers(_,i),g=i.length;continue}if(!_.getLatLng){c.addLayer(_),a||this.fire("layeradd",{layer:_});continue}if(!this.hasLayer(_)&&(this._addLayer(_,this._maxZoom),a||this.fire("layeradd",{layer:_}),_.__parent&&_.__parent.getChildCount()===2)){var R=_.__parent.getAllChildMarkers(),A=R[0]===_?R[1]:R[0];u.removeLayer(A)}}m&&m(v,g,new Date().getTime()-E),v===g?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(b,this.options.chunkDelay)},this);b()}else for(var x=this._needsClustering;v<g;v++){if(_=i[v],_ instanceof L.LayerGroup){w&&(i=i.slice(),w=!1),this._extractNonGroupLayers(_,i),g=i.length;continue}if(!_.getLatLng){c.addLayer(_);continue}this.hasLayer(_)||x.push(_)}return this},removeLayers:function(i){var a,u,c=i.length,h=this._featureGroup,p=this._nonPointGroup,m=!0;if(!this._map){for(a=0;a<c;a++){if(u=i[a],u instanceof L.LayerGroup){m&&(i=i.slice(),m=!1),this._extractNonGroupLayers(u,i),c=i.length;continue}this._arraySplice(this._needsClustering,u),p.removeLayer(u),this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u})}return this}if(this._unspiderfy){this._unspiderfy();var g=i.slice(),v=c;for(a=0;a<v;a++){if(u=g[a],u instanceof L.LayerGroup){this._extractNonGroupLayers(u,g),v=g.length;continue}this._unspiderfyLayer(u)}}for(a=0;a<c;a++){if(u=i[a],u instanceof L.LayerGroup){m&&(i=i.slice(),m=!1),this._extractNonGroupLayers(u,i),c=i.length;continue}if(!u.__parent){p.removeLayer(u),this.fire("layerremove",{layer:u});continue}this._removeLayer(u,!0,!0),this.fire("layerremove",{layer:u}),h.hasLayer(u)&&(h.removeLayer(u),u.clusterShow&&u.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(i){i.off(this._childMarkerEventHandlers,this),delete i.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var i=new L.LatLngBounds;this._topClusterLevel&&i.extend(this._topClusterLevel._bounds);for(var a=this._needsClustering.length-1;a>=0;a--)i.extend(this._needsClustering[a].getLatLng());return i.extend(this._nonPointGroup.getBounds()),i},eachLayer:function(i,a){var u=this._needsClustering.slice(),c=this._needsRemoving,h,p,m;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(u),p=u.length-1;p>=0;p--){for(h=!0,m=c.length-1;m>=0;m--)if(c[m].layer===u[p]){h=!1;break}h&&i.call(a,u[p])}this._nonPointGroup.eachLayer(i,a)},getLayers:function(){var i=[];return this.eachLayer(function(a){i.push(a)}),i},getLayer:function(i){var a=null;return i=parseInt(i,10),this.eachLayer(function(u){L.stamp(u)===i&&(a=u)}),a},hasLayer:function(i){if(!i)return!1;var a,u=this._needsClustering;for(a=u.length-1;a>=0;a--)if(u[a]===i)return!0;for(u=this._needsRemoving,a=u.length-1;a>=0;a--)if(u[a].layer===i)return!1;return!!(i.__parent&&i.__parent._group===this)||this._nonPointGroup.hasLayer(i)},zoomToShowLayer:function(i,a){var u=this._map;typeof a!="function"&&(a=function(){});var c=function(){(u.hasLayer(i)||u.hasLayer(i.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",c,this),this.off("animationend",c,this),u.hasLayer(i)?a():i.__parent._icon&&(this.once("spiderfied",a,this),i.__parent.spiderfy()))};i._icon&&this._map.getBounds().contains(i.getLatLng())?a():i.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",c,this),this._map.panTo(i.getLatLng())):(this._map.on("moveend",c,this),this.on("animationend",c,this),i.__parent.zoomToBounds())},onAdd:function(i){this._map=i;var a,u,c;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(i),this._nonPointGroup.addTo(i),this._gridClusters||this._generateInitialClusters(),this._maxLat=i.options.crs.projection.MAX_LATITUDE,a=0,u=this._needsRemoving.length;a<u;a++)c=this._needsRemoving[a],c.newlatlng=c.layer._latlng,c.layer._latlng=c.latlng;for(a=0,u=this._needsRemoving.length;a<u;a++)c=this._needsRemoving[a],this._removeLayer(c.layer,!0),c.layer._latlng=c.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),u=this._needsClustering,this._needsClustering=[],this.addLayers(u,!0)},onRemove:function(i){i.off("zoomend",this._zoomEnd,this),i.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(i){for(var a=i;a&&!a._icon;)a=a.__parent;return a||null},_arraySplice:function(i,a){for(var u=i.length-1;u>=0;u--)if(i[u]===a)return i.splice(u,1),!0},_removeFromGridUnclustered:function(i,a){for(var u=this._map,c=this._gridUnclustered,h=Math.floor(this._map.getMinZoom());a>=h&&c[a].removeObject(i,u.project(i.getLatLng(),a));a--);},_childMarkerDragStart:function(i){i.target.__dragStart=i.target._latlng},_childMarkerMoved:function(i){if(!this._ignoreMove&&!i.target.__dragStart){var a=i.target._popup&&i.target._popup.isOpen();this._moveChild(i.target,i.oldLatLng,i.latlng),a&&i.target.openPopup()}},_moveChild:function(i,a,u){i._latlng=a,this.removeLayer(i),i._latlng=u,this.addLayer(i)},_childMarkerDragEnd:function(i){var a=i.target.__dragStart;delete i.target.__dragStart,a&&this._moveChild(i.target,a,i.target._latlng)},_removeLayer:function(i,a,u){var c=this._gridClusters,h=this._gridUnclustered,p=this._featureGroup,m=this._map,g=Math.floor(this._map.getMinZoom());a&&this._removeFromGridUnclustered(i,this._maxZoom);var v=i.__parent,w=v._markers,_;for(this._arraySplice(w,i);v&&(v._childCount--,v._boundsNeedUpdate=!0,!(v._zoom<g));)a&&v._childCount<=1?(_=v._markers[0]===i?v._markers[1]:v._markers[0],c[v._zoom].removeObject(v,m.project(v._cLatLng,v._zoom)),h[v._zoom].addObject(_,m.project(_.getLatLng(),v._zoom)),this._arraySplice(v.__parent._childClusters,v),v.__parent._markers.push(_),_.__parent=v.__parent,v._icon&&(p.removeLayer(v),u||p.addLayer(_))):v._iconNeedsUpdate=!0,v=v.__parent;delete i.__parent},_isOrIsParent:function(i,a){for(;a;){if(i===a)return!0;a=a.parentNode}return!1},fire:function(i,a,u){if(a&&a.layer instanceof L.MarkerCluster){if(a.originalEvent&&this._isOrIsParent(a.layer._icon,a.originalEvent.relatedTarget))return;i="cluster"+i}L.FeatureGroup.prototype.fire.call(this,i,a,u)},listens:function(i,a){return L.FeatureGroup.prototype.listens.call(this,i,a)||L.FeatureGroup.prototype.listens.call(this,"cluster"+i,a)},_defaultIconCreateFunction:function(i){var a=i.getChildCount(),u=" marker-cluster-";return a<10?u+="small":a<100?u+="medium":u+="large",new L.DivIcon({html:"<div><span>"+a+"</span></div>",className:"marker-cluster"+u,iconSize:new L.Point(40,40)})},_bindEvents:function(){var i=this._map,a=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom;(a||c||h)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),i.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(i){var a=i.layer,u=a;if(!(i.type==="clusterkeypress"&&i.originalEvent&&i.originalEvent.keyCode!==13)){for(;u._childClusters.length===1;)u=u._childClusters[0];u._zoom===this._maxZoom&&u._childCount===a._childCount&&this.options.spiderfyOnMaxZoom?a.spiderfy():this.options.zoomToBoundsOnClick&&a.zoomToBounds(),this.options.spiderfyOnEveryZoom&&a.spiderfy(),i.originalEvent&&i.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(i){var a=this._map;this._inZoomAnimation||(this._shownPolygon&&a.removeLayer(this._shownPolygon),i.layer.getChildCount()>2&&i.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(i.layer.getConvexHull(),this.options.polygonOptions),a.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var i=this.options.spiderfyOnMaxZoom,a=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom,h=this._map;(i||u||c)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),a&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),h.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var i=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),i),this._currentShownBounds=i}},_generateInitialClusters:function(){var i=Math.ceil(this._map.getMaxZoom()),a=Math.floor(this._map.getMinZoom()),u=this.options.maxClusterRadius,c=u;typeof u!="function"&&(c=function(){return u}),this.options.disableClusteringAtZoom!==null&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var h=i;h>=a;h--)this._gridClusters[h]=new L.DistanceGrid(c(h)),this._gridUnclustered[h]=new L.DistanceGrid(c(h));this._topClusterLevel=new this._markerCluster(this,a-1)},_addLayer:function(i,a){var u=this._gridClusters,c=this._gridUnclustered,h=Math.floor(this._map.getMinZoom()),p,m;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(i),i.on(this._childMarkerEventHandlers,this);a>=h;a--){p=this._map.project(i.getLatLng(),a);var g=u[a].getNearObject(p);if(g){g._addChild(i),i.__parent=g;return}if(g=c[a].getNearObject(p),g){var v=g.__parent;v&&this._removeLayer(g,!1);var w=new this._markerCluster(this,a,g,i);u[a].addObject(w,this._map.project(w._cLatLng,a)),g.__parent=w,i.__parent=w;var _=w;for(m=a-1;m>v._zoom;m--)_=new this._markerCluster(this,m,_),u[m].addObject(_,this._map.project(g.getLatLng(),m));v._addChild(_),this._removeFromGridUnclustered(g,a);return}c[a].addObject(i,p)}this._topClusterLevel._addChild(i),i.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(i){i instanceof L.MarkerCluster&&i._iconNeedsUpdate&&i._updateIcon()})},_enqueue:function(i){this._queue.push(i),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var i=Math.round(this._map._zoom);this._processQueue(),this._zoom<i&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,i)):this._zoom>i?(this._animationStart(),this._animationZoomOut(this._zoom,i)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(i){var a=this._maxLat;return a!==void 0&&(i.getNorth()>=a&&(i._northEast.lat=1/0),i.getSouth()<=-a&&(i._southWest.lat=-1/0)),i},_animationAddLayerNonAnimated:function(i,a){if(a===i)this._featureGroup.addLayer(i);else if(a._childCount===2){a._addToMap();var u=a.getAllChildMarkers();this._featureGroup.removeLayer(u[0]),this._featureGroup.removeLayer(u[1])}else a._updateIcon()},_extractNonGroupLayers:function(i,a){var u=i.getLayers(),c=0,h;for(a=a||[];c<u.length;c++){if(h=u[c],h instanceof L.LayerGroup){this._extractNonGroupLayers(h,a);continue}a.push(h)}return a},_overrideMarkerIcon:function(i){var a=i.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[i]}});return a}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(i,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(i,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(i,a){this._animationAddLayerNonAnimated(i,a)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(i,a){var u=this._getExpandedVisibleBounds(),c=this._featureGroup,h=Math.floor(this._map.getMinZoom()),p;this._ignoreMove=!0,this._topClusterLevel._recursively(u,i,h,function(m){var g=m._latlng,v=m._markers,w;for(u.contains(g)||(g=null),m._isSingleParent()&&i+1===a?(c.removeLayer(m),m._recursivelyAddChildrenToMap(null,a,u)):(m.clusterHide(),m._recursivelyAddChildrenToMap(g,a,u)),p=v.length-1;p>=0;p--)w=v[p],u.contains(w._latlng)||c.removeLayer(w)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(u,a),c.eachLayer(function(m){!(m instanceof L.MarkerCluster)&&m._icon&&m.clusterShow()}),this._topClusterLevel._recursively(u,i,a,function(m){m._recursivelyRestoreChildPositions(a)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(u,i,h,function(m){c.removeLayer(m),m.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(i,a){this._animationZoomOutSingle(this._topClusterLevel,i-1,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i,this._getExpandedVisibleBounds())},_animationAddLayer:function(i,a){var u=this,c=this._featureGroup;c.addLayer(i),a!==i&&(a._childCount>2?(a._updateIcon(),this._forceLayout(),this._animationStart(),i._setPos(this._map.latLngToLayerPoint(a.getLatLng())),i.clusterHide(),this._enqueue(function(){c.removeLayer(i),i.clusterShow(),u._animationEnd()})):(this._forceLayout(),u._animationStart(),u._animationZoomOutSingle(a,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(i,a,u){var c=this._getExpandedVisibleBounds(),h=Math.floor(this._map.getMinZoom());i._recursivelyAnimateChildrenInAndAddSelfToMap(c,h,a+1,u);var p=this;this._forceLayout(),i._recursivelyBecomeVisible(c,u),this._enqueue(function(){if(i._childCount===1){var m=i._markers[0];this._ignoreMove=!0,m.setLatLng(m.getLatLng()),this._ignoreMove=!1,m.clusterShow&&m.clusterShow()}else i._recursively(c,u,h,function(g){g._recursivelyRemoveChildrenFromMap(c,h,a+1)});p._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(i){return new L.MarkerClusterGroup(i)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(i,a,u,c){L.Marker.prototype.initialize.call(this,u?u._cLatLng||u.getLatLng():new L.LatLng(0,0),{icon:this,pane:i.options.clusterPane}),this._group=i,this._zoom=a,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,u&&this._addChild(u),c&&this._addChild(c)},getAllChildMarkers:function(i,a){i=i||[];for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u].getAllChildMarkers(i,a);for(var c=this._markers.length-1;c>=0;c--)a&&this._markers[c].__dragStart||i.push(this._markers[c]);return i},getChildCount:function(){return this._childCount},zoomToBounds:function(i){for(var a=this._childClusters.slice(),u=this._group._map,c=u.getBoundsZoom(this._bounds),h=this._zoom+1,p=u.getZoom(),m;a.length>0&&c>h;){h++;var g=[];for(m=0;m<a.length;m++)g=g.concat(a[m]._childClusters);a=g}c>h?this._group._map.setView(this._latlng,h):c<=p?this._group._map.setView(this._latlng,p+1):this._group._map.fitBounds(this._bounds,i)},getBounds:function(){var i=new L.LatLngBounds;return i.extend(this._bounds),i},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(i,a){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(i),i instanceof L.MarkerCluster?(a||(this._childClusters.push(i),i.__parent=this),this._childCount+=i._childCount):(a||this._markers.push(i),this._childCount++),this.__parent&&this.__parent._addChild(i,!0)},_setClusterCenter:function(i){this._cLatLng||(this._cLatLng=i._cLatLng||i._latlng)},_resetBounds:function(){var i=this._bounds;i._southWest&&(i._southWest.lat=1/0,i._southWest.lng=1/0),i._northEast&&(i._northEast.lat=-1/0,i._northEast.lng=-1/0)},_recalculateBounds:function(){var i=this._markers,a=this._childClusters,u=0,c=0,h=this._childCount,p,m,g,v;if(h!==0){for(this._resetBounds(),p=0;p<i.length;p++)g=i[p]._latlng,this._bounds.extend(g),u+=g.lat,c+=g.lng;for(p=0;p<a.length;p++)m=a[p],m._boundsNeedUpdate&&m._recalculateBounds(),this._bounds.extend(m._bounds),g=m._wLatLng,v=m._childCount,u+=g.lat*v,c+=g.lng*v;this._latlng=this._wLatLng=new L.LatLng(u/h,c/h),this._boundsNeedUpdate=!1}},_addToMap:function(i){i&&(this._backupLatlng=this._latlng,this.setLatLng(i)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(i,a,u){this._recursively(i,this._group._map.getMinZoom(),u-1,function(c){var h=c._markers,p,m;for(p=h.length-1;p>=0;p--)m=h[p],m._icon&&(m._setPos(a),m.clusterHide())},function(c){var h=c._childClusters,p,m;for(p=h.length-1;p>=0;p--)m=h[p],m._icon&&(m._setPos(a),m.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(i,a,u,c){this._recursively(i,c,a,function(h){h._recursivelyAnimateChildrenIn(i,h._group._map.latLngToLayerPoint(h.getLatLng()).round(),u),h._isSingleParent()&&u-1===c?(h.clusterShow(),h._recursivelyRemoveChildrenFromMap(i,a,u)):h.clusterHide(),h._addToMap()})},_recursivelyBecomeVisible:function(i,a){this._recursively(i,this._group._map.getMinZoom(),a,null,function(u){u.clusterShow()})},_recursivelyAddChildrenToMap:function(i,a,u){this._recursively(u,this._group._map.getMinZoom()-1,a,function(c){if(a!==c._zoom)for(var h=c._markers.length-1;h>=0;h--){var p=c._markers[h];u.contains(p._latlng)&&(i&&(p._backupLatlng=p.getLatLng(),p.setLatLng(i),p.clusterHide&&p.clusterHide()),c._group._featureGroup.addLayer(p))}},function(c){c._addToMap(i)})},_recursivelyRestoreChildPositions:function(i){for(var a=this._markers.length-1;a>=0;a--){var u=this._markers[a];u._backupLatlng&&(u.setLatLng(u._backupLatlng),delete u._backupLatlng)}if(i-1===this._zoom)for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._restorePosition();else for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h]._recursivelyRestoreChildPositions(i)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(i,a,u,c){var h,p;this._recursively(i,a-1,u-1,function(m){for(p=m._markers.length-1;p>=0;p--)h=m._markers[p],(!c||!c.contains(h._latlng))&&(m._group._featureGroup.removeLayer(h),h.clusterShow&&h.clusterShow())},function(m){for(p=m._childClusters.length-1;p>=0;p--)h=m._childClusters[p],(!c||!c.contains(h._latlng))&&(m._group._featureGroup.removeLayer(h),h.clusterShow&&h.clusterShow())})},_recursively:function(i,a,u,c,h){var p=this._childClusters,m=this._zoom,g,v;if(a<=m&&(c&&c(this),h&&m===u&&h(this)),m<a||m<u)for(g=p.length-1;g>=0;g--)v=p[g],v._boundsNeedUpdate&&v._recalculateBounds(),i.intersects(v._bounds)&&v._recursively(i,a,u,c,h)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var i=this.options.opacity;return this.setOpacity(0),this.options.opacity=i,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(i){this._cellSize=i,this._sqCellSize=i*i,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(i,a){var u=this._getCoord(a.x),c=this._getCoord(a.y),h=this._grid,p=h[c]=h[c]||{},m=p[u]=p[u]||[],g=L.Util.stamp(i);this._objectPoint[g]=a,m.push(i)},updateObject:function(i,a){this.removeObject(i),this.addObject(i,a)},removeObject:function(i,a){var u=this._getCoord(a.x),c=this._getCoord(a.y),h=this._grid,p=h[c]=h[c]||{},m=p[u]=p[u]||[],g,v;for(delete this._objectPoint[L.Util.stamp(i)],g=0,v=m.length;g<v;g++)if(m[g]===i)return m.splice(g,1),v===1&&delete p[u],!0},eachObject:function(i,a){var u,c,h,p,m,g,v,w=this._grid;for(u in w){m=w[u];for(c in m)for(g=m[c],h=0,p=g.length;h<p;h++)v=i.call(a,g[h]),v&&(h--,p--)}},getNearObject:function(i){var a=this._getCoord(i.x),u=this._getCoord(i.y),c,h,p,m,g,v,w,_,E=this._objectPoint,b=this._sqCellSize,x=null;for(c=u-1;c<=u+1;c++)if(m=this._grid[c],m){for(h=a-1;h<=a+1;h++)if(g=m[h],g)for(p=0,v=g.length;p<v;p++)w=g[p],_=this._sqDist(E[L.Util.stamp(w)],i),(_<b||_<=b&&x===null)&&(b=_,x=w)}return x},_getCoord:function(i){var a=Math.floor(i/this._cellSize);return isFinite(a)?a:i},_sqDist:function(i,a){var u=a.x-i.x,c=a.y-i.y;return u*u+c*c}},function(){L.QuickHull={getDistant:function(i,a){var u=a[1].lat-a[0].lat,c=a[0].lng-a[1].lng;return c*(i.lat-a[0].lat)+u*(i.lng-a[0].lng)},findMostDistantPointFromBaseLine:function(i,a){var u=0,c=null,h=[],p,m,g;for(p=a.length-1;p>=0;p--){if(m=a[p],g=this.getDistant(m,i),g>0)h.push(m);else continue;g>u&&(u=g,c=m)}return{maxPoint:c,newPoints:h}},buildConvexHull:function(i,a){var u=[],c=this.findMostDistantPointFromBaseLine(i,a);return c.maxPoint?(u=u.concat(this.buildConvexHull([i[0],c.maxPoint],c.newPoints)),u=u.concat(this.buildConvexHull([c.maxPoint,i[1]],c.newPoints)),u):[i[0]]},getConvexHull:function(i){var a=!1,u=!1,c=!1,h=!1,p=null,m=null,g=null,v=null,w=null,_=null,E;for(E=i.length-1;E>=0;E--){var b=i[E];(a===!1||b.lat>a)&&(p=b,a=b.lat),(u===!1||b.lat<u)&&(m=b,u=b.lat),(c===!1||b.lng>c)&&(g=b,c=b.lng),(h===!1||b.lng<h)&&(v=b,h=b.lng)}u!==a?(_=m,w=p):(_=v,w=g);var x=[].concat(this.buildConvexHull([_,w],i),this.buildConvexHull([w,_],i));return x}}}(),L.MarkerCluster.include({getConvexHull:function(){var i=this.getAllChildMarkers(),a=[],u,c;for(c=i.length-1;c>=0;c--)u=i[c].getLatLng(),a.push(u);return L.QuickHull.getConvexHull(a)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var i=this.getAllChildMarkers(null,!0),a=this._group,u=a._map,c=u.latLngToLayerPoint(this._latlng),h;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?h=this._group.options.spiderfyShapePositions(i.length,c):i.length>=this._circleSpiralSwitchover?h=this._generatePointsSpiral(i.length,c):(c.y+=10,h=this._generatePointsCircle(i.length,c)),this._animationSpiderfy(i,h)}},unspiderfy:function(i){this._group._inZoomAnimation||(this._animationUnspiderfy(i),this._group._spiderfied=null)},_generatePointsCircle:function(i,a){var u=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i),c=u/this._2PI,h=this._2PI/i,p=[],m,g;for(c=Math.max(c,35),p.length=i,m=0;m<i;m++)g=this._circleStartAngle+m*h,p[m]=new L.Point(a.x+c*Math.cos(g),a.y+c*Math.sin(g))._round();return p},_generatePointsSpiral:function(i,a){var u=this._group.options.spiderfyDistanceMultiplier,c=u*this._spiralLengthStart,h=u*this._spiralFootSeparation,p=u*this._spiralLengthFactor*this._2PI,m=0,g=[],v;for(g.length=i,v=i;v>=0;v--)v<i&&(g[v]=new L.Point(a.x+c*Math.cos(m),a.y+c*Math.sin(m))._round()),m+=h/c+v*5e-4,c+=p/m;return g},_noanimationUnspiderfy:function(){var i=this._group,a=i._map,u=i._featureGroup,c=this.getAllChildMarkers(null,!0),h,p;for(i._ignoreMove=!0,this.setOpacity(1),p=c.length-1;p>=0;p--)h=c[p],u.removeLayer(h),h._preSpiderfyLatlng&&(h.setLatLng(h._preSpiderfyLatlng),delete h._preSpiderfyLatlng),h.setZIndexOffset&&h.setZIndexOffset(0),h._spiderLeg&&(a.removeLayer(h._spiderLeg),delete h._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:c}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(i,a){var u=this._group,c=u._map,h=u._featureGroup,p=this._group.options.spiderLegPolylineOptions,m,g,v,w;for(u._ignoreMove=!0,m=0;m<i.length;m++)w=c.layerPointToLatLng(a[m]),g=i[m],v=new L.Polyline([this._latlng,w],p),c.addLayer(v),g._spiderLeg=v,g._preSpiderfyLatlng=g._latlng,g.setLatLng(w),g.setZIndexOffset&&g.setZIndexOffset(1e6),h.addLayer(g);this.setOpacity(.3),u._ignoreMove=!1,u.fire("spiderfied",{cluster:this,markers:i})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(i,a){var u=this,c=this._group,h=c._map,p=c._featureGroup,m=this._latlng,g=h.latLngToLayerPoint(m),v=L.Path.SVG,w=L.extend({},this._group.options.spiderLegPolylineOptions),_=w.opacity,E,b,x,k,T,R;for(_===void 0&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),v?(w.opacity=0,w.className=(w.className||"")+" leaflet-cluster-spider-leg"):w.opacity=_,c._ignoreMove=!0,E=0;E<i.length;E++)b=i[E],R=h.layerPointToLatLng(a[E]),x=new L.Polyline([m,R],w),h.addLayer(x),b._spiderLeg=x,v&&(k=x._path,T=k.getTotalLength()+.1,k.style.strokeDasharray=T,k.style.strokeDashoffset=T),b.setZIndexOffset&&b.setZIndexOffset(1e6),b.clusterHide&&b.clusterHide(),p.addLayer(b),b._setPos&&b._setPos(g);for(c._forceLayout(),c._animationStart(),E=i.length-1;E>=0;E--)R=h.layerPointToLatLng(a[E]),b=i[E],b._preSpiderfyLatlng=b._latlng,b.setLatLng(R),b.clusterShow&&b.clusterShow(),v&&(x=b._spiderLeg,k=x._path,k.style.strokeDashoffset=0,x.setStyle({opacity:_}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:u,markers:i})},200)},_animationUnspiderfy:function(i){var a=this,u=this._group,c=u._map,h=u._featureGroup,p=i?c._latLngToNewLayerPoint(this._latlng,i.zoom,i.center):c.latLngToLayerPoint(this._latlng),m=this.getAllChildMarkers(null,!0),g=L.Path.SVG,v,w,_,E,b,x;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),w=m.length-1;w>=0;w--)v=m[w],v._preSpiderfyLatlng&&(v.closePopup(),v.setLatLng(v._preSpiderfyLatlng),delete v._preSpiderfyLatlng,x=!0,v._setPos&&(v._setPos(p),x=!1),v.clusterHide&&(v.clusterHide(),x=!1),x&&h.removeLayer(v),g&&(_=v._spiderLeg,E=_._path,b=E.getTotalLength()+.1,E.style.strokeDashoffset=b,_.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var k=0;for(w=m.length-1;w>=0;w--)v=m[w],v._spiderLeg&&k++;for(w=m.length-1;w>=0;w--)v=m[w],v._spiderLeg&&(v.clusterShow&&v.clusterShow(),v.setZIndexOffset&&v.setZIndexOffset(0),k>1&&h.removeLayer(v),c.removeLayer(v._spiderLeg),delete v._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:a,markers:m})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(i){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(i))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(i){this._spiderfied&&this._spiderfied.unspiderfy(i)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(i){i._spiderLeg&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow(),i.setZIndexOffset&&i.setZIndexOffset(0),this._map.removeLayer(i._spiderLeg),delete i._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(i){return i?i instanceof L.MarkerClusterGroup?i=i._topClusterLevel.getAllChildMarkers():i instanceof L.LayerGroup?i=i._layers:i instanceof L.MarkerCluster?i=i.getAllChildMarkers():i instanceof L.Marker&&(i=[i]):i=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(i),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(i),this},_flagParentsIconsNeedUpdate:function(i){var a,u;for(a in i)for(u=i[a].__parent;u;)u._iconNeedsUpdate=!0,u=u.__parent},_refreshSingleMarkerModeMarkers:function(i){var a,u;for(a in i)u=i[a],this.hasLayer(u)&&u.setIcon(this._overrideMarkerIcon(u))}}),L.Marker.include({refreshIconOptions:function(i,a){var u=this.options.icon;return L.setOptions(u,i),this.setIcon(u),a&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=o,Object.defineProperty(n,"__esModule",{value:!0})})})(Ry,Ry.exports);const Hf=[{value:"love",label:" Love",emoji:""},{value:"travel",label:" Travel",emoji:""},{value:"food",label:" Food",emoji:""},{value:"friendship",label:" Friendship",emoji:""},{value:"family",label:" Family",emoji:""},{value:"adventure",label:" Adventure",emoji:""},{value:"memory",label:" Memory",emoji:""},{value:"other",label:" Other",emoji:""}],b2=()=>{const[t,e]=P.useState([]),[n,r]=P.useState(!0),{user:o}=$o(),{toast:i}=Sw(),a=async()=>{if(!o){e([]),r(!1);return}try{const{data:p,error:m}=await Er.from("memories").select("*").or(`user_id.eq.${o.id},is_public.eq.true`).order("created_at",{ascending:!1});if(console.log("Fetched memories:",{data:p,error:m}),m)throw m;e(p||[])}catch(p){console.error("Error fetching memories:",p),i({title:"Error",description:"Failed to load memories",variant:"destructive"})}finally{r(!1)}},u=async p=>{if(!o)return null;try{console.log("Creating memory:",p,"User:",o.id);const{data:m,error:g}=await Er.from("memories").insert({...p,user_id:o.id}).select("*").single();if(console.log("Memory creation result:",{data:m,error:g}),g)throw g;return e(v=>[m,...v]),i({title:"Memory created",description:"Your memory has been saved to the map"}),m}catch(m){return console.error("Error creating memory:",m),i({title:"Error",description:`Failed to create memory: ${m.message}`,variant:"destructive"}),null}},c=async(p,m)=>{try{const{data:g,error:v}=await Er.from("memories").update(m).eq("id",p).select(`
          *,
          profiles:user_id (
            username,
            display_name
          )
        `).single();if(v)throw v;return e(w=>w.map(_=>_.id===p?g:_)),i({title:"Memory updated",description:"Your changes have been saved"}),g}catch(g){return console.error("Error updating memory:",g),i({title:"Error",description:"Failed to update memory",variant:"destructive"}),null}},h=async p=>{try{const{error:m}=await Er.from("memories").delete().eq("id",p);if(m)throw m;return e(g=>g.filter(v=>v.id!==p)),i({title:"Memory deleted",description:"Your memory has been removed"}),!0}catch(m){return console.error("Error deleting memory:",m),i({title:"Error",description:"Failed to delete memory",variant:"destructive"}),!1}};return P.useEffect(()=>{a()},[o]),{memories:t,loading:n,createMemory:u,updateMemory:c,deleteMemory:h,refetch:a}},k2=(t,e)=>{if(!(t!=null&&t.trim()))return e||"Memory";if(e&&e.length<=20)return e;const n=t.toLowerCase().trim(),r=[{keywords:["birthday","party","celebrate"],topic:"Birthday Celebration"},{keywords:["wedding","marriage","bride","groom"],topic:"Wedding Day"},{keywords:["vacation","trip","travel","holiday"],topic:"Travel Adventure"},{keywords:["restaurant","food","dinner","lunch","eat"],topic:"Dining Experience"},{keywords:["beach","ocean","sea","sand"],topic:"Beach Visit"},{keywords:["mountain","hiking","climb","peak"],topic:"Mountain Adventure"},{keywords:["concert","music","band","show"],topic:"Music Event"},{keywords:["graduation","degree","university","college"],topic:"Graduation Day"},{keywords:["baby","born","birth","newborn"],topic:"New Baby"},{keywords:["work","job","office","meeting"],topic:"Work Event"},{keywords:["friend","friends","hangout","meet"],topic:"Friend Meetup"},{keywords:["family","reunion","relatives"],topic:"Family Time"},{keywords:["park","nature","walk","outdoor"],topic:"Nature Walk"},{keywords:["movie","cinema","film","theater"],topic:"Movie Night"},{keywords:["shopping","mall","store","buy"],topic:"Shopping Trip"},{keywords:["hospital","doctor","medical"],topic:"Medical Visit"},{keywords:["school","class","study","learn"],topic:"School Memory"},{keywords:["home","house","move","new"],topic:"Home Memory"},{keywords:["love","romantic","date","kiss"],topic:"Romantic Moment"},{keywords:["sad","cry","difficult","hard"],topic:"Difficult Time"},{keywords:["happy","joy","amazing","wonderful"],topic:"Happy Moment"},{keywords:["surprise","unexpected","shock"],topic:"Surprise Event"},{keywords:["achievement","success","win","award"],topic:"Achievement"},{keywords:["sport","game","play","match"],topic:"Sports Event"},{keywords:["art","museum","gallery","paint"],topic:"Art Experience"}];for(const i of r)if(i.keywords.some(a=>n.includes(a)))return i.topic;const o=t.split(" ").filter(i=>i.length>2).slice(0,3).map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase());return o.length>0?o.join(" "):"Memory"};function Fn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ds(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Sb=6048e5,S2=864e5;let E2={};function td(){return E2}function ul(t,e){var u,c,h,p;const n=td(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Fn(t),i=o.getDay(),a=(i<r?7:0)+i-r;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function mc(t){return ul(t,{weekStartsOn:1})}function Eb(t){const e=Fn(t),n=e.getFullYear(),r=ds(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=mc(r),i=ds(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=mc(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Ay(t){const e=Fn(t);return e.setHours(0,0,0,0),e}function Ny(t){const e=Fn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function C2(t,e){const n=Ay(t),r=Ay(e),o=+n-Ny(n),i=+r-Ny(r);return Math.round((o-i)/S2)}function P2(t){const e=Eb(t),n=ds(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),mc(n)}function T2(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function L2(t){if(!T2(t)&&typeof t!="number")return!1;const e=Fn(t);return!isNaN(Number(e))}function O2(t){const e=Fn(t),n=ds(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const R2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A2=(t,e,n)=>{let r;const o=R2[t];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const N2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},M2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},I2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j2={date:kh({formats:N2,defaultWidth:"full"}),time:kh({formats:M2,defaultWidth:"full"}),dateTime:kh({formats:I2,defaultWidth:"full"})},D2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z2=(t,e,n,r)=>D2[t];function ha(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):a;o=t.formattingValues[u]||t.formattingValues[a]}else{const a=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[u]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return o[i]}}const $2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},F2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},U2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},W2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V2=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},H2={ordinalNumber:V2,era:ha({values:$2,defaultWidth:"wide"}),quarter:ha({values:B2,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ha({values:F2,defaultWidth:"wide"}),day:ha({values:U2,defaultWidth:"wide"}),dayPeriod:ha({values:W2,defaultWidth:"wide",formattingValues:Z2,defaultFormattingWidth:"wide"})};function fa(t){return(e,n={})=>{const r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;const a=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?G2(u,m=>m.test(a)):q2(u,m=>m.test(a));let h;h=t.valueCallback?t.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(a.length);return{value:h,rest:p}}}function q2(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function G2(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function K2(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const o=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const u=e.slice(o.length);return{value:a,rest:u}}}const Y2=/^(\d+)(th|st|nd|rd)?/i,Q2=/\d+/i,J2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X2={any:[/^b/i,/^(a|c)/i]},eN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tN={any:[/1/i,/2/i,/3/i,/4/i]},nN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lN={ordinalNumber:K2({matchPattern:Y2,parsePattern:Q2,valueCallback:t=>parseInt(t,10)}),era:fa({matchPatterns:J2,defaultMatchWidth:"wide",parsePatterns:X2,defaultParseWidth:"any"}),quarter:fa({matchPatterns:eN,defaultMatchWidth:"wide",parsePatterns:tN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fa({matchPatterns:nN,defaultMatchWidth:"wide",parsePatterns:rN,defaultParseWidth:"any"}),day:fa({matchPatterns:iN,defaultMatchWidth:"wide",parsePatterns:sN,defaultParseWidth:"any"}),dayPeriod:fa({matchPatterns:oN,defaultMatchWidth:"any",parsePatterns:aN,defaultParseWidth:"any"})},uN={code:"en-US",formatDistance:A2,formatLong:j2,formatRelative:z2,localize:H2,match:lN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cN(t){const e=Fn(t);return C2(e,O2(e))+1}function dN(t){const e=Fn(t),n=+mc(e)-+P2(e);return Math.round(n/Sb)+1}function Cb(t,e){var p,m,g,v;const n=Fn(t),r=n.getFullYear(),o=td(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??o.firstWeekContainsDate??((v=(g=o.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,a=ds(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const u=ul(a,e),c=ds(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const h=ul(c,e);return n.getTime()>=u.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function hN(t,e){var u,c,h,p;const n=td(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Cb(t,e),i=ds(t,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),ul(i,e)}function fN(t,e){const n=Fn(t),r=+ul(n,e)-+hN(n,e);return Math.round(r/Sb)+1}function Me(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Zr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Me(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Me(n+1,2)},d(t,e){return Me(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Me(t.getHours()%12||12,e.length)},H(t,e){return Me(t.getHours(),e.length)},m(t,e){return Me(t.getMinutes(),e.length)},s(t,e){return Me(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Me(o,e.length)}},Ds={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},My={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Zr.y(t,e)},Y:function(t,e,n,r){const o=Cb(t,r),i=o>0?o:1-o;if(e==="YY"){const a=i%100;return Me(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Me(i,e.length)},R:function(t,e){const n=Eb(t);return Me(n,e.length)},u:function(t,e){const n=t.getFullYear();return Me(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Me(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Me(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Zr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Me(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const o=fN(t,r);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Me(o,e.length)},I:function(t,e,n){const r=dN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Me(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Zr.d(t,e)},D:function(t,e,n){const r=cN(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Me(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Me(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Me(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return Me(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let o;switch(r===12?o=Ds.noon:r===0?o=Ds.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let o;switch(r>=17?o=Ds.evening:r>=12?o=Ds.afternoon:r>=4?o=Ds.morning:o=Ds.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Zr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Zr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Me(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Me(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Zr.s(t,e)},S:function(t,e){return Zr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return jy(r);case"XXXX":case"XX":return Wi(r);case"XXXXX":case"XXX":default:return Wi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return jy(r);case"xxxx":case"xx":return Wi(r);case"xxxxx":case"xxx":default:return Wi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Iy(r,":");case"OOOO":default:return"GMT"+Wi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Iy(r,":");case"zzzz":default:return"GMT"+Wi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Me(r,e.length)},T:function(t,e,n){const r=t.getTime();return Me(r,e.length)}};function Iy(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Math.trunc(r/60),i=r%60;return i===0?n+String(o):n+String(o)+e+Me(i,2)}function jy(t,e){return t%60===0?(t>0?"-":"+")+Me(Math.abs(t)/60,2):Wi(t,e)}function Wi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Me(Math.trunc(r/60),2),i=Me(r%60,2);return n+o+e+i}const Dy=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Pb=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pN=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Dy(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Dy(r,e)).replace("{{time}}",Pb(o,e))},mN={p:Pb,P:pN},gN=/^D+$/,vN=/^Y+$/,yN=["D","DD","YY","YYYY"];function _N(t){return gN.test(t)}function wN(t){return vN.test(t)}function xN(t,e,n){const r=bN(t,e,n);if(console.warn(r),yN.includes(t))throw new RangeError(r)}function bN(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EN=/^'([^]*?)'?$/,CN=/''/g,PN=/[a-zA-Z]/;function TN(t,e,n){var p,m,g,v;const r=td(),o=r.locale??uN,i=r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,a=r.weekStartsOn??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,u=Fn(t);if(!L2(u))throw new RangeError("Invalid time value");let c=e.match(SN).map(w=>{const _=w[0];if(_==="p"||_==="P"){const E=mN[_];return E(w,o.formatLong)}return w}).join("").match(kN).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const _=w[0];if(_==="'")return{isToken:!1,value:LN(w)};if(My[_])return{isToken:!0,value:w};if(_.match(PN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:w}});o.localize.preprocessor&&(c=o.localize.preprocessor(u,c));const h={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return c.map(w=>{if(!w.isToken)return w.value;const _=w.value;(wN(_)||_N(_))&&xN(_,e,String(t));const E=My[_[0]];return E(u,_,o.localize,h)}).join("")}function LN(t){const e=t.match(EN);return e?e[1].replace(CN,"'"):t}const ON=t=>{const e=t.getChildCount(),n=e<10?40:e<100?50:60,r=e<10?14:e<100?16:18;let o,i,a;return e<5?(o="linear-gradient(135deg, #94a3b8 0%, #64748b 100%)",i="rgba(148, 163, 184, 0.3)",a="low"):e<15?(o="linear-gradient(135deg, #667eea 0%, #764ba2 100%)",i="rgba(102, 126, 234, 0.4)",a="medium"):e<30?(o="linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",i="rgba(240, 147, 251, 0.5)",a="high"):(o="linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",i="rgba(79, 172, 254, 0.6)",a="very-high"),Lt.divIcon({html:`
      <div class="cluster-marker cluster-${a}" style="
        width: ${n}px;
        height: ${n}px;
        background: ${o};
        border: 3px solid rgba(255,255,255,0.8);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: 'Playfair Display', serif;
        font-weight: 600;
        color: white;
        font-size: ${r}px;
        box-shadow: 0 4px 20px ${i};
        backdrop-filter: blur(8px);
        transition: all 0.3s ease;
      ">${e}</div>
    `,className:"custom-cluster-icon",iconSize:[n,n],iconAnchor:[n/2,n/2]})},RN=(t,e)=>{const n=e?60:48,r=`
    <svg width="${n}" height="${n}" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="glow-${t.replace("#","")}" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
          <feMerge>
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <radialGradient id="grad-${t.replace("#","")}" cx="50%" cy="50%" r="50%">
          <stop offset="0%" style="stop-color:${t};stop-opacity:0.9"/>
          <stop offset="70%" style="stop-color:${t};stop-opacity:0.4"/>
          <stop offset="100%" style="stop-color:${t};stop-opacity:0"/>
        </radialGradient>
      </defs>
      <!-- Outer glow -->
      <circle cx="30" cy="30" r="24" fill="url(#grad-${t.replace("#","")})" filter="url(#glow-${t.replace("#","")})"/>
      <!-- Main circle -->
      <circle cx="30" cy="30" r="12" fill="${t}" filter="url(#glow-${t.replace("#","")})"/>
      <!-- Inner highlight -->
      <circle cx="30" cy="30" r="6" fill="${t}" opacity="0.9"/>
      <circle cx="28" cy="28" r="3" fill="white" opacity="0.7"/>
    </svg>
  `;return Lt.divIcon({html:r,className:"custom-memory-marker",iconSize:[n,n],iconAnchor:[n/2,n/2]})},AN=t=>{const e=Hf.find(a=>a.value===t.category),n=(e==null?void 0:e.label)||" Memory",r=t.display_name||t.username||"Anonymous",o=TN(new Date(t.created_at),"MMM d, yyyy"),i=k2(t.description||"",t.title);return`
    <div class="memory-tooltip">
      <div class="memory-tooltip-header">
        <span class="memory-tooltip-category">${n}</span>
        ${t.is_public?'<span class="memory-tooltip-public">Public</span>':""}
      </div>
      <div class="memory-tooltip-title">${i}</div>
      ${t.description?`<div class="memory-tooltip-desc-container">
        <div class="memory-tooltip-desc">${t.description}</div>
      </div>`:""}
      <div class="memory-tooltip-meta">
        <span>By ${r}</span>
        <span></span>
        <span>${o}</span>
      </div>
    </div>
  `},NN=({memories:t,onMemoryClick:e,onMapClick:n,selectedMemory:r,isPlacementMode:o,flyToLocation:i})=>{const a=P.useRef(null),u=P.useRef(null),c=P.useRef(new Map),h=P.useRef(null),[p,m]=P.useState(!1),[g,v]=P.useState(""),[w,_]=P.useState([]),[E,b]=P.useState(!1),[x,k]=P.useState(null),T=P.useRef(null),R=P.useRef(null);P.useEffect(()=>{if(!a.current||u.current)return;const I=Lt.map(a.current,{center:[20,0],zoom:2,minZoom:1,maxZoom:22,maxBounds:[[-90,-180],[90,180]],worldCopyJump:!0,scrollWheelZoom:!0,wheelPxPerZoomLevel:60,zoomSnap:.1,zoomDelta:.5,wheelDebounceTime:50,zoomControl:!1});Lt.control.zoom({position:"topleft"}).addTo(I);const F=Lt.markerClusterGroup({iconCreateFunction:ON,maxClusterRadius:80,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,zoomToBoundsOnClick:!0,spiderfyDistanceMultiplier:1.5,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!0});I.addLayer(F),h.current=F;const $=Lt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener noreferrer">OpenStreetMap</a> contributors',maxZoom:22}),K=Lt.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:'&copy; <a href="https://www.esri.com/" target="_blank" rel="noopener noreferrer">Esri</a>',maxZoom:22}),H=Lt.tileLayer("https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap Deutschland",maxZoom:22}),he=Lt.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://carto.com/" target="_blank" rel="noopener noreferrer">CARTO</a>',maxZoom:22}),V=Lt.tileLayer("https://{s}.tiles.wmflabs.org/osm-no-labels/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors",maxZoom:22,opacity:.9});H.addTo(I),Lt.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",{attribution:"",maxZoom:22,opacity:.6}).addTo(I);const te={" ULTRA Detail (Default)":H," Max POI + Continents":he," Standard OSM":$," Buildings View":V," Satellite HD":K},le={};return Lt.control.layers(te,le,{position:"topright",collapsed:!0}).addTo(I),u.current=I,m(!0),()=>{h.current&&h.current.clearLayers(),I.remove(),u.current=null,h.current=null,m(!1)}},[]),P.useEffect(()=>{const I=u.current;if(!I)return;const F=$=>{if(o){const K=I.latLngToContainerPoint($.latlng);n({lat:$.latlng.lat,lng:$.latlng.lng},{x:K.x,y:K.y})}};return I.off("click"),I.on("click",F),a.current&&(a.current.style.cursor=o?"crosshair":"grab"),()=>{I.off("click",F)}},[n,o]),P.useEffect(()=>{const I=u.current,F=h.current;!I||!p||!F||(F.clearLayers(),c.current.clear(),t.forEach($=>{const K=(r==null?void 0:r.id)===$.id,H=$.color||"#F9A8D4",he=RN(H,K),V=Lt.marker([$.latitude,$.longitude],{icon:he}).on("click",ge=>{Lt.DomEvent.stopPropagation(ge),R.current&&clearTimeout(R.current),k(null),I.flyTo([$.latitude,$.longitude],Math.max(I.getZoom(),14),{duration:.8}),setTimeout(()=>{e($)},800)}).on("mouseover",ge=>{R.current&&clearTimeout(R.current),T.current&&clearTimeout(T.current),R.current=setTimeout(()=>{const te=Lt.latLng($.latitude,$.longitude),le=I.latLngToContainerPoint(te),M=I.getZoom();k({memory:$,position:{x:le.x,y:le.y},zoom:M})},1e3)}).on("mouseout",()=>{R.current&&clearTimeout(R.current),T.current=setTimeout(()=>{k(null)},300)});F.addLayer(V),c.current.set($.id,V)}))},[t,r,e,p]),P.useEffect(()=>{const I=u.current;!I||!r||I.flyTo([r.latitude,r.longitude],Math.max(I.getZoom(),10),{duration:.8})},[r]);const A=async I=>{if(!I.trim()){_([]),b(!1);return}try{const $=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(I)}&limit=5&addressdetails=1&accept-language=en`)).json();_($),b(!0)}catch(F){console.error("Search error:",F),Fi.error("Failed to search location")}};P.useEffect(()=>{const I=setTimeout(()=>{g&&A(g)},500);return()=>clearTimeout(I)},[g]);const j=I=>{const F=parseFloat(I.lat),$=parseFloat(I.lon);u.current&&u.current.flyTo([F,$],15,{duration:1.5}),v(I.display_name),b(!1),Fi.success(`Found: ${I.display_name}`)};return P.useEffect(()=>{const I=u.current;!I||!i||I.flyTo([i.lat,i.lng],i.zoom||12,{duration:1})},[i]),C.jsxs("div",{className:"w-full h-full relative overflow-hidden",children:[C.jsx("div",{ref:a,className:"w-full h-full",style:{background:"hsl(215, 28%, 10%)"}}),C.jsx("div",{className:"absolute top-4 left-1/2 right-4 z-[1001] flex justify-end",children:C.jsxs("div",{className:"relative w-full max-w-sm",children:[C.jsxs("div",{className:"flex items-center bg-gray-200 border border-gray-300 rounded-xl shadow-lg",children:[C.jsx(kf,{className:"w-5 h-5 text-gray-600 ml-4"}),C.jsx("input",{type:"text",placeholder:"Search places...",value:g,onChange:I=>v(I.target.value),className:`flex-1 px-4 py-3 bg-transparent text-gray-800 font-playfair placeholder:text-gray-500 \r
                       focus:outline-none text-sm`}),g&&C.jsx("button",{onClick:()=>{v(""),_([]),b(!1)},className:"p-2 text-gray-600 hover:text-gray-800 transition-colors",children:C.jsx(bl,{className:"w-4 h-4"})})]}),E&&w.length>0&&C.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-xl shadow-xl max-h-64 overflow-y-auto",children:w.map((I,F)=>C.jsxs("button",{onClick:()=>j(I),className:`w-full px-4 py-3 text-left hover:bg-gray-100 transition-colors \r
                           border-b border-gray-200 last:border-b-0 flex items-start gap-3`,children:[C.jsx(kf,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("div",{className:"text-gray-800 font-playfair text-sm font-medium truncate",children:I.name||I.display_name.split(",")[0]}),C.jsx("div",{className:"text-gray-600 font-playfair text-xs truncate",children:I.display_name})]})]},F))})]})}),C.jsx("div",{className:"absolute top-20 right-4 z-[1000]",children:C.jsx("button",{onClick:()=>{if(!navigator.geolocation){Fi.error("Geolocation is not supported by your browser");return}Fi.loading("Finding your location...",{id:"locate"}),navigator.geolocation.getCurrentPosition(I=>{var K;const{latitude:F,longitude:$}=I.coords;(K=u.current)==null||K.flyTo([F,$],14,{duration:1.2}),Fi.success("Found your location!",{id:"locate"})},I=>{Fi.error("Unable to get your location",{id:"locate"})},{enableHighAccuracy:!0,timeout:1e4})},className:`w-12 h-12 rounded-full bg-[#2a3142]/95 backdrop-blur-md border border-[#3d4555] \r
                    shadow-lg flex items-center justify-center hover:bg-[#353d4f]/95 transition-colors cursor-pointer`,title:"Find my location",children:C.jsx(vC,{className:"w-5 h-5 text-[#e8eaed]"})})}),x&&C.jsx("div",{className:"fixed z-[2000] pointer-events-auto",style:{left:`${x.position.x}px`,top:`${x.position.y-320}px`,transform:"translateX(-50%)",transformOrigin:"center bottom"},onMouseEnter:()=>{T.current&&clearTimeout(T.current)},onMouseLeave:()=>{T.current=setTimeout(()=>{k(null)},100)},children:C.jsx("div",{className:"memory-tooltip-container-custom",children:C.jsx("div",{className:"memory-tooltip",dangerouslySetInnerHTML:{__html:AN(x.memory)}})})}),C.jsx("style",{children:`
        .custom-memory-marker {
          background: transparent !important;
          border: none !important;
        }
        .leaflet-container {
          background: hsl(215, 28%, 10%) !important;
          font-family: 'Playfair Display', serif;
        }
        .leaflet-tile-pane {
          transition: opacity 0.15s ease-out;
        }
        .leaflet-zoom-anim .leaflet-zoom-animated {
          transition: transform 0.25s cubic-bezier(0.25, 0.1, 0.25, 1) !important;
        }
        .leaflet-control-attribution {
          background: rgba(42, 49, 66, 0.9) !important;
          backdrop-filter: blur(8px);
          font-size: 10px;
          padding: 2px 8px;
          border-radius: 4px;
          margin: 8px !important;
          color: #8b95a5 !important;
        }
        .leaflet-control-attribution a {
          color: #8b95a5 !important;
        }
        .leaflet-control-zoom {
          border: none !important;
          box-shadow: 0 4px 20px rgba(0,0,0,0.3) !important;
          border-radius: 12px !important;
          overflow: hidden;
          margin-top: 96px !important;
          margin-left: 16px !important;
          background: transparent !important;
        }
        .leaflet-control-zoom a {
          background: rgba(42, 49, 66, 0.95) !important;
          color: #e8eaed !important;
          border: 1px solid #3d4555 !important;
          border-bottom: none !important;
          width: 40px !important;
          height: 40px !important;
          line-height: 38px !important;
          font-size: 20px !important;
          font-weight: 300 !important;
          transition: all 0.15s ease;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
        }
        .leaflet-control-zoom a:first-child {
          border-radius: 12px 12px 0 0 !important;
          border-bottom: none !important;
        }
        .leaflet-control-zoom a:last-child {
          border-radius: 0 0 12px 12px !important;
          border-top: 1px solid #3d4555 !important;
        }
        .leaflet-control-zoom a:hover {
          background: rgba(53, 61, 79, 0.95) !important;
          color: #fff !important;
        }
        .leaflet-control-zoom a:active {
          background: rgba(64, 72, 89, 0.95) !important;
        }
        
        /* Layer Control Styles */
        .leaflet-control-layers {
          background: rgba(42, 49, 66, 0.95) !important;
          border: 1px solid #3d4555 !important;
          border-radius: 12px !important;
          box-shadow: 0 4px 20px rgba(0,0,0,0.3) !important;
          backdrop-filter: blur(12px);
          color: #e8eaed !important;
          font-family: 'Playfair Display', serif !important;
          margin-top: 16px !important;
          margin-right: 16px !important;
        }
        .leaflet-control-layers-toggle {
          background: rgba(42, 49, 66, 0.95) !important;
          border-radius: 8px !important;
          width: 36px !important;
          height: 36px !important;
        }
        .leaflet-control-layers-list {
          color: #e8eaed !important;
          font-size: 13px !important;
        }
        .leaflet-control-layers label {
          color: #e8eaed !important;
          font-family: 'Playfair Display', serif !important;
        }
        .leaflet-control-layers input[type="radio"] {
          margin-right: 8px !important;
        }
        
        /* Custom Cluster Styles with Intensity */
        .custom-cluster-icon {
          background: transparent !important;
          border: none !important;
        }
        .cluster-marker {
          transition: all 0.3s ease;
        }
        .cluster-marker:hover {
          transform: scale(1.15);
        }
        .cluster-low:hover {
          box-shadow: 0 6px 25px rgba(148, 163, 184, 0.5) !important;
        }
        .cluster-medium:hover {
          box-shadow: 0 6px 25px rgba(102, 126, 234, 0.6) !important;
        }
        .cluster-high:hover {
          box-shadow: 0 6px 25px rgba(240, 147, 251, 0.7) !important;
        }
        .cluster-very-high:hover {
          box-shadow: 0 6px 25px rgba(79, 172, 254, 0.8) !important;
        }

        
        /* Memory Tooltip Styles */
        .memory-tooltip-container {
          background: rgba(42, 49, 66, 0.98) !important;
          border: 1px solid #3d4555 !important;
          border-radius: 12px !important;
          padding: 0 !important;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4) !important;
          backdrop-filter: blur(12px);
        }
        .memory-tooltip-container::before {
          border-top-color: rgba(42, 49, 66, 0.98) !important;
        }
        .leaflet-tooltip-top:before {
          border-top-color: #3d4555 !important;
        }
        .memory-tooltip-container-custom {
          background: rgba(42, 49, 66, 0.98);
          border: 1px solid #3d4555;
          border-radius: 12px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
          backdrop-filter: blur(12px);
          position: relative;
        }
        .memory-tooltip-container-custom::before {
          content: '';
          position: absolute;
          bottom: -8px;
          left: 50%;
          transform: translateX(-50%);
          width: 0;
          height: 0;
          border-left: 8px solid transparent;
          border-right: 8px solid transparent;
          border-top: 8px solid #3d4555;
          z-index: 1;
        }
        .memory-tooltip-container-custom::after {
          content: '';
          position: absolute;
          bottom: -7px;
          left: 50%;
          transform: translateX(-50%);
          width: 0;
          height: 0;
          border-left: 7px solid transparent;
          border-right: 7px solid transparent;
          border-top: 7px solid rgba(42, 49, 66, 0.98);
          z-index: 2;
        }
        .memory-tooltip {
          padding: 28px 32px 36px 32px; /* Much more padding for bigger tooltip */
          min-width: 280px;
          max-width: 420px;
          height: 280px; /* Much taller */
          display: flex;
          flex-direction: column;
        }
        .memory-tooltip-header {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-bottom: 8px;
        }
        .memory-tooltip-category {
          font-size: 14px;
          color: #e8eaed;
          font-family: 'Playfair Display', serif;
        }
        .memory-tooltip-public {
          font-size: 10px;
          color: #8b95a5;
          background: rgba(139, 149, 165, 0.2);
          padding: 2px 6px;
          border-radius: 4px;
        }
        .memory-tooltip-title {
          font-size: 16px;
          font-weight: 600;
          color: #e8eaed;
          font-family: 'Playfair Display', serif;
          margin-bottom: 12px;
          line-height: 1.4;
        }
        .memory-tooltip-desc-container {
          max-height: 140px; /* Even more space for description */
          overflow-y: auto;
          margin-bottom: 16px; /* More space before meta */
          padding-right: 6px;
          flex: 1; /* Take remaining space */
        }
        .memory-tooltip-desc {
          font-size: 14px;
          color: #c4c9d4;
          line-height: 1.5;
          font-family: 'Playfair Display', serif;
          word-wrap: break-word;
        }
        .memory-tooltip-desc-container::-webkit-scrollbar {
          width: 4px;
        }
        .memory-tooltip-desc-container::-webkit-scrollbar-track {
          background: rgba(139, 149, 165, 0.1);
          border-radius: 2px;
        }
        .memory-tooltip-desc-container::-webkit-scrollbar-thumb {
          background: rgba(139, 149, 165, 0.4);
          border-radius: 2px;
        }
        .memory-tooltip-desc-container::-webkit-scrollbar-thumb:hover {
          background: rgba(139, 149, 165, 0.6);
        }
        .memory-tooltip-meta {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          font-size: 13px;
          color: #8b95a5;
          font-family: 'Playfair Display', serif;
          margin-top: auto; /* Push to bottom */
          padding-top: 12px;
          padding-bottom: 6px;
        }
      `})]})},MN=[{color:"#F9A8D4",label:"Love",emoji:""},{color:"#FCA5A5",label:"Passion",emoji:""},{color:"#FBBF24",label:"Joy",emoji:""},{color:"#A7F3D0",label:"Peace",emoji:""},{color:"#93C5FD",label:"Calm",emoji:""},{color:"#C4B5FD",label:"Dream",emoji:""},{color:"#9CA3AF",label:"Memory",emoji:""},{color:"#EF4444",label:"Heartbreak",emoji:""}],Tb=({selectedColor:t,onColorSelect:e})=>C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"block text-sm font-playfair text-[#c4c9d4]",children:"How does this memory feel?"}),C.jsx("div",{className:"grid grid-cols-4 gap-2",children:MN.map(n=>C.jsxs("button",{type:"button",onClick:()=>e(n.color),className:`flex flex-col items-center gap-1 p-2 rounded-lg border transition-all
                       ${t===n.color?"border-[#e8eaed] bg-[#353d4f]":"border-[#3d4555] hover:border-[#4d5565] bg-[#1e2433]"}`,children:[C.jsx("div",{className:"w-6 h-6 rounded-full shadow-lg",style:{backgroundColor:n.color,boxShadow:`0 0 12px ${n.color}80`}}),C.jsxs("span",{className:"text-[10px] text-[#8b95a5] font-playfair truncate w-full text-center",children:[n.emoji," ",n.label]})]},n.color))})]}),Lb=({memory:t,onSave:e,onClose:n})=>{const[r,o]=P.useState(t.title),[i,a]=P.useState(t.description||""),[u,c]=P.useState(t.color),[h,p]=P.useState(t.is_public),m=g=>{g.preventDefault(),e(t.id,{title:r.trim()||"Memory",description:i.trim(),color:u,is_public:h})};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-[1010] bg-black/50 backdrop-blur-sm",onClick:n}),C.jsx("div",{className:"fixed inset-0 z-[1011] flex items-center justify-center p-4 pointer-events-none",children:C.jsxs("div",{className:"bg-[#2a3142] border border-[#3d4555] rounded-xl p-4 w-full max-w-lg shadow-2xl animate-fade-in pointer-events-auto",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("h2",{className:"text-lg font-playfair text-[#e8eaed]",children:"Edit Memory"}),C.jsx("button",{onClick:n,className:"p-1 text-[#8b95a5] hover:text-[#e8eaed] transition-colors",children:C.jsx(bl,{size:18})})]}),C.jsxs("form",{onSubmit:m,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-playfair text-[#c4c9d4] mb-1",children:"Title"}),C.jsx("input",{type:"text",value:r,onChange:g=>o(g.target.value),placeholder:"Memory title...",className:`w-full px-3 py-2 bg-[#1e2433] border border-[#3d4555] rounded-lg \r
                         text-[#e8eaed] font-playfair placeholder:text-[#8b95a5] text-sm\r
                         focus:outline-none focus:border-[#6b7a94] transition-colors`})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-playfair text-[#c4c9d4] mb-1",children:"Description"}),C.jsx("textarea",{value:i,onChange:g=>a(g.target.value),placeholder:"What happened here...",rows:3,className:`w-full px-3 py-2 bg-[#1e2433] border border-[#3d4555] rounded-lg \r
                             text-[#e8eaed] font-playfair placeholder:text-[#8b95a5] text-sm\r
                             focus:outline-none focus:border-[#6b7a94] transition-colors resize-none`})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{type:"button",onClick:()=>p(!h),className:`w-10 h-5 rounded-full transition-colors relative ${h?"bg-[#6b7a94]":"bg-[#3d4555]"}`,children:C.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full bg-[#e8eaed] transition-all ${h?"left-5":"left-0.5"}`})}),C.jsx("span",{className:"text-xs font-playfair text-[#e8eaed]",children:"Make public"})]})]}),C.jsx("div",{className:"space-y-3",children:C.jsx(Tb,{selectedColor:u,onColorSelect:c})})]}),C.jsx("button",{type:"submit",className:`w-full py-2.5 bg-[#e8eaed] text-[#1e2433] font-playfair font-medium rounded-lg\r
                       hover:bg-[#d4d7dd] transition-colors text-sm`,children:"Save Changes"})]})]})})]})},IN=({memory:t,onClose:e,onDelete:n,onUpdate:r})=>{const[o,i]=P.useState(!1),{user:a}=$o(),u=(a==null?void 0:a.id)===t.user_id,c=m=>new Date(m).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),h=(m,g)=>{const v=m>=0?"N":"S",w=g>=0?"E":"W";return`${Math.abs(m).toFixed(4)}${v}, ${Math.abs(g).toFixed(4)}${w}`},p=(m,g)=>{r(m,g),i(!1)};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-[1005] bg-black/60",onClick:e}),C.jsx("div",{className:"fixed inset-0 z-[1006] flex items-center justify-center p-4 pointer-events-none",children:C.jsx("div",{className:"w-full max-w-lg pointer-events-auto animate-scale-in",children:C.jsxs("div",{className:"bg-[#1e2433] rounded-2xl shadow-2xl overflow-hidden border border-[#2d3548]",children:[t.photo_url&&C.jsx("div",{className:"relative h-52",children:C.jsx("img",{src:t.photo_url,alt:t.title,className:"w-full h-full object-cover"})}),C.jsxs("div",{className:"p-7",children:[C.jsxs("div",{className:"flex items-start justify-between mb-4",children:[C.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[C.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:t.color,boxShadow:`0 0 12px ${t.color}60`}}),C.jsx("h3",{className:"text-xl font-playfair text-white font-semibold truncate",children:t.title})]}),C.jsx("span",{className:"flex items-center gap-1.5 text-xs text-[#a0a8b8] bg-[#2a3142] px-2.5 py-1.5 rounded-lg flex-shrink-0 ml-3",children:t.is_public?C.jsxs(C.Fragment,{children:[C.jsx(ex,{size:11}),"Public"]}):C.jsxs(C.Fragment,{children:[C.jsx(tx,{size:11}),"Private"]})})]}),t.description&&C.jsx("div",{className:"max-h-32 overflow-y-auto mb-5",children:C.jsx("p",{className:"text-[#a0a8b8] font-playfair text-base mb-0 leading-relaxed font-medium",children:t.description})}),C.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#6b7a94] mb-6 pb-6 border-b border-[#2d3548]",children:[C.jsx("span",{className:"font-playfair font-medium",children:c(t.created_at)}),C.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[C.jsx(Ra,{size:13}),h(t.latitude,t.longitude)]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[u&&C.jsxs("button",{onClick:()=>i(!0),className:`flex-1 flex items-center justify-center gap-2 py-3.5 \r
                             bg-[#2a3142] hover:bg-[#353d4f] text-white \r
                             font-playfair text-base font-medium rounded-xl transition-colors`,children:[C.jsx(nx,{size:15}),"Edit"]}),u&&C.jsx("button",{onClick:()=>{window.confirm("Delete this memory?")&&n(t.id)},className:`flex items-center justify-center py-3.5 px-4 \r
                             bg-[#2a3142] hover:bg-red-500/20 text-[#6b7a94] hover:text-red-400\r
                             rounded-xl transition-colors`,children:C.jsx(rx,{size:15})}),C.jsxs("button",{onClick:e,className:`flex-1 flex items-center justify-center gap-2 py-3.5 \r
                           bg-white hover:bg-gray-100 text-[#1e2433] \r
                           font-playfair text-base font-semibold rounded-xl transition-colors`,children:[C.jsx(fC,{size:15}),"Done"]})]})]})]})})}),o&&C.jsx(Lb,{memory:t,onSave:p,onClose:()=>i(!1)})]})},jN=({onSubmit:t,onClose:e,coordinates:n,position:r})=>{var U;const[o,i]=P.useState(""),[a,u]=P.useState("me"),[c,h]=P.useState(!1),[p,m]=P.useState(!1),[g,v]=P.useState("memory"),[w,_]=P.useState(new Date().getDate().toString()),[E,b]=P.useState((new Date().getMonth()+1).toString()),[x,k]=P.useState(new Date().getFullYear().toString()),[T,R]=P.useState(!1),[A,j]=P.useState("#F9A8D4"),[I,F]=P.useState(null),[$,K]=P.useState(null),[H,he]=P.useState(!1),V=P.useRef(null),{user:ge}=$o();P.useEffect(()=>{u(T?"public":"me")},[T]);const te=z=>{var Q;const Y=(Q=z.target.files)==null?void 0:Q[0];if(Y){if(Y.size>5*1024*1024){Fi.error("Photo must be less than 5MB");return}F(Y);const oe=new FileReader;oe.onloadend=()=>{K(oe.result)},oe.readAsDataURL(Y)}},le=async()=>!I||!ge?null:new Promise(z=>{const Y=new FileReader;Y.onloadend=()=>{z(Y.result)},Y.readAsDataURL(I)}),M=async z=>{z.preventDefault(),he(!0);let Y=null;I&&(Y=await le());const Q=new Date(parseInt(x)||new Date().getFullYear(),(parseInt(E)||new Date().getMonth()+1)-1,parseInt(w)||new Date().getDate());t({title:o.slice(0,50)||"Memory",description:o,latitude:n.lat,longitude:n.lng,color:A,is_public:T,photo_url:Y,category:g,created_at:Q.toISOString()}),he(!1)};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-[1000] bg-black/50 backdrop-blur-sm",onClick:e}),C.jsx("div",{className:"fixed inset-0 z-[1001] flex items-center justify-center p-4 pointer-events-none",children:C.jsx("div",{className:"bg-[#2a3142] border border-[#3d4555] rounded-xl p-4 w-full max-w-2xl shadow-2xl animate-fade-in pointer-events-auto",children:C.jsxs("form",{onSubmit:M,className:"space-y-4",children:[C.jsx("textarea",{value:o,onChange:z=>i(z.target.value),placeholder:"Your memory...",rows:3,className:`w-full px-3 py-2 bg-[#1e2433] border border-[#3d4555] rounded-lg \r
                       text-[#e8eaed] font-playfair placeholder:text-[#8b95a5] text-sm\r
                       focus:outline-none focus:border-[#6b7a94] transition-colors resize-none`,autoFocus:!0}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"relative",children:[C.jsxs("button",{type:"button",onClick:()=>h(!c),className:`w-full px-3 py-2 bg-[#1e2433] border border-[#3d4555] rounded-lg \r
                             text-[#e8eaed] font-playfair text-left flex items-center justify-between text-sm\r
                             focus:outline-none focus:border-[#6b7a94] transition-colors`,children:[C.jsx("span",{children:a==="me"?"For me":"Public"}),C.jsx(Rv,{size:16,className:`text-[#8b95a5] transition-transform ${c?"rotate-180":""}`})]}),c&&C.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-[#2a3142] border border-[#3d4555] rounded-lg shadow-xl z-10 overflow-hidden",children:[C.jsx("button",{type:"button",onClick:()=>{u("me"),R(!1),h(!1)},className:"w-full px-3 py-2 text-left font-playfair text-[#e8eaed] hover:bg-[#353d4f] transition-colors text-sm",children:"For me"}),C.jsx("button",{type:"button",onClick:()=>{u("public"),R(!0),h(!1)},className:"w-full px-3 py-2 text-left font-playfair text-[#e8eaed] hover:bg-[#353d4f] transition-colors text-sm",children:"Public"})]})]}),C.jsxs("div",{className:"relative",children:[C.jsx("label",{className:"block text-xs font-playfair text-[#c4c9d4] mb-1",children:"Type of memory"}),C.jsxs("button",{type:"button",onClick:()=>m(!p),className:`w-full px-3 py-2 bg-[#1e2433] border border-[#3d4555] rounded-lg \r
                             text-[#e8eaed] font-playfair text-left flex items-center justify-between text-sm\r
                             focus:outline-none focus:border-[#6b7a94] transition-colors`,children:[C.jsx("span",{children:((U=Hf.find(z=>z.value===g))==null?void 0:U.label)||"Memory"}),C.jsx(Rv,{size:16,className:`text-[#8b95a5] transition-transform ${p?"rotate-180":""}`})]}),p&&C.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-[#2a3142] border border-[#3d4555] rounded-lg shadow-xl z-10 overflow-hidden max-h-32 overflow-y-auto",children:Hf.map(z=>C.jsx("button",{type:"button",onClick:()=>{v(z.value),m(!1)},className:`w-full px-3 py-2 text-left font-playfair text-[#e8eaed] hover:bg-[#353d4f] transition-colors text-sm
                                    ${g===z.value?"bg-[#353d4f]":""}`,children:z.label},z.value))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-playfair text-[#c4c9d4] mb-1",children:"When did this happen?"}),C.jsxs("div",{className:"flex gap-1",children:[C.jsx("input",{type:"text",value:w,onChange:z=>_(z.target.value),placeholder:"DD",maxLength:2,className:`flex-1 min-w-0 px-2 py-1.5 bg-[#1e2433] border border-[#3d4555] rounded-lg \r
                               text-[#e8eaed] font-playfair text-center text-sm\r
                               focus:outline-none focus:border-[#6b7a94] transition-colors`}),C.jsx("input",{type:"text",value:E,onChange:z=>b(z.target.value),placeholder:"MM",maxLength:2,className:`flex-1 min-w-0 px-2 py-1.5 bg-[#1e2433] border border-[#3d4555] rounded-lg \r
                               text-[#e8eaed] font-playfair text-center text-sm\r
                               focus:outline-none focus:border-[#6b7a94] transition-colors`}),C.jsx("input",{type:"text",value:x,onChange:z=>k(z.target.value),placeholder:"YYYY",maxLength:4,className:`flex-1 min-w-0 px-2 py-1.5 bg-[#1e2433] border border-[#3d4555] rounded-lg \r
                               text-[#e8eaed] font-playfair text-center text-sm\r
                               focus:outline-none focus:border-[#6b7a94] transition-colors`})]})]})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsx(Tb,{selectedColor:A,onColorSelect:j}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-playfair text-[#c4c9d4] mb-1",children:"Add a photo (optional)"}),C.jsx("input",{type:"file",ref:V,onChange:te,accept:"image/*",className:"hidden"}),$?C.jsxs("div",{className:"relative",children:[C.jsx("img",{src:$,alt:"Preview",className:"w-full h-20 object-cover rounded-lg border border-[#3d4555]"}),C.jsx("button",{type:"button",onClick:()=>{F(null),K(null)},className:"absolute top-1 right-1 p-1 bg-[#1e2433]/80 rounded-full text-[#e8eaed] hover:bg-[#2a3142]",children:C.jsx(bl,{size:12})})]}):C.jsxs("button",{type:"button",onClick:()=>{var z;return(z=V.current)==null?void 0:z.click()},className:`w-full py-3 border-2 border-dashed border-[#3d4555] rounded-lg \r
                               text-[#8b95a5] hover:border-[#6b7a94] hover:text-[#e8eaed] transition-colors\r
                               flex items-center justify-center gap-2`,children:[C.jsx(pC,{size:16}),C.jsx("span",{className:"font-playfair text-xs",children:"Choose photo"})]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{type:"button",onClick:()=>{const z=!T;R(z),u(z?"public":"me")},className:`w-10 h-5 rounded-full transition-colors relative flex-shrink-0 ${T?"bg-[#6b7a94]":"bg-[#3d4555]"}`,children:C.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full bg-[#e8eaed] transition-all ${T?"left-5":"left-0.5"}`})}),C.jsx("span",{className:"text-xs font-playfair text-[#e8eaed]",children:"Public"})]})]})]}),C.jsx("button",{type:"submit",disabled:H,className:`w-full py-2.5 bg-[#e8eaed] text-[#1e2433] font-playfair font-medium rounded-lg\r
                       hover:bg-[#d4d7dd] transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm`,children:H?"Uploading...":"Submit Memory"}),C.jsx("p",{className:"text-xs text-[#8b95a5] font-playfair italic text-center",children:"Note: You can edit or delete this memory anytime afterwards from your profile."})]})})})]})},DN=({memories:t,isOpen:e,onClose:n,onMemoryClick:r,onDeleteMemory:o,onUpdateMemory:i})=>{const[a,u]=P.useState(""),[c,h]=P.useState(null),{user:p}=$o(),m=P.useMemo(()=>{if(!a.trim())return t;const w=a.toLowerCase();return t.filter(_=>{var E;return _.title.toLowerCase().includes(w)||(((E=_.description)==null?void 0:E.toLowerCase().includes(w))??!1)})},[t,a]),g=w=>new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),v=(w,_)=>{const E=w>=0?"N":"S",b=_>=0?"E":"W";return`${Math.abs(w).toFixed(4)}${E}, ${Math.abs(_).toFixed(4)}${b}`};return C.jsxs(C.Fragment,{children:[e&&C.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-[1002]",onClick:n}),C.jsxs("div",{className:`fixed top-0 right-0 h-full w-full max-w-md bg-[#1e2433] border-l border-[#3d4555] 
                   z-[1003] transform transition-transform duration-300 ease-out shadow-2xl
                   ${e?"translate-x-0":"translate-x-full"}`,children:[C.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#3d4555]",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-[#2a3142] flex items-center justify-center",children:C.jsx(Ra,{size:20,className:"text-[#8b95a5]"})}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-xl font-playfair text-[#e8eaed]",children:"My Memories"}),C.jsxs("p",{className:"text-sm text-[#8b95a5]",children:[t.length," ",t.length===1?"memory":"memories"]})]})]}),C.jsx("button",{onClick:n,className:`w-10 h-10 rounded-full bg-[#2a3142] flex items-center justify-center\r
                     text-[#8b95a5] hover:text-[#e8eaed] hover:bg-[#353d4f] transition-all`,children:C.jsx(bl,{size:20})})]}),C.jsx("div",{className:"px-4 pt-4 pb-2",children:C.jsxs("div",{className:"relative",children:[C.jsx(kf,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#6b7a94]"}),C.jsx("input",{type:"text",placeholder:"Search memories...",value:a,onChange:w=>u(w.target.value),className:`w-full pl-9 pr-4 py-2.5 bg-[#2a3142] border border-[#3d4555] rounded-xl\r
                       text-[#e8eaed] placeholder:text-[#6b7a94] text-sm font-playfair\r
                       focus:outline-none focus:border-[#4d5565] transition-colors`})]})}),C.jsx("div",{className:"overflow-y-auto h-[calc(100%-160px)] p-4 space-y-3",children:m.length===0?C.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[C.jsx("div",{className:"w-16 h-16 rounded-full bg-[#2a3142] flex items-center justify-center mb-4",children:C.jsx(Ra,{size:32,className:"text-[#8b95a5]"})}),C.jsx("p",{className:"text-[#8b95a5] font-playfair",children:a?"No memories found":"No memories yet"}),C.jsx("p",{className:"text-sm text-[#6b7280] mt-1",children:a?"Try a different search term":"Click the pin button to add your first memory"})]}):m.map(w=>C.jsxs("div",{className:`bg-[#2a3142] rounded-xl p-4 border border-[#3d4555] \r
                         hover:border-[#4d5565] transition-all cursor-pointer group`,onClick:()=>{r(w),n()},children:[C.jsxs("div",{className:"flex items-start justify-between mb-2",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:w.color||"#8B9DC3"}}),C.jsx("h3",{className:"text-[#e8eaed] font-playfair font-medium line-clamp-1",children:w.title})]}),C.jsxs("div",{className:"flex items-center gap-1",children:[w.is_public?C.jsx(ex,{size:14,className:"text-[#6b7a94]"}):C.jsx(tx,{size:14,className:"text-[#6b7a94]"}),(p==null?void 0:p.id)===w.user_id&&C.jsx("button",{onClick:_=>{_.stopPropagation(),h(w)},className:`p-1 text-[#6b7a94] hover:text-blue-400 transition-colors \r
                                 opacity-0 group-hover:opacity-100`,title:"Edit memory",children:C.jsx(nx,{size:14})}),(p==null?void 0:p.id)===w.user_id&&C.jsx("button",{onClick:_=>{_.stopPropagation(),window.confirm("Delete this memory?")&&o(w.id)},className:`p-1 text-[#6b7a94] hover:text-red-400 transition-colors \r
                                 opacity-0 group-hover:opacity-100`,title:"Delete memory",children:C.jsx(rx,{size:14})})]})]}),w.photo_url&&C.jsx("div",{className:"mb-3 -mx-1",children:C.jsx("img",{src:w.photo_url,alt:w.title,className:"w-full h-24 object-cover rounded-lg"})}),w.description&&C.jsx("p",{className:"text-[#8b95a5] text-sm font-playfair italic mb-3 line-clamp-2",children:w.description}),C.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-[#6b7a94]",children:[C.jsxs("span",{className:"flex items-center gap-1",children:[C.jsx(hC,{size:12}),g(w.created_at)]}),C.jsxs("span",{className:"flex items-center gap-1",children:[C.jsx(Ra,{size:12}),v(w.latitude,w.longitude)]})]})]},w.id))})]}),c&&C.jsx(Lb,{memory:c,onSave:(w,_)=>{i(w,_),h(null)},onClose:()=>h(null)})]})},zN=()=>{const[t,e]=P.useState(!0),[n,r]=P.useState(null),[o,i]=P.useState(!1),[a,u]=P.useState(!1),[c,h]=P.useState(null),[p,m]=P.useState(null),g=Yc(),{user:v,signOut:w,loading:_}=$o(),{memories:E,loading:b,createMemory:x,deleteMemory:k,updateMemory:T}=b2();P.useEffect(()=>{const $=setTimeout(()=>{e(!1)},800);return()=>clearTimeout($)},[]);const R=($,K)=>{if(!v){g("/auth");return}m({coords:$,position:K}),i(!1),r(null)},A=async $=>{await x($),m(null)},j=async $=>{await k($),r(null)},I=async()=>{await w(),g("/")},F=()=>{if(!v){g("/auth");return}i(!o),m(null),r(null)};return t||_?C.jsx(w2,{message:"Setting your location"}):C.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0",children:C.jsx(NN,{memories:E,onMemoryClick:r,onMapClick:R,selectedMemory:n,isPlacementMode:o,flyToLocation:c})}),C.jsxs("div",{className:"absolute top-4 left-4 right-4 z-[1001] flex justify-between items-start pointer-events-none",children:[C.jsxs("button",{onClick:()=>g("/"),className:`flex items-center gap-3 px-4 py-2.5 bg-[#2a3142]/95 backdrop-blur-md rounded-xl \r
                   border border-[#3d4555] shadow-lg hover:bg-[#353d4f] transition-all pointer-events-auto`,children:[C.jsx(ed,{variant:"full",className:"w-7 h-7"}),C.jsx("span",{className:"text-[#e8eaed] text-sm font-playfair tracking-wide",children:"AMOM"})]}),C.jsx("div",{className:"flex items-center gap-2 pointer-events-auto",children:v?C.jsxs("button",{onClick:I,className:`flex items-center gap-2 px-4 py-2.5 bg-[#2a3142]/95 backdrop-blur-md \r
                       border border-[#3d4555] rounded-xl text-[#e8eaed] font-playfair \r
                       text-sm hover:bg-[#353d4f] shadow-lg transition-all`,children:[C.jsx(gC,{size:16}),C.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]}):C.jsxs("button",{onClick:()=>g("/auth"),className:`flex items-center gap-2 px-4 py-2.5 bg-[#2a3142]/95 backdrop-blur-md \r
                       border border-[#3d4555] rounded-xl text-[#e8eaed] font-playfair \r
                       text-sm hover:bg-[#353d4f] shadow-lg transition-all`,children:[C.jsx(yC,{size:16}),C.jsx("span",{className:"hidden sm:inline",children:"Sign In"})]})})]}),C.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-[1001] pointer-events-none",children:[C.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 bg-[#2a3142]/95 backdrop-blur-md rounded-2xl \r
                      border border-[#3d4555] shadow-xl pointer-events-auto`,children:[C.jsxs("button",{onClick:F,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-playfair text-sm transition-all
                       ${o?"bg-rose-500 text-white":"bg-[#353d4f] text-[#e8eaed] hover:bg-[#404859]"}`,title:o?"Cancel":"Add memory",children:[C.jsx(Ra,{size:18,className:o?"animate-pulse":""}),C.jsx("span",{children:o?"Cancel":"Add Memory"})]}),C.jsx("div",{className:"w-px h-8 bg-[#3d4555]"}),v&&C.jsxs("button",{onClick:()=>u(!0),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl bg-[#353d4f] \r
                       text-[#e8eaed] hover:bg-[#404859] font-playfair text-sm transition-all`,children:[C.jsx(mC,{size:18}),C.jsxs("span",{children:[E.length," ",E.length===1?"Memory":"Memories"]})]})]}),C.jsx("p",{className:"text-center text-xs text-[#8b95a5]/60 mt-3 font-playfair",children:o?"Click anywhere on the map to place your memory":"Drag to explore  Scroll to zoom"})]}),n&&C.jsx(IN,{memory:n,onClose:()=>r(null),onDelete:$=>{window.confirm("Are you sure you want to delete this memory?")&&j($)},onUpdate:async($,K)=>{await T($,K);const H=E.find(he=>he.id===$);H&&r({...H,...K})}}),p&&C.jsx(jN,{onSubmit:A,onClose:()=>m(null),coordinates:p.coords,position:p.position}),C.jsx(DN,{memories:E,isOpen:a,onClose:()=>u(!1),onMemoryClick:$=>{r($),h({lat:$.latitude,lng:$.longitude,zoom:14})},onDeleteMemory:j,onUpdateMemory:async($,K)=>{await T($,K)}})]})};var Ae;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const i={};for(const a of o)i[a]=a;return i},t.getValidEnumValues=o=>{const i=t.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),a={};for(const u of i)a[u]=o[u];return t.objectValues(a)},t.objectValues=o=>t.objectKeys(o).map(function(i){return o[i]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const i=[];for(const a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.push(a);return i},t.find=(o,i)=>{for(const a of o)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function r(o,i=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(Ae||(Ae={}));var zy;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(zy||(zy={}));const ne=Ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Kr=t=>{switch(typeof t){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return Number.isNaN(t)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(t)?ne.array:t===null?ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ne.promise:typeof Map<"u"&&t instanceof Map?ne.map:typeof Set<"u"&&t instanceof Set?ne.set:typeof Date<"u"&&t instanceof Date?ne.date:ne.object;default:return ne.unknown}},q=Ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class cr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},o=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let u=r,c=0;for(;c<a.path.length;){const h=a.path[c];c===a.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(n(a))):u[h]=u[h]||{_errors:[]},u=u[h],c++}}};return o(this),r}static assert(e){if(!(e instanceof cr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const o of this.issues)if(o.path.length>0){const i=o.path[0];n[i]=n[i]||[],n[i].push(e(o))}else r.push(e(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}cr.create=t=>new cr(t);const qf=(t,e)=>{let n;switch(t.code){case q.invalid_type:t.received===ne.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ae.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ae.joinValues(t.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ae.joinValues(t.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${Ae.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ae.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ae.assertNever(t)}return{message:n}};let $N=qf;function BN(){return $N}const FN=t=>{const{data:e,path:n,errorMaps:r,issueData:o}=t,i=[...n,...o.path||[]],a={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let u="";const c=r.filter(h=>!!h).slice().reverse();for(const h of c)u=h(a,{data:e,defaultError:u}).message;return{...o,path:i,message:u}};function X(t,e){const n=BN(),r=FN({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===qf?void 0:qf].filter(o=>!!o)});t.common.issues.push(r)}class nn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const o of n){if(o.status==="aborted")return ve;o.status==="dirty"&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const o of n){const i=await o.key,a=await o.value;r.push({key:i,value:a})}return nn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const o of n){const{key:i,value:a}=o;if(i.status==="aborted"||a.status==="aborted")return ve;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||o.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const ve=Object.freeze({status:"aborted"}),wa=t=>({status:"dirty",value:t}),_n=t=>({status:"valid",value:t}),$y=t=>t.status==="aborted",By=t=>t.status==="dirty",To=t=>t.status==="valid",gc=t=>typeof Promise<"u"&&t instanceof Promise;var re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(re||(re={}));class ki{constructor(e,n,r,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Fy=(t,e)=>{if(To(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new cr(t.common.issues);return this._error=n,this._error}}};function Ee(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:o}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(a,u)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??r??u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:c??n??u.defaultError}},description:o}}class Le{get description(){return this._def.description}_getType(e){return Kr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Kr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new nn,ctx:{common:e.parent.common,data:e.data,parsedType:Kr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kr(e)},o=this._parseSync({data:e,path:r.path,parent:r});return Fy(r,o)}"~validate"(e){var r,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return To(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(o=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>To(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kr(e)},o=this._parse({data:e,path:r.path,parent:r}),i=await(gc(o)?o:Promise.resolve(o));return Fy(r,i)}refine(e,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,i)=>{const a=e(o),u=()=>i.addIssue({code:q.custom,...r(o)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,o)=>e(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(e){return new Oo({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return gi.create(this,this._def)}nullable(){return Ro.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return lr.create(this)}promise(){return wc.create(this,this._def)}or(e){return yc.create([this,e],this._def)}and(e){return _c.create(this,e,this._def)}transform(e){return new Oo({...Ee(this._def),schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Kf({...Ee(this._def),innerType:this,defaultValue:n,typeName:ye.ZodDefault})}brand(){return new cM({typeName:ye.ZodBranded,type:this,...Ee(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Yf({...Ee(this._def),innerType:this,catchValue:n,typeName:ye.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ym.create(this,e)}readonly(){return Qf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UN=/^c[^\s-]{8,}$/i,WN=/^[0-9a-z]+$/,ZN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,VN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,HN=/^[a-z0-9_-]{21}$/i,qN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,KN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,YN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sh;const QN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,JN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,XN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ob="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rM=new RegExp(`^${Ob}$`);function Rb(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function iM(t){return new RegExp(`^${Rb(t)}$`)}function sM(t){let e=`${Ob}T${Rb(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function oM(t,e){return!!((e==="v4"||!e)&&QN.test(t)||(e==="v6"||!e)&&XN.test(t))}function aM(t,e){if(!qN.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function lM(t,e){return!!((e==="v4"||!e)&&JN.test(t)||(e==="v6"||!e)&&eM.test(t))}class ai extends Le{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ne.string){const i=this._getOrReturnCtx(e);return X(i,{code:q.invalid_type,expected:ne.string,received:i.parsedType}),ve}const r=new nn;let o;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(o=this._getOrReturnCtx(e,o),X(o,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(o=this._getOrReturnCtx(e,o),X(o,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,u=e.data.length<i.value;(a||u)&&(o=this._getOrReturnCtx(e,o),a?X(o,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&X(o,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")KN.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"email",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Sh||(Sh=new RegExp(YN,"u")),Sh.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"emoji",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")VN.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"uuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")HN.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"nanoid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")UN.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"cuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")WN.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"cuid2",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")ZN.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"ulid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),X(o,{validation:"url",code:q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"regex",code:q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(e,o),X(o,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(o=this._getOrReturnCtx(e,o),X(o,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(o=this._getOrReturnCtx(e,o),X(o,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?sM(i).test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{code:q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?rM.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{code:q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?iM(i).test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{code:q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?GN.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"duration",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?oM(e.data,i.version)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"ip",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?aM(e.data,i.alg)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"jwt",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?lM(e.data,i.version)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"cidr",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?tM.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"base64",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?nM.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"base64url",code:q.invalid_string,message:i.message}),r.dirty()):Ae.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(o=>e.test(o),{validation:n,code:q.invalid_string,...re.errToObj(r)})}_addCheck(e){return new ai({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...re.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...re.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...re.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...re.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...re.errToObj(n)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new ai({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ai({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ai({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ai.create=t=>new ai({checks:[],typeName:ye.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ee(t)});function uM(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,o=n>r?n:r,i=Number.parseInt(t.toFixed(o).replace(".","")),a=Number.parseInt(e.toFixed(o).replace(".",""));return i%a/10**o}class cl extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ne.number){const i=this._getOrReturnCtx(e);return X(i,{code:q.invalid_type,expected:ne.number,received:i.parsedType}),ve}let r;const o=new nn;for(const i of this._def.checks)i.kind==="int"?Ae.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),X(r,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?uM(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),X(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),X(r,{code:q.not_finite,message:i.message}),o.dirty()):Ae.assertNever(i);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,re.toString(n))}setLimit(e,n,r,o){return new cl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:re.toString(o)}]})}_addCheck(e){return new cl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ae.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}cl.create=t=>new cl({checks:[],typeName:ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class dl extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ne.bigint)return this._getInvalidInput(e);let r;const o=new nn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),X(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):Ae.assertNever(i);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return X(n,{code:q.invalid_type,expected:ne.bigint,received:n.parsedType}),ve}gte(e,n){return this.setLimit("min",e,!0,re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,re.toString(n))}setLimit(e,n,r,o){return new dl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:re.toString(o)}]})}_addCheck(e){return new dl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}dl.create=t=>new dl({checks:[],typeName:ye.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ee(t)});class Uy extends Le{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ne.boolean){const r=this._getOrReturnCtx(e);return X(r,{code:q.invalid_type,expected:ne.boolean,received:r.parsedType}),ve}return _n(e.data)}}Uy.create=t=>new Uy({typeName:ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class vc extends Le{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ne.date){const i=this._getOrReturnCtx(e);return X(i,{code:q.invalid_type,expected:ne.date,received:i.parsedType}),ve}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return X(i,{code:q.invalid_date}),ve}const r=new nn;let o;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(o=this._getOrReturnCtx(e,o),X(o,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(o=this._getOrReturnCtx(e,o),X(o,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ae.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}vc.create=t=>new vc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ye.ZodDate,...Ee(t)});class Wy extends Le{_parse(e){if(this._getType(e)!==ne.symbol){const r=this._getOrReturnCtx(e);return X(r,{code:q.invalid_type,expected:ne.symbol,received:r.parsedType}),ve}return _n(e.data)}}Wy.create=t=>new Wy({typeName:ye.ZodSymbol,...Ee(t)});class Zy extends Le{_parse(e){if(this._getType(e)!==ne.undefined){const r=this._getOrReturnCtx(e);return X(r,{code:q.invalid_type,expected:ne.undefined,received:r.parsedType}),ve}return _n(e.data)}}Zy.create=t=>new Zy({typeName:ye.ZodUndefined,...Ee(t)});class Vy extends Le{_parse(e){if(this._getType(e)!==ne.null){const r=this._getOrReturnCtx(e);return X(r,{code:q.invalid_type,expected:ne.null,received:r.parsedType}),ve}return _n(e.data)}}Vy.create=t=>new Vy({typeName:ye.ZodNull,...Ee(t)});class Hy extends Le{constructor(){super(...arguments),this._any=!0}_parse(e){return _n(e.data)}}Hy.create=t=>new Hy({typeName:ye.ZodAny,...Ee(t)});class qy extends Le{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _n(e.data)}}qy.create=t=>new qy({typeName:ye.ZodUnknown,...Ee(t)});class Si extends Le{_parse(e){const n=this._getOrReturnCtx(e);return X(n,{code:q.invalid_type,expected:ne.never,received:n.parsedType}),ve}}Si.create=t=>new Si({typeName:ye.ZodNever,...Ee(t)});class Gy extends Le{_parse(e){if(this._getType(e)!==ne.undefined){const r=this._getOrReturnCtx(e);return X(r,{code:q.invalid_type,expected:ne.void,received:r.parsedType}),ve}return _n(e.data)}}Gy.create=t=>new Gy({typeName:ye.ZodVoid,...Ee(t)});class lr extends Le{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),o=this._def;if(n.parsedType!==ne.array)return X(n,{code:q.invalid_type,expected:ne.array,received:n.parsedType}),ve;if(o.exactLength!==null){const a=n.data.length>o.exactLength.value,u=n.data.length<o.exactLength.value;(a||u)&&(X(n,{code:a?q.too_big:q.too_small,minimum:u?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(X(n,{code:q.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(X(n,{code:q.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,u)=>o.type._parseAsync(new ki(n,a,n.path,u)))).then(a=>nn.mergeArray(r,a));const i=[...n.data].map((a,u)=>o.type._parseSync(new ki(n,a,n.path,u)));return nn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new lr({...this._def,minLength:{value:e,message:re.toString(n)}})}max(e,n){return new lr({...this._def,maxLength:{value:e,message:re.toString(n)}})}length(e,n){return new lr({...this._def,exactLength:{value:e,message:re.toString(n)}})}nonempty(e){return this.min(1,e)}}lr.create=(t,e)=>new lr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray,...Ee(e)});function Fs(t){if(t instanceof Qe){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=gi.create(Fs(r))}return new Qe({...t._def,shape:()=>e})}else return t instanceof lr?new lr({...t._def,type:Fs(t.element)}):t instanceof gi?gi.create(Fs(t.unwrap())):t instanceof Ro?Ro.create(Fs(t.unwrap())):t instanceof hs?hs.create(t.items.map(e=>Fs(e))):t}class Qe extends Le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ae.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ne.object){const h=this._getOrReturnCtx(e);return X(h,{code:q.invalid_type,expected:ne.object,received:h.parsedType}),ve}const{status:r,ctx:o}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof Si&&this._def.unknownKeys==="strip"))for(const h in o.data)a.includes(h)||u.push(h);const c=[];for(const h of a){const p=i[h],m=o.data[h];c.push({key:{status:"valid",value:h},value:p._parse(new ki(o,m,o.path,h)),alwaysSet:h in o.data})}if(this._def.catchall instanceof Si){const h=this._def.unknownKeys;if(h==="passthrough")for(const p of u)c.push({key:{status:"valid",value:p},value:{status:"valid",value:o.data[p]}});else if(h==="strict")u.length>0&&(X(o,{code:q.unrecognized_keys,keys:u}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const p of u){const m=o.data[p];c.push({key:{status:"valid",value:p},value:h._parse(new ki(o,m,o.path,p)),alwaysSet:p in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const h=[];for(const p of c){const m=await p.key,g=await p.value;h.push({key:m,value:g,alwaysSet:p.alwaysSet})}return h}).then(h=>nn.mergeObjectSync(r,h)):nn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new Qe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a;const o=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:re.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Qe({...this._def,unknownKeys:"strip"})}passthrough(){return new Qe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ye.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Qe({...this._def,catchall:e})}pick(e){const n={};for(const r of Ae.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Qe({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ae.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Qe({...this._def,shape:()=>n})}deepPartial(){return Fs(this)}partial(e){const n={};for(const r of Ae.objectKeys(this.shape)){const o=this.shape[r];e&&!e[r]?n[r]=o:n[r]=o.optional()}return new Qe({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ae.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof gi;)i=i._def.innerType;n[r]=i}return new Qe({...this._def,shape:()=>n})}keyof(){return Ab(Ae.objectKeys(this.shape))}}Qe.create=(t,e)=>new Qe({shape:()=>t,unknownKeys:"strip",catchall:Si.create(),typeName:ye.ZodObject,...Ee(e)});Qe.strictCreate=(t,e)=>new Qe({shape:()=>t,unknownKeys:"strict",catchall:Si.create(),typeName:ye.ZodObject,...Ee(e)});Qe.lazycreate=(t,e)=>new Qe({shape:t,unknownKeys:"strip",catchall:Si.create(),typeName:ye.ZodObject,...Ee(e)});class yc extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function o(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const a=i.map(u=>new cr(u.ctx.common.issues));return X(n,{code:q.invalid_union,unionErrors:a}),ve}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(o);{let i;const a=[];for(const c of r){const h={...n,common:{...n.common,issues:[]},parent:null},p=c._parseSync({data:n.data,path:n.path,parent:h});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=a.map(c=>new cr(c));return X(n,{code:q.invalid_union,unionErrors:u}),ve}}get options(){return this._def.options}}yc.create=(t,e)=>new yc({options:t,typeName:ye.ZodUnion,...Ee(e)});function Gf(t,e){const n=Kr(t),r=Kr(e);if(t===e)return{valid:!0,data:t};if(n===ne.object&&r===ne.object){const o=Ae.objectKeys(e),i=Ae.objectKeys(t).filter(u=>o.indexOf(u)!==-1),a={...t,...e};for(const u of i){const c=Gf(t[u],e[u]);if(!c.valid)return{valid:!1};a[u]=c.data}return{valid:!0,data:a}}else if(n===ne.array&&r===ne.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let i=0;i<t.length;i++){const a=t[i],u=e[i],c=Gf(a,u);if(!c.valid)return{valid:!1};o.push(c.data)}return{valid:!0,data:o}}else return n===ne.date&&r===ne.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _c extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=(i,a)=>{if($y(i)||$y(a))return ve;const u=Gf(i.value,a.value);return u.valid?((By(i)||By(a))&&n.dirty(),{status:n.value,value:u.data}):(X(r,{code:q.invalid_intersection_types}),ve)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>o(i,a)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_c.create=(t,e,n)=>new _c({left:t,right:e,typeName:ye.ZodIntersection,...Ee(n)});class hs extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.array)return X(r,{code:q.invalid_type,expected:ne.array,received:r.parsedType}),ve;if(r.data.length<this._def.items.length)return X(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&r.data.length>this._def.items.length&&(X(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new ki(r,a,r.path,u)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>nn.mergeArray(n,a)):nn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new hs({...this._def,rest:e})}}hs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hs({items:t,typeName:ye.ZodTuple,rest:null,...Ee(e)})};class Ky extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.map)return X(r,{code:q.invalid_type,expected:ne.map,received:r.parsedType}),ve;const o=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([u,c],h)=>({key:o._parse(new ki(r,u,r.path,[h,"key"])),value:i._parse(new ki(r,c,r.path,[h,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of a){const h=await c.key,p=await c.value;if(h.status==="aborted"||p.status==="aborted")return ve;(h.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(h.value,p.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of a){const h=c.key,p=c.value;if(h.status==="aborted"||p.status==="aborted")return ve;(h.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(h.value,p.value)}return{status:n.value,value:u}}}}Ky.create=(t,e,n)=>new Ky({valueType:e,keyType:t,typeName:ye.ZodMap,...Ee(n)});class hl extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.set)return X(r,{code:q.invalid_type,expected:ne.set,received:r.parsedType}),ve;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(X(r,{code:q.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(X(r,{code:q.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const h=new Set;for(const p of c){if(p.status==="aborted")return ve;p.status==="dirty"&&n.dirty(),h.add(p.value)}return{status:n.value,value:h}}const u=[...r.data.values()].map((c,h)=>i._parse(new ki(r,c,r.path,h)));return r.common.async?Promise.all(u).then(c=>a(c)):a(u)}min(e,n){return new hl({...this._def,minSize:{value:e,message:re.toString(n)}})}max(e,n){return new hl({...this._def,maxSize:{value:e,message:re.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}hl.create=(t,e)=>new hl({valueType:t,minSize:null,maxSize:null,typeName:ye.ZodSet,...Ee(e)});class Yy extends Le{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yy.create=(t,e)=>new Yy({getter:t,typeName:ye.ZodLazy,...Ee(e)});class Qy extends Le{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return X(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}Qy.create=(t,e)=>new Qy({value:t,typeName:ye.ZodLiteral,...Ee(e)});function Ab(t,e){return new Lo({values:t,typeName:ye.ZodEnum,...Ee(e)})}class Lo extends Le{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return X(n,{expected:Ae.joinValues(r),received:n.parsedType,code:q.invalid_type}),ve}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return X(n,{received:n.data,code:q.invalid_enum_value,options:r}),ve}return _n(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Lo.create(e,{...this._def,...n})}exclude(e,n=this._def){return Lo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Lo.create=Ab;class Jy extends Le{_parse(e){const n=Ae.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ne.string&&r.parsedType!==ne.number){const o=Ae.objectValues(n);return X(r,{expected:Ae.joinValues(o),received:r.parsedType,code:q.invalid_type}),ve}if(this._cache||(this._cache=new Set(Ae.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=Ae.objectValues(n);return X(r,{received:r.data,code:q.invalid_enum_value,options:o}),ve}return _n(e.data)}get enum(){return this._def.values}}Jy.create=(t,e)=>new Jy({values:t,typeName:ye.ZodNativeEnum,...Ee(e)});class wc extends Le{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ne.promise&&n.common.async===!1)return X(n,{code:q.invalid_type,expected:ne.promise,received:n.parsedType}),ve;const r=n.parsedType===ne.promise?n.data:Promise.resolve(n.data);return _n(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wc.create=(t,e)=>new wc({type:t,typeName:ye.ZodPromise,...Ee(e)});class Oo extends Le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:a=>{X(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){const a=o.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async u=>{if(n.value==="aborted")return ve;const c=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return c.status==="aborted"?ve:c.status==="dirty"||n.value==="dirty"?wa(c.value):c});{if(n.value==="aborted")return ve;const u=this._def.schema._parseSync({data:a,path:r.path,parent:r});return u.status==="aborted"?ve:u.status==="dirty"||n.value==="dirty"?wa(u.value):u}}if(o.type==="refinement"){const a=u=>{const c=o.refinement(u,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?ve:(u.status==="dirty"&&n.dirty(),a(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?ve:(u.status==="dirty"&&n.dirty(),a(u.value).then(()=>({status:n.value,value:u.value}))))}if(o.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!To(a))return ve;const u=o.transform(a.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>To(a)?Promise.resolve(o.transform(a.value,i)).then(u=>({status:n.value,value:u})):ve);Ae.assertNever(o)}}Oo.create=(t,e,n)=>new Oo({schema:t,typeName:ye.ZodEffects,effect:e,...Ee(n)});Oo.createWithPreprocess=(t,e,n)=>new Oo({schema:e,effect:{type:"preprocess",transform:t},typeName:ye.ZodEffects,...Ee(n)});class gi extends Le{_parse(e){return this._getType(e)===ne.undefined?_n(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gi.create=(t,e)=>new gi({innerType:t,typeName:ye.ZodOptional,...Ee(e)});class Ro extends Le{_parse(e){return this._getType(e)===ne.null?_n(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ro.create=(t,e)=>new Ro({innerType:t,typeName:ye.ZodNullable,...Ee(e)});class Kf extends Le{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ne.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Kf.create=(t,e)=>new Kf({innerType:t,typeName:ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ee(e)});class Yf extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gc(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new cr(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new cr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Yf.create=(t,e)=>new Yf({innerType:t,typeName:ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ee(e)});class Xy extends Le{_parse(e){if(this._getType(e)!==ne.nan){const r=this._getOrReturnCtx(e);return X(r,{code:q.invalid_type,expected:ne.nan,received:r.parsedType}),ve}return{status:"valid",value:e.data}}}Xy.create=t=>new Xy({typeName:ye.ZodNaN,...Ee(t)});class cM extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ym extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ve:i.status==="dirty"?(n.dirty(),wa(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ve:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(e,n){return new ym({in:e,out:n,typeName:ye.ZodPipeline})}}class Qf extends Le{_parse(e){const n=this._def.innerType._parse(e),r=o=>(To(o)&&(o.value=Object.freeze(o.value)),o);return gc(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}Qf.create=(t,e)=>new Qf({innerType:t,typeName:ye.ZodReadonly,...Ee(e)});Qe.lazycreate;var ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ye||(ye={}));const Nb=ai.create;Si.create;lr.create;Qe.create;Qe.strictCreate;yc.create;_c.create;hs.create;Lo.create;wc.create;gi.create;Ro.create;const dM=Nb().email("Please enter a valid email"),hM=Nb().min(6,"Password must be at least 6 characters"),fM=()=>{const[t,e]=P.useState(!0),[n,r]=P.useState(""),[o,i]=P.useState(""),[a,u]=P.useState(""),[c,h]=P.useState(""),[p,m]=P.useState(!1),{signIn:g,signUp:v,user:w}=$o(),_=Yc();P.useEffect(()=>{w&&_("/map")},[w,_]);const E=()=>{try{return dM.parse(n),hM.parse(o),!0}catch(x){return x instanceof cr&&h(x.errors[0].message),!1}},b=async x=>{if(x.preventDefault(),h(""),!!E()){m(!0);try{if(t){const{error:k}=await g(n,o);k&&(k.message.includes("Invalid login")||k.message.includes("Invalid credentials")?h("Invalid email or password"):h(k.message))}else{const{data:k,error:T}=await v(n,o,a);T?T.message.includes("already registered")?h("An account with this email already exists"):h(T.message):k.user&&!k.session&&h("Please check your email to confirm your account, then try logging in.")}}catch(k){h(k.message||"An unexpected error occurred")}finally{m(!1)}}};return C.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",children:[C.jsx("button",{onClick:()=>_("/"),className:"mb-8 opacity-0 animate-fade-in",children:C.jsx(ed,{variant:"full",className:"w-16 h-16"})}),C.jsxs("div",{className:"w-full max-w-sm opacity-0 animate-fade-in",style:{animationDelay:"150ms"},children:[C.jsx("h1",{className:"text-2xl md:text-3xl font-playfair text-foreground text-center mb-2",children:t?"Welcome back":"Join AMOM"}),C.jsx("p",{className:"text-muted-foreground font-playfair italic text-center mb-8",children:t?"Sign in to continue":"Create your account"}),C.jsxs("form",{onSubmit:b,className:"space-y-4",children:[!t&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-playfair text-muted-foreground mb-1",children:"Username (optional)"}),C.jsx("input",{type:"text",value:a,onChange:x=>u(x.target.value),className:`w-full px-4 py-3 bg-secondary/50 border border-border rounded-sm \r
                         text-foreground font-playfair placeholder:text-muted-foreground/50\r
                         focus:outline-none focus:border-foreground/50 transition-colors`,placeholder:"Leave blank to be anonymous"}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1 font-playfair italic",children:`If left blank, you'll appear as "Anonymous" to other users`})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-playfair text-muted-foreground mb-1",children:"Email"}),C.jsx("input",{type:"email",value:n,onChange:x=>r(x.target.value),required:!0,className:`w-full px-4 py-3 bg-secondary/50 border border-border rounded-sm \r
                       text-foreground font-playfair placeholder:text-muted-foreground/50\r
                       focus:outline-none focus:border-foreground/50 transition-colors`,placeholder:"your@email.com"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-playfair text-muted-foreground mb-1",children:"Password"}),C.jsx("input",{type:"password",value:o,onChange:x=>i(x.target.value),required:!0,className:`w-full px-4 py-3 bg-secondary/50 border border-border rounded-sm \r
                       text-foreground font-playfair placeholder:text-muted-foreground/50\r
                       focus:outline-none focus:border-foreground/50 transition-colors`,placeholder:""})]}),c&&C.jsx("p",{className:"text-red-400 text-sm font-playfair text-center",children:c}),C.jsx("button",{type:"submit",disabled:p,className:"w-full amom-button disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Please wait...":t?"Sign In":"Create Account"})]}),C.jsxs("p",{className:"mt-6 text-center text-muted-foreground font-playfair text-sm",children:[t?"Don't have an account? ":"Already have an account? ",C.jsx("button",{onClick:()=>{e(!t),h("")},className:"text-foreground hover:underline",children:t?"Sign up":"Sign in"})]})]}),C.jsx("button",{onClick:()=>_("/"),className:"mt-8 text-muted-foreground font-playfair text-sm hover:text-foreground transition-colors opacity-0 animate-fade-in",style:{animationDelay:"300ms"},children:" Return to home"})]})},pM=()=>{const t=Yc(),e=hm();return P.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),C.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",children:[C.jsx(ed,{variant:"broken",className:"w-20 h-20 mb-8 opacity-0 animate-fade-in"}),C.jsx("h1",{className:"text-2xl md:text-3xl font-playfair text-foreground mb-4 text-center opacity-0 animate-fade-in",style:{animationDelay:"150ms"},children:"This place doesn't exist yet."}),C.jsx("p",{className:"text-muted-foreground font-playfair italic text-center mb-8 max-w-md opacity-0 animate-fade-in",style:{animationDelay:"300ms"},children:"You might've taken a wrong turn, but don't worry, let's get you back to AMOM!"}),C.jsx("button",{onClick:()=>t("/map"),className:"amom-button opacity-0 animate-fade-in",style:{animationDelay:"450ms"},children:"Return to the map"})]})},mM=new FL,gM=()=>C.jsx(WL,{client:mM,children:C.jsx(vL,{children:C.jsxs(v2,{children:[C.jsx(eP,{}),C.jsx(AP,{}),C.jsxs(jO,{children:[C.jsxs(NO,{children:[C.jsx(ya,{path:"/",element:C.jsx(_2,{})}),C.jsx(ya,{path:"/map",element:C.jsx(zN,{})}),C.jsx(ya,{path:"/auth",element:C.jsx(fM,{})}),C.jsx(ya,{path:"*",element:C.jsx(pM,{})})]}),C.jsxs("div",{className:"fixed bottom-2 left-2 text-xs text-white/90 z-[1002] bg-slate-700/80 px-2 py-1 rounded",children:[" ",C.jsx("a",{href:"https://www.linkedin.com/in/adilsukumar",target:"_blank",rel:"noopener noreferrer",className:"hover:underline hover:text-white",children:"Adil Sukumar"})]})]})]})})});kw(document.getElementById("root")).render(C.jsx(gM,{}));
